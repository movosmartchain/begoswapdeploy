"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8460],{41725:function(c,b,a){var d=a(26042),e=a(69396),f=a(85893);a(67294);var g=a(17058);b.Z=function(a){return(0,f.jsx)(g.Z,(0,e.Z)((0,d.Z)({width:16,height:16,viewBox:"0 0 16 16",fill:"none"},a),{children:(0,f.jsx)("path",{d:"M11.3933 3.03997C10.9266 2.35331 10.3933 1.71331 9.79329 1.13997C9.55996 0.913306 9.16663 1.12664 9.23329 1.44664C9.35996 2.07331 9.49329 2.89997 9.49329 3.63997C9.49329 5.01331 8.59329 6.12664 7.21996 6.12664C6.19329 6.12664 5.35329 5.50664 4.98663 4.61997C4.91996 4.48664 4.89329 4.40664 4.85329 4.25997C4.77996 3.97997 4.41329 3.89331 4.25329 4.13997C4.13329 4.31997 4.01996 4.49997 3.91329 4.69331C3.11996 6.05331 2.66663 7.63997 2.66663 9.33331C2.66663 12.28 5.05329 14.6666 7.99996 14.6666C10.9466 14.6666 13.3333 12.28 13.3333 9.33331C13.3333 7.00664 12.6133 4.84664 11.3933 3.03997ZM7.80663 12.6666C6.61996 12.6666 5.65996 11.7333 5.65996 10.5733C5.65996 9.49331 6.35996 8.73331 7.53329 8.49331C8.51329 8.29331 9.51996 7.87331 10.22 7.21331C10.4066 7.03997 10.7133 7.11997 10.7666 7.36664C10.92 8.04664 11 8.75331 11 9.46664C11.0066 11.2333 9.57329 12.6666 7.80663 12.6666Z",fill:"currentColor"})}))}},79491:function(c,b,a){var d=a(26042),e=a(69396),f=a(85893);a(67294);var g=a(17058);b.Z=function(a){return(0,f.jsx)(g.Z,(0,e.Z)((0,d.Z)({width:16,height:16,viewBox:"0 0 16 16",fill:"none"},a),{children:(0,f.jsx)("path",{d:"M7.99996 11.3334C8.73329 11.3334 9.33329 10.7334 9.33329 10.0001C9.33329 9.26675 8.73329 8.66675 7.99996 8.66675C7.26663 8.66675 6.66663 9.26675 6.66663 10.0001C6.66663 10.7334 7.26663 11.3334 7.99996 11.3334ZM12 5.33342H11.3333V4.00008C11.3333 2.16008 9.83996 0.666748 7.99996 0.666748C6.15996 0.666748 4.66663 2.16008 4.66663 4.00008V5.33342H3.99996C3.26663 5.33342 2.66663 5.93341 2.66663 6.66675V13.3334C2.66663 14.0667 3.26663 14.6667 3.99996 14.6667H12C12.7333 14.6667 13.3333 14.0667 13.3333 13.3334V6.66675C13.3333 5.93341 12.7333 5.33342 12 5.33342ZM5.93329 4.00008C5.93329 2.86008 6.85996 1.93341 7.99996 1.93341C9.13996 1.93341 10.0666 2.86008 10.0666 4.00008V5.33342H5.93329V4.00008ZM12 13.3334H3.99996V6.66675H12V13.3334Z",fill:"currentColor"})}))}},79539:function(c,b,a){var d=a(26042),e=a(69396),f=a(85893);a(67294);var g=a(17058);b.Z=function(a){return(0,f.jsx)(g.Z,(0,e.Z)((0,d.Z)({width:16,height:16,viewBox:"0 0 16 16",fill:"none"},a),{children:(0,f.jsx)("path",{d:"M9.333 2.667l1.527 1.526-1.92 1.92.947.947 1.92-1.92 1.526 1.527v-4h-4zm-2.666 0h-4v4L4.193 5.14l3.14 3.133v5.06h1.334V7.727L5.14 4.193l1.527-1.526z",fill:"currentColor"})}))}},57503:function(c,b,a){var d=a(26042),e=a(69396),f=a(85893);a(67294);var g=a(17058);b.Z=function(a){return(0,f.jsx)(g.Z,(0,e.Z)((0,d.Z)({width:16,height:16,viewBox:"0 0 16 16",fill:"none"},a),{children:(0,f.jsx)("path",{d:"M8 11.333c.733 0 1.333-.6 1.333-1.333S8.733 8.667 8 8.667s-1.333.6-1.333 1.333.6 1.333 1.333 1.333zm4-6h-.667V4a3.335 3.335 0 00-6.666 0h1.266c0-1.14.927-2.067 2.067-2.067 1.14 0 2.067.927 2.067 2.067v1.333H4c-.733 0-1.333.6-1.333 1.334v6.666c0 .734.6 1.334 1.333 1.334h8c.733 0 1.333-.6 1.333-1.334V6.667c0-.734-.6-1.334-1.333-1.334zm0 8H4V6.667h8v6.666z",fill:"currentColor"})}))}},36261:function(j,d,a){a.d(d,{h2:function(){return n},hl:function(){return l},m5:function(){return m}});var k=a(7297),b=a(87379),e=a(7180);function f(){var a=(0,k.Z)(["\n  width: ",";\n  padding: ",";\n  border: ",";\n  border-radius: ",";\n  background-color: ",";\n"]);return f=function(){return a},a}function g(){var a=(0,k.Z)(["\n  border: 1px solid ",";\n  background-color: ",";\n"]);return g=function(){return a},a}function h(){var a=(0,k.Z)(["\n  border: 1px solid ",";\n  background-color: ",";\n"]);return h=function(){return a},a}function i(){var a=(0,k.Z)(["\n  background-color: ",";\n"]);return i=function(){return a},a}var c=(0,b.ZP)(e.Z).withConfig({componentId:"sc-16d204c5-0"})(f(),function(b){var a=b.width;return null!=a?a:"100%"},function(b){var a=b.padding;return null!=a?a:"1.25rem"},function(a){return a.border},function(b){var a=b.borderRadius;return null!=a?a:"16px"},function(a){return a.theme.colors.background});d.ZP=c;var l=(0,b.ZP)(c).withConfig({componentId:"sc-16d204c5-1"})(g(),function(a){return a.theme.colors.cardBorder},function(a){return a.theme.colors.backgroundAlt}),m=(0,b.ZP)(c).withConfig({componentId:"sc-16d204c5-2"})(h(),function(a){return a.theme.colors.cardBorder},function(a){return a.theme.colors.background}),n=(0,b.ZP)(c).withConfig({componentId:"sc-16d204c5-3"})(i(),function(a){return a.theme.colors.dropdown})},14275:function(f,b,a){var g=a(7297),c=a(87379);function d(){var a=(0,g.Z)(["\n  border: 1px solid ",";\n  width: 100%;\n"]);return d=function(){return a},a}var e=c.ZP.hr.withConfig({componentId:"sc-16f56827-0"})(d(),function(a){return a.theme.colors.cardBorder});b.Z=e},41273:function(g,b,a){a.d(b,{o:function(){return z}});var h=a(47568),i=a(10253),c=a(34051),j=a.n(c),d=a(2593),k=a(20335),l=a(21046),e=a(79833),m=a.n(e),n=a(37519),o=a(84951),p=a(67294),q=a(23637),r=a(49770),f=a(96273),s=a(35128),t=a(9070),u=a(41144),v=(0,f.Oc)(),w=d.O$.from("1000000000000"),x=function(a,b,c){return k.xs.from(a).mulUnsafe(k.xs.from(Math.max(b,0))).divUnsafe(k.xs.from(c)).divUnsafe(k.xs.from(w))},y=function(a,b){return k.xs.from(a).mulUnsafe(b.addUnsafe(k.xs.from("1")))};function z(){var z=arguments.length>0&& void 0!==arguments[0]?arguments[0]:{},c=z.duration,A=void 0===c?t.VO:c,a=(0,q.Xo)(),d=a.totalShares,B=void 0===d?s.HW:d,e=a.pricePerFullShare,C=void 0===e?s.HW:e,f=a.fees,D=(void 0===f?{performanceFeeAsDecimal:2}:f).performanceFeeAsDecimal,E=(0,p.useMemo)(function(){return k.xs.from(B.toString())},[B]),F=(0,p.useMemo)(function(){return k.xs.from(C.toString())},[C]),G=(0,r.Z)("masterChef-total-cake-pool-emission",(0,h.Z)(j().mark(function a(){var b,c,d,e,f,g,h,l;return j().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return b=[{address:v,name:"begoPerBlock",params:[!1]},{address:v,name:"poolInfo",params:[0]},{address:v,name:"totalSpecialAllocPoint"},],a.t0=i.Z,a.next=4,(0,u.v)(o,b);case 4:return a.t1=a.sent,c=(0,a.t0)(a.t1,3),e=(d=(0,i.Z)(c[0],1))[0],f=c[1],g=(0,i.Z)(c[2],1),h=g[0],l=k.xs.from(f.allocPoint).divUnsafe(k.xs.from(h)),a.abrupt("return",k.xs.from(e).mulUnsafe(k.xs.from(n.Bi)).mulUnsafe(l));case 13:case"end":return a.stop()}},a)}))).data,b=(0,p.useMemo)(function(){var a,b,c;return G&&!F.isZero()&&!E.isZero()&&(a=G,b=F,c=E,a.mulUnsafe(k.xs.from(l.Ce)).divUnsafe(b).divUnsafe(c).mulUnsafe(k.xs.from(100))).toString()},[F,G,E]),g=(0,p.useMemo)(function(){return x(t.xt,A,t.A0)},[A]),H=(0,p.useMemo)(function(){return b&&y(b,g).toString()},[g,b]),w=(0,p.useCallback)(function(a){return x(t.xt,a,t.A0)},[]),I=(0,p.useMemo)(function(){if(b&&D){var a=m()(1-D/100);return k.xs.from(b).mulUnsafe(k.xs.from(a)).toString()}return b},[b,D]);return{flexibleApy:I,lockedApy:H,getLockedApy:(0,p.useCallback)(function(a){return b&&y(b,w(a)).toString()},[b,w]),boostFactor:(0,p.useMemo)(function(){return g.addUnsafe(k.xs.from("1"))},[g]),getBoostFactor:(0,p.useCallback)(function(a){return w(a).addUnsafe(k.xs.from("1"))},[w])}}},23637:function(l,e,a){a.d(e,{Xo:function(){return P},YX:function(){return M},FM:function(){return O},dd:function(){return S},cq:function(){return R},AI:function(){return K},l7:function(){return N},f6:function(){return L},eB:function(){return Q}});var m,n=a(47568),f=a(34051),o=a.n(f),p=a(67294),q=a(77044),r=a(9473),s=a(31318),t=a(27892),g=a(81115),h=a(9070),u=a(98276),c=a(45101),v=a(36393),w=a(26042),x=a(69396),y=a(29815),i=a(44431),z=a.n(i),A=a(35128),b=a(68697),B=a(89713),C=a(17101),j=function(a){return a.pools.userDataLoaded},D=function(a){var c;return(0,b.P1)([(c=a,function(a){return a.pools.data.find(function(a){return a.sousId===c})}),j],function(a,b){return{pool:(0,B.xK)(a),userDataLoaded:b}})},k=(0,b.P1)([function(a){return a.pools.data},j],function(a,b){return{pools:a.map(B.xK),userDataLoaded:b}}),d=function(a){var c;return(0,b.P1)([(c=a,function(a){return c?a.pools[c]:u.XW})],function(b){return(0,B.LJ)(a,b)})},E=(0,b.P1)([k,d(c.om.CakeVault),d(c.om.CakeFlexibleSideVault),],function(e,b,d){var f=e.pools,g=e.userDataLoaded,a=f.find(function(a){return!a.isFinished&&0===a.sousId}),h=f.filter(function(a){return 0!==a.sousId}),i=(0,x.Z)((0,w.Z)({},a,b),{vaultKey:c.om.CakeVault,userData:(0,w.Z)({},a.userData,b.userData)}),j=(0,C.cP)(b.userData),k=d.userData.userShares.gt(0),l=j>C.PS.Flexible||k?[(0,x.Z)((0,w.Z)({},a,d),{vaultKey:c.om.CakeFlexibleSideVault,userData:(0,w.Z)({},a.userData,d.userData)}),]:[];return{pools:[i].concat((0,y.Z)(l),(0,y.Z)(h)),userDataLoaded:g}}),F=(0,b.P1)([function(a){return null!==(m=a.pools.ifo.credit)&& void 0!==m?m:A.HW}],function(a){return new(z())(a)}),G=(0,b.P1)([function(a){return a.pools.ifo}],function(a){return new(z())(a.ceiling)}),H=h.$$.filter(function(a){return 0!==a.sousId}).map(function(a){return a.earningToken.address}),I=g.Z.filter(function(a){var b=a.token,c=a.pid,d=a.quoteToken;return 0!==c&&("BUSD"===b.symbol&&"WMOVO"===d.symbol||H.find(function(a){return a===b.address}))}).map(function(a){return a.pid}),J=function(){var a=(0,s.TL)();(0,t.X)(function(c){var b;(b=(0,n.Z)(o().mark(function b(){return o().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,a((0,v.eG)(I));case 2:(0,r.dC)(function(){a((0,u.ht)(c)),a((0,u.E$)())});case 3:case"end":return b.stop()}},b)})),function(){return b.apply(this,arguments)})()},[a])},K=function(a){var b=(0,p.useMemo)(function(){return D(a)},[a]);return(0,r.v9)(b)},L=function(){return(0,r.v9)(E)},M=function(a){var c=(0,p.useMemo)(function(){var c;return c=a,(0,b.P1)(E,function(a){return a.pools.find(function(a){return a.vaultKey===c})})},[a]);return(0,r.v9)(c)},N=function(){var b=(0,q.Ge)().account,a=(0,s.TL)();J(),(0,t.a)(function(){(0,r.dC)(function(){a((0,u.P4)()),a((0,u.i)()),a((0,u.aG)()),b&&(a((0,u.XK)(b)),a((0,u.x$)({account:b})),a((0,u.dU)({account:b})))})},[b,a]),(0,p.useEffect)(function(){(0,r.dC)(function(){a((0,u.HX)()),a((0,u.qd)())})},[a])},O=function(){var b=(0,q.Ge)().account,a=(0,s.TL)();(0,t.a)(function(){(0,r.dC)(function(){a((0,u.P4)()),a((0,u.aG)()),b&&(a((0,u.XK)(b)),a((0,u.x$)({account:b})),a((0,u.Ck)(b)))})},[a,b]),(0,p.useEffect)(function(){a((0,u.HX)())},[a])},P=function(){return Q(c.om.CakeVault)},Q=function(a){var b=(0,p.useMemo)(function(){return d(a)},[a]);return(0,r.v9)(b)},R=function(){return(0,r.v9)(F)},S=function(){return(0,r.v9)(G)}},17101:function(e,d,b){b.d(d,{IM:function(){return g},PS:function(){return c},cP:function(){return k},p1:function(){return h}});var c,a,f=b(9070),g=function(b){var a=b.userShares;return a&&a.gt(0)},h=function(a){var b=a.userShares,c=a.locked;return g({userShares:b})&&Boolean(c)},i=function(b){var c=b.userShares,d=b.locked,a=b.lockEndTime;return a&&"0"!==a&&h({userShares:c,locked:d})&&Date.now()>=1e3*parseInt(a)&&Date.now()<=new Date(1e3*parseInt(a)).getTime()+1e3*f.by},j=function(a){var c=a.userShares,d=a.locked,b=a.lockEndTime;return b&&"0"!==b&&h({userShares:c,locked:d})&&Date.now()>new Date(1e3*parseInt(b)).getTime()+1e3*f.by};(a=c||(c={}))[a.None=0]="None",a[a.Flexible=1]="Flexible",a[a.Locked=2]="Locked",a[a.LockedEnd=3]="LockedEnd",a[a.AfterBurning=4]="AfterBurning";var k=function(a){return j(a)?c.AfterBurning:i(a)?c.LockedEnd:h(a)?c.Locked:g(a)?c.Flexible:c.None}},14011:function(c,b,a){a.d(b,{At:function(){return g},Ch:function(){return e},Eg:function(){return f}});var d=a(91713),e=function(a){return Math.floor(a/86400)},f=function(a){return 1e3*parseInt(a)},g=function(a){var b=new Date(a);return new Date>b||!Number.isFinite(a)?"0 seconds":(0,d.Z)(b)}},67802:function(g,b,a){var h=a(26042),i=a(69396),j=a(99534),k=a(10253),l=a(7297),m=a(85893),c=a(87379),d=a(4318),n=a(65528),o=a(96293),p=a(47509),q=a(97114),r=a(84091),s=a(61102),t=a(20922),u=a(99150),e=a(44431),v=a.n(e),w=a(35128),x=a(9070),y=a(37063),z=a(53136);function f(){var a=(0,l.Z)(["\n  &:hover {\n    opacity: 0.5;\n  }\n"]);return f=function(){return a},a}var A=(0,c.ZP)(d.Z).withConfig({componentId:"sc-11c37088-0"})(f());b.Z=function(b){var f,g,a=b.pool,G=b.showIcon,H=b.stakedBalance,B=b.fontSize,C=b.performanceFee,I=(0,j.Z)(b,["pool","showIcon","stakedBalance","fontSize","performanceFee"]),c=a.stakingToken,J=a.earningToken,d=a.isFinished,K=a.earningTokenPrice,L=a.stakingTokenPrice,l=a.userData,e=a.apr,M=a.rawApr,D=a.vaultKey,N=(0,u.$G)().t,O=(0,y.je)(),E=(0,z.zy)(a,O),P=E.shouldShowBlockCountdown,Q=E.hasPoolStarted,R=(null==l?void 0:l.stakingTokenBalance)?new(v())(l.stakingTokenBalance):w.HW,S=c.address?"/swap?outputCurrency=".concat(c.address):"/swap",T=(0,k.Z)((0,n.Z)((0,m.jsx)(s.Z,{earningTokenPrice:K,stakingTokenPrice:L,stakingTokenBalance:H.plus(R),apr:D?M:e,stakingTokenSymbol:c.symbol,linkLabel:N("Get %symbol%",{symbol:c.symbol}),linkHref:S,earningTokenSymbol:J.symbol,autoCompoundFrequency:null!==(g=null===(f=x.Y4[D])|| void 0===f?void 0:f.autoCompoundFrequency)&& void 0!==g?g:0,performanceFee:void 0===C?0:C})),1),V=T[0],F=function(a){a.stopPropagation(),V()},U=void 0!==e&&!Number.isNaN(e);return(0,m.jsx)(A,(0,i.Z)((0,h.Z)({alignItems:"center",justifyContent:"flex-start"},I),{children:U||d?(0,m.jsx)(m.Fragment,{children:Q||!P?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(t.s,{onClick:F,fontSize:void 0===B?"16px":B,isDisabled:d,value:d?0:e,decimals:2,unit:"%"}),!d&&G&&(0,m.jsx)(o.Z,{onClick:F,variant:"text",width:"20px",height:"20px",padding:"0px",marginLeft:"4px",children:(0,m.jsx)(p.Z,{color:"textSubtle",width:"20px"})})]}):(0,m.jsx)(q.Z,{children:"-"})}):(0,m.jsx)(r.Z,{width:"80px",height:"16px"})}))}},37528:function(c,b,a){var d=a(85893),e=a(97114),f=a(99150),g=a(76972),h=a(23637),i=a(45101),j=a(53136);b.Z=function(l){var k=l.pool,r=l.account,c=(0,f.$G)().t,s=k.earningTokenPrice,m=(0,h.eB)(k.vaultKey),t=m.pricePerFullShare,a=m.userData,n=(0,j.UN)(r,a.cakeAtLastUserAction,a.userShares,t,s,k.vaultKey===i.om.CakeVault?a.currentPerformanceFee.plus(a.currentOverdueFee).plus(a.userBoostedShare):null),o=n.autoCakeToDisplay,p=n.autoUsdToDisplay,q=a.lastUserActionTime?1e3*parseInt(a.lastUserActionTime):0,b=(0,g.Z)(Date.now(),q);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(e.Z,{bold:!0,children:[o.toFixed(3)," CAKE"]}),(0,d.jsxs)(e.Z,{bold:!0,children:["~$",p.toFixed(2)]}),(0,d.jsxs)(e.Z,{children:[c("Earned since your last action"),":"]}),(0,d.jsx)(e.Z,{children:new Date(q).toLocaleString()}),b?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(e.Z,{children:[c("Your average per hour"),":"]}),(0,d.jsx)(e.Z,{bold:!0,children:c("CAKE per hour: %amount%",{amount:(b?o/b:0).toFixed(2)})}),(0,d.jsx)(e.Z,{bold:!0,children:c("per hour: ~$%amount%",{amount:(b?p/b:0).toFixed(2)})})]}):null]})}},21754:function(c,b,a){a.d(b,{Z:function(){return r}});var d=a(85893),e=a(36544),f=a(97114),g=a(4318),h=a(17634),i=a(99150),j=a(77044),k=a(99119),l=a(13882),m=a(36948),n=a(23637),o=a(14011),p=a(87218),q=function(b){var c=b.secondsRemaining,e=(0,i.$G)().t,a=(0,p.Z)(c),g=a.days,h=a.hours,j=a.minutes;return(0,d.jsx)(f.Z,{bold:!0,fontSize:"14px",children:e("%day%d:%hour%h:%minute%m",{day:g,hour:h,minute:j})})},r=function(r){var s=r.isTableVariant,C=r.vaultKey,a=(0,i.$G)().t,D=(0,j.Ge)().account,t=(0,n.eB)(C),u=t.userData,c=u.lastDepositedTime,v=u.userShares,w=t.fees,E=w.withdrawalFee,b=w.withdrawalFeePeriod,x=E/100||"-",F=b?(0,o.Ch)(b):"-",p=(0,e.Z)((0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(f.Z,{bold:!0,mb:"4px",children:a("Unstaking fee: %fee%%",{fee:x})}),(0,d.jsx)(f.Z,{children:a("Only applies within %num% days of staking. Unstaking after %num% days will not include a fee. Timer resets every time you stake new CAKE in the pool.",{num:F})})]}),{placement:"bottom-start"}),G=p.targetRef,H=p.tooltip,I=p.tooltipVisible,y=(0,k.Z)(parseInt(c,10),v,b),J=y.secondsRemaining,z=y.hasUnstakingFee,A=c&&!z&&v.gt(0),B=D&&c&&z,K=b?function(a){return(0,l.Z)(1,arguments),Math.floor(a/m.R3)}(b):"-";return(0,d.jsxs)(g.Z,{alignItems:s?"flex-start":"center",justifyContent:"space-between",flexDirection:s?"column":"row",children:[I&&H,(0,d.jsxs)(h.Z,{ref:G,small:!0,textTransform:"lowercase",children:[A?"0":x,"% ",A?a("Unstaking Fee"):B?a("unstaking fee before"):a("unstaking fee if withdrawn within %num%h",{num:K})]}),B&&(0,d.jsx)(q,{secondsRemaining:J})]})}},86487:function(l,c,a){a.d(c,{Z:function(){return ae}});var m=a(47568),n=a(7297),o=a(29815),d=a(34051),p=a.n(d),q=a(85893),r=a(67294),b=a(87379),e=a(96293),f=a(4318),g=a(97114),s=a(90452),t=a(91186),u=a(64366),v=a(59739),w=a(5527),x=a(47509),y=a(84091),z=a(7180),A=a(19729),B=a(99150),C=a(77044),D=a(31318),E=a(17166),F=a(23637),G=a(41273),H=a(5039),I=a(23917),J=a(99119),h=a(44431),K=a.n(h),L=a(65044),M=a(789),N=a(71418),O=a(98276),P=a(45101),Q=a(43452),R=a(63964),S=a(9070),T=a(71228),U=a(44356),V=a(86082),W=a(24416),X=a(36544),Y=a(17634),Z=a(14011),$=a(21754),_=function(a){var m=a.stakingTokenSymbol,e=a.stakeAmount,h=a.vaultKey,b=(0,B.$G)().t,i=(0,F.eB)(h),j=i.fees,n=j.withdrawalFee,c=j.withdrawalFeePeriod,k=i.userData.lastDepositedTime,l=n/100,o=(parseFloat(e)*(l/100)).toFixed(4),p=c?(0,Z.Ch)(c):"-",d=(0,X.Z)((0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(g.Z,{bold:!0,mb:"4px",children:b("Unstaking fee: %fee%%",{fee:l})}),(0,q.jsx)(g.Z,{children:b("Only applies within %num% days of staking. Unstaking after %num% days will not include a fee. Timer resets every time you stake new CAKE in the pool.",{num:p})})]}),{placement:"top-start"}),r=d.targetRef,s=d.tooltip,t=d.tooltipVisible,u=k&&(0,J.D)(parseInt(k,10),c);return(0,q.jsxs)(q.Fragment,{children:[(0,q.jsxs)(f.Z,{mt:"24px",alignItems:"center",justifyContent:"space-between",children:[t&&s,(0,q.jsx)(Y.Z,{ref:r,small:!0,children:b("Unstaking Fee")}),(0,q.jsxs)(g.Z,{fontSize:"14px",children:[e&&u?o:"-"," ",m]})]}),(0,q.jsx)($.Z,{vaultKey:h})]})},aa=a(53136);function i(){var a=(0,n.Z)(["\n  flex-grow: 1;\n"]);return i=function(){return a},a}function j(){var a=(0,n.Z)(["\n  cursor: pointer;\n"]);return j=function(){return a},a}function k(){var a=(0,n.Z)(["\n  width: 72px;\n  max-width: 72px;\n  overflow: hidden;\n  text-align: right;\n  text-overflow: ellipsis;\n"]);return k=function(){return a},a}var ab=(0,b.ZP)(e.Z).withConfig({componentId:"sc-abf87d51-0"})(i()),ac=(0,b.ZP)(f.Z).withConfig({componentId:"sc-abf87d51-1"})(j()),ad=(0,b.ZP)(g.Z).withConfig({componentId:"sc-abf87d51-2"})(k()),ae=function(h){var am,an,ao,c=h.pool,j=h.stakingMax,Z=h.performanceFee,$=h.isRemovingStake,i=void 0!==$&&$,ap=h.onDismiss,aG=(0,D.TL)(),a=c.stakingToken,aq=c.earningTokenPrice,ar=c.vaultKey,aH=(0,C.Ge)().account,ae=(0,N.Z)(),aI=ae.fetchWithCatchTxError,l=ae.loading,aJ=(0,H.Ak)(c.vaultKey),aK=(0,T.d)().callWithGasPrice,as=(0,F.eB)(c.vaultKey),n=as.userData,at=n.lastDepositedTime,au=n.userShares,af=n.balance,av=af.cakeAsBigNumber,ag=af.cakeAsNumberBalance,b=(0,B.$G)().t,aw=(0,I.ZP)().theme,aL=(0,M.Z)().toastSuccess,ah=(0,r.useState)(""),d=ah[0],aM=ah[1],ai=(0,r.useState)(0),aj=ai[0],aN=ai[1],ak=(0,r.useState)(!1),ax=ak[0],aO=ak[1],ay=(0,J.Z)(parseInt(at,10),au).hasUnstakingFee,X=(0,E.Iu)(),Y=new(K())(d).times(X),az=X.gt(0)&&d?(0,L.uf)(Y.toNumber()):"",aA=(0,G.o)().flexibleApy,aP={gasLimit:S.Y4[c.vaultKey].gasLimit},aB=(0,Q.A1)({principalInUSD:Y.isNaN()?0:Y.toNumber(),apr:+aA,earningTokenPrice:aq,performanceFee:Z,compoundFrequency:0}),k=aB[3]*c.earningTokenPrice,aC=(0,L.uf)(k,k>1e4?0:2,k>1e4?0:2),al=a.address?"/swap?outputCurrency=".concat(a.address):"/swap",aD=(0,L.Qe)(new(K())(d),a.decimals),aE=(0,r.useCallback)(function(b){if(b>0){var c=j.dividedBy(100).multipliedBy(b),d=(0,L.NJ)(c,a.decimals,a.decimals);aM(d)}else aM("");aN(b)},[j,a.decimals]),aQ=(am=(0,m.Z)(p().mark(function a(){var c,d;return p().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return c=j.minus(aD).lte(aa.dF),a.next=3,aI(function(){return c?aK(aJ,"withdrawAll",void 0,aP):aK(aJ,"withdrawByAmount",[aD.toString()],aP)});case 3:(null==(d=a.sent)?void 0:d.status)&&(aL(b("Unstaked!"),(0,q.jsx)(R.YO,{txHash:d.transactionHash,children:b("Your earnings have also been harvested to your wallet")})),null==ap||ap(),aG((0,O.x$)({account:aH})));case 5:case"end":return a.stop()}},a)})),function(){return am.apply(this,arguments)}),aR=(an=(0,m.Z)(p().mark(function a(){var d,e,f=arguments;return p().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return d=f.length>0&& void 0!==f[0]?f[0]:0,a.next=3,aI(function(){var a=c.vaultKey===P.om.CakeVault?[d.toString()]:[],b=[aD.toString()].concat((0,o.Z)(a));return aK(aJ,"deposit",b,aP)});case 3:(null==(e=a.sent)?void 0:e.status)&&(aL(b("Staked!"),(0,q.jsx)(R.YO,{txHash:e.transactionHash,children:b("Your funds have been staked in the pool")})),null==ap||ap(),aG((0,O.x$)({account:aH})));case 5:case"end":return a.stop()}},a)})),function(){return an.apply(this,arguments)}),aF=(ao=(0,m.Z)(p().mark(function a(){return p().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:i?aQ():aR();case 1:case"end":return a.stop()}},a)})),function(){return ao.apply(this,arguments)});return ax?(0,q.jsx)(V.E,{pool:c,linkLabel:b("Get %symbol%",{symbol:a.symbol}),linkHref:al,stakingTokenBalance:av.plus(j),onBack:function(){return aO(!1)},initialValue:d,performanceFee:Z}):(0,q.jsxs)(s.Z,{title:i?b("Unstake"):b("Stake in Pool"),onDismiss:ap,headerBackground:aw.colors.gradients.cardHeader,children:[(0,q.jsxs)(f.Z,{alignItems:"center",justifyContent:"space-between",mb:"8px",children:[(0,q.jsxs)(g.Z,{bold:!0,children:[i?b("Unstake"):b("Stake"),":"]}),(0,q.jsxs)(f.Z,{alignItems:"center",minWidth:"70px",children:[(0,q.jsx)(t.Z,{src:"/images/tokens/".concat(a.address,".png"),width:24,height:24,alt:a.symbol}),(0,q.jsx)(g.Z,{ml:"4px",bold:!0,children:a.symbol})]})]}),(0,q.jsx)(u.Z,{value:d,onUserInput:function(b){if(b){var c=Math.floor(new(K())(b).multipliedBy((0,U.t)(a.decimals)).dividedBy(j).multipliedBy(100).toNumber());aN(c>100?100:c)}else aN(0);aM(b)},currencyValue:X.gt(0)&&"~".concat(az||0," USD"),decimals:a.decimals}),(0,q.jsx)(g.Z,{mt:"8px",ml:"auto",color:"textSubtle",fontSize:"12px",mb:"8px",children:b("Balance: %balance%",{balance:(0,L.NJ)(j,a.decimals)})}),(0,q.jsx)(v.Z,{min:0,max:100,value:aj,onValueChanged:aE,name:"stake",valueLabel:"".concat(aj,"%"),step:1}),(0,q.jsxs)(f.Z,{alignItems:"center",justifyContent:"space-between",mt:"8px",children:[(0,q.jsx)(ab,{scale:"xs",mx:"2px",p:"4px 16px",variant:"tertiary",onClick:function(){return aE(25)},children:"25%"}),(0,q.jsx)(ab,{scale:"xs",mx:"2px",p:"4px 16px",variant:"tertiary",onClick:function(){return aE(50)},children:"50%"}),(0,q.jsx)(ab,{scale:"xs",mx:"2px",p:"4px 16px",variant:"tertiary",onClick:function(){return aE(75)},children:"75%"}),(0,q.jsx)(ab,{scale:"xs",mx:"2px",p:"4px 16px",variant:"tertiary",onClick:function(){return aE(100)},children:b("Max")})]}),i&&ay&&(0,q.jsx)(_,{vaultKey:ar,stakingTokenSymbol:a.symbol,stakeAmount:d}),!i&&(0,q.jsxs)(f.Z,{mt:"24px",alignItems:"center",justifyContent:"space-between",children:[(0,q.jsxs)(g.Z,{mr:"8px",color:"textSubtle",children:[b("Annual ROI at current rates"),":"]}),Number.isFinite(k)?(0,q.jsxs)(ac,{alignItems:"center",onClick:function(){aO(!0)},children:[(0,q.jsxs)(ad,{children:["$",aC]}),(0,q.jsx)(w.Z,{variant:"text",scale:"sm",children:(0,q.jsx)(x.Z,{color:"textSubtle",width:"18px"})})]}):(0,q.jsx)(y.Z,{width:60})]}),c.vaultKey===P.om.CakeVault&&ag?(0,q.jsx)(z.Z,{mt:"8px",maxWidth:"370px",children:(0,q.jsx)(W.Z,{stakingToken:a,currentStakedAmount:ag})}):null,(0,q.jsx)(e.Z,{isLoading:l,endIcon:l?(0,q.jsx)(A.Z,{spin:!0,color:"currentColor"}):null,onClick:aF,disabled:!d||0===parseFloat(d)||j.lt(aD),mt:"24px",children:l?b("Confirming"):b("Confirm")}),!i&&(0,q.jsx)(e.Z,{mt:"8px",as:"a",external:!0,href:al,variant:"secondary",children:b("Get %symbol%",{symbol:a.symbol})})]})}},90706:function(f,b,a){a.d(b,{Z:function(){return J}});var g=a(10253),h=a(85893),c=a(67294),i=a(65528),j=a(96293),k=a(84091),l=a(99150),m=a(23637),n=a(11699),o=a(14011),p=a(67334),q=a(4318),r=a(19731),s=a(97114),t=a(90452),u=a(7180),d=a(50308),v=a.n(d),e=a(44431),w=a.n(e),x=a(23917),y=a(90834),z=a(65044),A=a(9070),B=a(35128),C=a(37972),D=a(24594),E=a(84548),F=a(1195),G=function(a){var d=a.setCheckedState,b=a.checkedState,c=(0,l.$G)().t;return(0,h.jsxs)(h.Fragment,{children:[!b&&(0,h.jsx)(p.Z,{variant:"warning",mb:"16px",children:(0,h.jsx)(p.Y,{maxWidth:"320px",children:c("Adding more CAKE will renew your lock, setting it to remaining duration. Due to shorter lock period, benefits decrease. To keep similar benefits, extend your lock.")})}),(0,h.jsxs)(q.Z,{alignItems:"center",children:[(0,h.jsx)(r.Z,{checked:b,onChange:function(){return d(function(a){return!a})},scale:"sm"}),(0,h.jsx)(s.Z,{ml:"8px",color:"text",children:c("Renew and extend your lock to keep similar benefits.")})]})]})},H=function(a){var i=a.onDismiss,j=a.currentBalance,k=a.currentLockedAmount,b=a.stakingToken,I=a.lockStartTime,p=a.lockEndTime,J=a.stakingTokenBalance,K=(0,x.ZP)().theme,L=(0,m.dd)(),q=(0,c.useState)(""),d=q[0],M=q[1],r=(0,c.useState)(!1),e=r[0],N=r[1],O=(0,l.$G)().t,f=Number.isNaN(new(w())(d).toNumber())?B.HW:new(w())(d),s=(0,z.mW)(k.plus((0,z.Qe)(f))),P=(0,z.U4)(k),Q=(0,y.Tx)(f.toNumber()),R=(0,y.Tx)(s),g=(0,n.Z)(new Date((0,o.Eg)(p)),new Date,{roundingMethod:"ceil"}),S=(0,n.Z)(new Date,new Date((0,o.Eg)(I)),{roundingMethod:"ceil"}),H=Math.max(A.kp+60,g+S),T=(0,c.useCallback)(function(){return{finalDuration:e?H-g:0}},[H,e,g]),U=(0,c.useCallback)(function(){return(0,h.jsx)(F.Z,{isValidDuration:!0,openCalculator:v(),duration:g,newDuration:e?H:null,lockedAmount:P.toNumber(),newLockedAmount:s,usdValueStaked:R,lockEndTime:p,ceiling:L})},[g,e,P,H,s,R,p,L,]);return(0,h.jsx)(C.Z,{lockedAmount:d,children:(0,h.jsxs)(t.Z,{style:{maxWidth:"420px"},title:O("Add CAKE"),onDismiss:i,headerBackground:K.colors.gradients.cardHeader,children:[(0,h.jsx)(u.Z,{mb:"16px",children:(0,h.jsx)(D.Z,{stakingAddress:b.address,stakingSymbol:b.symbol,stakingDecimals:b.decimals,lockedAmount:d,usedValueStaked:Q,stakingMax:j,setLockedAmount:M,stakingTokenBalance:J})}),(0,h.jsx)(E.Z,{currentBalance:j,stakingToken:b,onDismiss:i,lockedAmount:f,editAmountOnly:(0,h.jsx)(G,{checkedState:e,setCheckedState:N}),prepConfirmArg:T,customOverview:U})]})})},I=a(67576),J=(0,c.memo)(function(a){var b=a.currentBalance,d=a.stakingToken,e=a.currentLockedAmount,f=a.lockEndTime,n=a.lockStartTime,o=a.stakingTokenBalance,p=(0,m.AI)(0),q=p.pool.userDataLoaded,r=(0,l.$G)().t,s=(0,g.Z)((0,i.Z)((0,h.jsx)(H,{currentLockedAmount:e,currentBalance:b,stakingToken:d,lockStartTime:n,lockEndTime:f,stakingTokenBalance:o}),!0,!0,"AddAmountModal"),1),t=s[0],u=(0,g.Z)((0,i.Z)((0,h.jsx)(I.Z,{tokenSymbol:d.symbol})),1),v=u[0],w=(0,c.useCallback)(function(){return b.gt(0)?t():v()},[b,t,v]);return q?(0,h.jsx)(j.Z,{onClick:w,width:"100%",children:r("Add CAKE")}):(0,h.jsx)(k.Z,{height:48})})},28353:function(e,b,a){a.d(b,{Z:function(){return I}});var f=a(26042),g=a(69396),h=a(99534),i=a(10253),j=a(85893),k=a(67294),l=a(65528),m=a(96293),n=a(9070),o=a(90452),p=a(7180),c=a(50308),q=a.n(c),r=a(23917),s=a(90834),t=a(99150),d=a(44431),u=a.n(d),v=a(23637),w=a(65044),x=a(97114),y=a(4318),z=a(91186),A=a(20922),B=a(14275),C=function(a){var b=a.stakingSymbol,c=a.stakingAddress,d=a.lockedAmount,e=a.usdValueStaked,f=(0,t.$G)().t;return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(x.Z,{color:"textSubtle",textTransform:"uppercase",bold:!0,fontSize:"12px",children:f("Add CAKE to lock")}),(0,j.jsxs)(y.Z,{alignItems:"center",justifyContent:"space-between",mb:"16px",children:[(0,j.jsxs)(p.Z,{children:[(0,j.jsx)(A.s,{color:"text",bold:!0,fontSize:"16px",value:d,decimals:2}),(0,j.jsx)(A.s,{value:e,fontSize:"12px",color:"textSubtle",decimals:2,prefix:"~",unit:" USD"})]}),(0,j.jsxs)(y.Z,{alignItems:"center",minWidth:"70px",children:[(0,j.jsx)(z.Z,{src:"/images/tokens/".concat(c,".png"),width:24,height:24,alt:b}),(0,j.jsx)(x.Z,{ml:"4px",bold:!0,children:b})]})]}),(0,j.jsx)(B.Z,{})]})},D=a(84548),E=a(1195),F=a(37972),G=a(53136),H=function(a){var h=a.modalTitle,c=a.stakingToken,f=a.onDismiss,b=a.currentLockedAmount,d=a.currentDuration,e=a.currentDurationLeft,i=a.currentBalance,l=a.lockStartTime,m=(0,r.ZP)().theme,x=(0,v.dd)(),y=(0,t.$G)().t,g=(0,s.Tx)(b),z=(0,k.useCallback)(function(d){var c=d.duration,a=e+c;return{isValidAmount:b&&b>0,isValidDuration:c>0&&a>0&&a<=n.VO,isOverMax:a>n.VO}},[b,e]),A=(0,k.useCallback)(function(b){var a=b.duration;return{finalDuration:a,finalLockedAmount:d&&d+a>n.VO?(0,w.U4)(G.iL,c.decimals).toNumber():0}},[c.decimals,d]),B=(0,k.useCallback)(function(c){var f=c.isValidDuration,a=c.duration;return(0,j.jsx)(E.Z,{lockStartTime:d+a>n.VO?Math.floor(Date.now()/1e3).toString():l,isValidDuration:f,openCalculator:q(),duration:d||a,newDuration:d+a>n.VO?e+a:d+a,lockedAmount:b,usdValueStaked:g,showLockWarning:!+l,ceiling:x})},[l,d,b,e,g,x]);return(0,j.jsx)(F.Z,{lockedAmount:b,children:(0,j.jsxs)(o.Z,{title:h||y("Extend Lock"),onDismiss:f,headerBackground:m.colors.gradients.cardHeader,children:[(0,j.jsx)(p.Z,{mb:"16px",children:(0,j.jsx)(C,{stakingAddress:c.address,stakingSymbol:c.symbol,lockedAmount:b,usdValueStaked:g})}),(0,j.jsx)(D.Z,{stakingToken:c,currentBalance:i,currentDuration:d,currentDurationLeft:e,onDismiss:f,lockedAmount:new(u())(b),validator:z,prepConfirmArg:A,customOverview:B})]})})},I=function(a){var e=a.modalTitle,o=a.stakingToken,p=a.currentLockedAmount,q=a.currentBalance,c=a.lockEndTime,d=a.lockStartTime,r=a.children,s=(0,h.Z)(a,["modalTitle","stakingToken","currentLockedAmount","currentBalance","lockEndTime","lockStartTime","children"]),t=Math.floor(Date.now()/1e3),u=(0,k.useMemo)(function(){return Number(c)-Number(d)},[c,d]),b=(0,k.useMemo)(function(){return Math.max(Number(c)-t,0)},[c,t]),v=(0,i.Z)((0,l.Z)((0,j.jsx)(H,{modalTitle:e,stakingToken:o,lockStartTime:d,currentBalance:q,currentLockedAmount:p,currentDuration:u,currentDurationLeft:b}),!0,!0,"ExtendDurationModal"),1),w=v[0];return(0,j.jsx)(m.Z,(0,g.Z)((0,f.Z)({disabled:Number.isFinite(b)&&n.VO-b<n.kp,onClick:w,width:"100%"},s),{children:r}))}},39421:function(j,h,a){a.d(h,{Z:function(){return H}});var b,c=a(14924),e=a(85893),f=a(67294),k=a(98946),l=a(4318),m=a(7180),n=a(67334),o=a(99150),g=a(96464),d=a(17101),p=a(47568),q=a(26042),r=a(69396),i=a(34051),s=a.n(i),t=a(96293),u=a(31318),v=a(98276),w=a(789),x=a(71418),y=a(71228),z=a(5039),A=a(77044),B=a(63964),C=a(9070),D=a(45101),E=(0,f.memo)(function(d){var g=(0,u.TL)(),h=(0,A.Ge)().account,b=(0,x.Z)(),i=b.fetchWithCatchTxError,c=b.loading,j=(0,z.Ak)(D.om.CakeVault),k=(0,y.d)().callWithGasPrice,a=(0,o.$G)().t,l=(0,w.Z)().toastSuccess,m=(0,f.useCallback)((0,p.Z)(s().mark(function b(){var c,d;return s().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return c={gasLimit:C.Y4[D.om.CakeVault].gasLimit},b.next=3,i(function(){var a=[h];return k(j,"unlock",a,c)});case 3:(null==(d=b.sent)?void 0:d.status)&&(l(a("Staked!"),(0,e.jsx)(B.YO,{txHash:d.transactionHash,children:a("Your funds have been staked in the pool")})),g((0,v.x$)({account:h})));case 5:case"end":return b.stop()}},b)})),[a,l,h,k,g,i,j]);return(0,e.jsx)(t.Z,(0,r.Z)((0,q.Z)({width:"100%",disabled:c,onClick:m},d),{children:c?a("Converting..."):a("Convert to Flexible")}))}),F=a(28353),G=(b={},(0,c.Z)(b,d.PS.None,null),(0,c.Z)(b,d.PS.Flexible,null),(0,c.Z)(b,d.PS.Locked,null),(0,c.Z)(b,d.PS.LockedEnd,(0,e.jsx)(g.Z,{children:"The lock period has ended. Convert to flexible staking or renew your position to start a new lock staking."})),(0,c.Z)(b,d.PS.AfterBurning,(0,e.jsx)(g.Z,{children:"The lock period has ended. To avoid more rewards being burned, convert to flexible staking or renew your position to start a new lock staking."})),b),H=(0,f.memo)(function(b){var d=b.currentLockedAmount,f=b.stakingToken,g=b.position,h=b.isInline,c=(0,o.$G)().t,i=(0,k.Z)().isDesktop,a=h&&i,j=a?l.Z:m.Z;return(0,e.jsx)(n.Z,{variant:"warning",mb:"16px",action:(0,e.jsxs)(j,{mt:!a&&"8px",ml:"10px",children:[(0,e.jsx)(E,{mb:!a&&"8px",minWidth:a&&"200px",mr:a&&"14px"}),(0,e.jsx)(F.Z,{modalTitle:c("Renew"),lockEndTime:"0",lockStartTime:"0",stakingToken:f,currentLockedAmount:d,minWidth:"186px",children:c("Renew")})]}),actionInline:a,children:(0,e.jsx)(n.Y,{children:G[g]})})})},24594:function(h,b,a){a.d(b,{Z:function(){return v}});var i=a(7297),j=a(85893),c=a(96293),k=a(4318),l=a(97114),m=a(91186),n=a(64366),o=a(59739),d=a(44431),p=a.n(d),q=a(99150),e=a(67294),f=a(87379),r=a(65044),s=a(44356),t=function(a,b){var c=(0,(0,q.$G)().t)("Insufficient CAKE balance");return{userNotEnoughCake:(0,e.useMemo)(function(){return!!new(p())(a).gt((0,r.U4)(b,18))},[a,b]),notEnoughErrorMessage:c}};function g(){var a=(0,i.Z)(["\n  flex-grow: 1;\n"]);return g=function(){return a},a}var u=(0,f.ZP)(c.Z).withConfig({componentId:"sc-d442d011-0"})(g()),v=(0,e.memo)(function(a){var x=a.stakingAddress,g=a.stakingSymbol,b=a.stakingDecimals,c=a.lockedAmount,d=a.stakingMax,h=a.setLockedAmount,y=a.usedValueStaked,z=a.stakingTokenBalance,f=(0,q.$G)().t,i=t(c,z),v=i.userNotEnoughCake,A=i.notEnoughErrorMessage,w=(0,e.useMemo)(function(){var a=new(p())(c);if(a.gt(0)){var e=Math.floor(a.multipliedBy((0,s.t)(b)).dividedBy(d).multipliedBy(100).toNumber());return e>100?100:e}return 0},[c,b,d]),B=(0,e.useCallback)(function(a){h(a)},[h]),C=(0,e.useCallback)(function(a){if(a>0){var c=d.dividedBy(100).multipliedBy(a),e=(0,r.NJ)(c,b,b);h(e)}else h("")},[d,h,b]);return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(k.Z,{alignItems:"center",justifyContent:"space-between",mb:"8px",children:[(0,j.jsx)(l.Z,{color:"textSubtle",textTransform:"uppercase",bold:!0,fontSize:"12px",children:f("CAKE to lock")}),(0,j.jsxs)(k.Z,{alignItems:"center",minWidth:"70px",children:[(0,j.jsx)(m.Z,{src:"/images/tokens/".concat(x,".png"),width:24,height:24,alt:g}),(0,j.jsx)(l.Z,{ml:"4px",bold:!0,children:g})]})]}),(0,j.jsx)(n.Z,{isWarning:v,value:c,onUserInput:B,currencyValue:"~".concat(y||0," USD"),decimals:b}),(0,j.jsx)(k.Z,{alignItems:"center",justifyContent:"flex-end",mt:"4px",mb:"12px",children:(0,j.jsx)(k.Z,{justifyContent:"flex-end",flexDirection:"column",children:v&&(0,j.jsx)(l.Z,{fontSize:"12px",color:"failure",children:A})})}),(0,j.jsx)(l.Z,{mt:"8px",textAlign:"end",color:"textSubtle",fontSize:"12px",mb:"8px",children:f("Balance: %balance%",{balance:(0,r.NJ)(d,b)})}),(0,j.jsx)(o.Z,{min:0,max:100,value:w,onValueChanged:C,name:"stake",valueLabel:"".concat(w,"%"),step:1}),(0,j.jsxs)(k.Z,{alignItems:"center",justifyContent:"space-between",mt:"8px",children:[(0,j.jsx)(u,{scale:"xs",mx:"2px",p:"4px 16px",variant:"tertiary",onClick:function(){return C(25)},children:"25%"}),(0,j.jsx)(u,{scale:"xs",mx:"2px",p:"4px 16px",variant:"tertiary",onClick:function(){return C(50)},children:"50%"}),(0,j.jsx)(u,{scale:"xs",mx:"2px",p:"4px 16px",variant:"tertiary",onClick:function(){return C(75)},children:"75%"}),(0,j.jsx)(u,{scale:"xs",mx:"2px",p:"4px 16px",variant:"tertiary",onClick:function(){return C(100)},children:f("Max")})]})]})})},88028:function(d,b,a){var e=a(85893),c=a(67294),f=a(76159),g=a(87218),h=a(9070),i=a(61973),j=a(11699),k=a(14011);b.Z=(0,c.memo)(function(d){var l=d.lockEndTime,b=(0,c.useState)(0),m=b[0],s=b[1],n=(0,c.useMemo)(function(){return(0,i.Z)((0,k.Eg)(l),h.by)},[l]),o=(0,c.useCallback)(function(){s((0,j.Z)(n,new Date))},[n]);(0,f.Z)(o,6e4);var a=(0,g.Z)(m),p=a.days,q=a.hours,r=a.minutes;return(0,e.jsx)(e.Fragment,{children:"".concat(p,"d: ").concat(q,"h: ").concat(r,"m")})})},24416:function(d,b,a){var e=a(85893),f=a(98946),g=a(67334),h=a(4318),i=a(99150),c=a(67294),j=a(41273),k=a(28353),l=a(65683);b.Z=(0,c.memo)(function(a){var m=a.stakingToken,n=a.currentStakedAmount,o=a.isInline,b=(0,i.$G)().t,p=(0,f.Z)().isMobile,c=o&&!p,q=(0,l.Z)().avgLockDurationsInSeconds,d=(0,j.o)({duration:q}).lockedApy;return(0,e.jsx)(g.Z,{variant:"warning",action:(0,e.jsx)(h.Z,{mt:!c&&"8px",flexGrow:1,ml:c&&"80px",children:(0,e.jsx)(k.Z,{modalTitle:b("Convert to Lock"),lockEndTime:"0",lockStartTime:"0",stakingToken:m,currentLockedAmount:n,children:b("Convert to Lock")})}),actionInline:c,children:(0,e.jsx)(g.Y,{children:b("Lock staking users are earning an average of %amount%% APY. More benefits are coming soon.",{amount:d?parseFloat(d).toFixed(2):0})})})})},99413:function(g,b,a){var h=a(7297),i=a(85893),j=a(67294),c=a(5324),k=a(7180),l=a(4318),m=a(97114),n=a(96293),o=a(67334),d=a(87379),p=a(99150),e=a(14841),q=a.n(e),r=a(9070),s=a(4012);function f(){var a=(0,h.Z)(["\n  text-align: right;\n  margin-right: 8px;\n"]);return f=function(){return a},a}var t=[1,5,10,25],u=(0,d.ZP)(c.Z).withConfig({componentId:"sc-854f767a-0"})(f());b.Z=function(b){var g=b.duration,h=b.setDuration,v=b.isOverMax,w=b.currentDuration,c=b.currentDurationLeft,a=(0,p.$G)().t,e=(0,j.useState)(!1),d=e[0],z=e[1],f=c?r.VO-c:r.VO;(0,j.useEffect)(function(){d&&h(f)},[d,f,h]);var x=(0,j.useMemo)(function(){return w&&(0,s.Ot)(w)},[w]),y=(0,j.useMemo)(function(){return(0,s.Ot)(r.VO)},[]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(k.Z,{mb:"16px",children:[(0,i.jsxs)(l.Z,{mb:"8px",children:[(0,i.jsx)(m.Z,{fontSize:"12px",color:"secondary",bold:!0,mr:"2px",textTransform:"uppercase",children:a("Add")}),(0,i.jsx)(m.Z,{fontSize:"12px",color:"textSubtle",bold:!0,textTransform:"uppercase",children:a("duration")})]}),(0,i.jsxs)(l.Z,{flexWrap:"wrap",children:[t.map(function(a){var b=(0,s.AS)(a);return(0,i.jsxs)(n.Z,{onClick:function(){z(!1),h(b)},mt:"4px",mr:["2px","2px","4px","4px"],scale:"sm",disabled:b>f,variant:b===g?"subtle":"tertiary",children:[a,"W"]},a)}),(0,i.jsx)(n.Z,{onClick:function(){z(!0)},mt:"4px",mr:["2px","2px","4px","4px"],scale:"sm",disabled:f<r.kp,variant:d?"subtle":"tertiary",children:a("Max")},"max")]})]}),(0,i.jsxs)(l.Z,{justifyContent:"center",alignItems:"center",mb:"8px",children:[(0,i.jsx)(u,{value:(0,s.Ot)(g),autoComplete:"off",pattern:"^[0-9]+$",inputMode:"numeric",onChange:function(a){z(!1);var b,c,d=q()(null==a?void 0:null===(b=a.target)|| void 0===b?void 0:b.value);a.currentTarget.validity.valid&&d<530&&h((0,s.AS)(q()(null==a?void 0:null===(c=a.target)|| void 0===c?void 0:c.value)))}}),(0,i.jsx)(m.Z,{children:a("Week")})]}),v&&(0,i.jsx)(m.Z,{fontSize:"12px",textAlign:"right",color:"failure",children:a("Total lock duration exceeds 52 weeks")}),c&&x===y&&!d?(0,i.jsx)(o.Z,{variant:"warning",children:(0,i.jsx)(o.Y,{maxWidth:"240px",children:a('Recommend choosing "MAX" to renew your staking position in order to keep similar yield boost.')})}):null]})}},5450:function(c,b,a){var d=a(85893),e=a(4318),f=a(97114),g=a(99150);b.Z=function(a){var b=a.weekDuration,c=(0,g.$G)().t;return(0,d.jsxs)(e.Z,{alignItems:"center",justifyContent:"space-between",children:[(0,d.jsx)(f.Z,{color:"textSubtle",textTransform:"uppercase",bold:!0,fontSize:"12px",children:c("Lock Duration")}),(0,d.jsx)(f.Z,{color:"text",bold:!0,fontSize:"16px",children:b})]})}},84548:function(h,b,a){a.d(b,{Z:function(){return M}});var i=a(85893),j=a(67294),c=a(5152),d=a.n(c),k=a(7180),l=a(97114),m=a(67334),n=a(4318),o=a(96293),p=a(19729),e=a(50308),q=a.n(e),r=a(99150),s=a(9070),t=a(65044),u=a(23637),v=a(1195),w=a(99413),x=a(47568),f=a(34051),y=a.n(f),z=a(77044),A=a(31318),B=a(90834),C=a(5039),g=a(44431),D=a.n(g),E=a(789),F=a(71418),G=a(98276),H=a(45101),I=a(63964),J=a(71228),K=a(53136),L=d()(function(){return Promise.all([a.e(561),a.e(1341)]).then(a.bind(a,1341))},{loadableGenerated:{webpack:function(){return[1341]}},ssr:!1}),M=function(a){var e,g,R,S,T,U,V,h,W,X,Y,Z,$,_,M,N,aa,ab,ak,ac,ad,al=a.stakingToken,am=a.onDismiss,f=a.lockedAmount,ae=a.currentBalance,af=a.currentDuration,an=a.currentDurationLeft,ao=a.editAmountOnly,ap=a.prepConfirmArg,aq=a.validator,ag=a.customOverview,O=(0,r.$G)().t,ar=(0,u.dd)(),b=(g=(e={stakingToken:al,onDismiss:am,lockedAmount:f,prepConfirmArg:ap}).lockedAmount,R=e.stakingToken,S=e.onDismiss,T=e.prepConfirmArg,U=(0,A.TL)(),V=(0,z.Ge)().account,h=(0,F.Z)(),W=h.fetchWithCatchTxError,X=h.loading,Y=(0,C.Ak)(H.om.CakeVault),Z=(0,J.d)().callWithGasPrice,$=(0,r.$G)().t,_=(0,E.Z)().toastSuccess,M=(0,j.useState)(s.kp),N=M[0],aa=M[1],ab=(0,B.Tx)(g.toNumber()),ac=(0,j.useCallback)((ak=(0,x.Z)(y().mark(function a(b,c){var d,e;return y().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return d={gasLimit:s.Y4[H.om.CakeVault].gasLimit},a.next=3,W(function(){return Z(Y,"deposit",[b.toString(),c],d)});case 3:(null==(e=a.sent)?void 0:e.status)&&(_($("Staked!"),(0,i.jsx)(I.YO,{txHash:e.transactionHash,children:$("Your funds have been staked in the pool")})),null==S||S(),U((0,G.x$)({account:V})));case 5:case"end":return a.stop()}},a)})),function(a,b){return ak.apply(this,arguments)}),[W,_,U,S,V,Y,$,Z]),ad=(0,j.useCallback)((0,x.Z)(y().mark(function a(){var b,c,d,e,f,h;return y().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:d=void 0===(c=(b="function"==typeof T?T({duration:N}):{}).finalLockedAmount)?g:c,e=b.finalDuration,f=void 0===e?N:e,h=(0,t.Qe)(new(D())(d),R.decimals),ac(h,f);case 3:case"end":return a.stop()}},a)})),[T,R,ac,N,g]),{usdValueStaked:ab,duration:N,setDuration:aa,pendingTx:X,handleConfirmClick:ad}),as=b.usdValueStaked,c=b.duration,at=b.setDuration,P=b.pendingTx,au=b.handleConfirmClick,Q=(0,j.useMemo)(function(){return"function"==typeof aq?aq({duration:c}):{isValidAmount:(null==f?void 0:f.toNumber())>0&&(0,t.U4)(ae).gte(f),isValidDuration:c>0&&c<=s.VO,isOverMax:c>s.VO}},[aq,ae,f,c]),ah=Q.isValidAmount,d=Q.isValidDuration,av=Q.isOverMax,ai=(0,j.useMemo)(function(){return d&&af&&af+c>s.VO},[d,af,c]),aj=(0,j.useMemo)(function(){return null==ae?void 0:ae.gte(K.iL)},[ae]),aw=(0,j.useMemo)(function(){return ai&&!aj},[ai,aj]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(k.Z,{mb:"16px",children:ao||(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(w.Z,{isOverMax:av,currentDuration:af,currentDurationLeft:an,setDuration:at,duration:c})})}),ag?ag({isValidDuration:d,duration:c}):(0,i.jsx)(v.Z,{isValidDuration:d,openCalculator:q(),duration:c,lockedAmount:null==f?void 0:f.toNumber(),usdValueStaked:as,showLockWarning:!0,ceiling:ar}),ai?aj?(0,i.jsx)(l.Z,{fontSize:"12px",mt:"24px",children:O("0.0001 CAKE will be spent to extend")}):(0,i.jsx)(m.Z,{variant:"warning",mt:"24px",children:(0,i.jsx)(m.Y,{maxWidth:"200px",children:O("0.0001 CAKE required for enabling extension")})}):null,(0,i.jsx)(n.Z,{mt:"24px",children:aw?(0,i.jsx)(L,{isValidAmount:ah,isValidDuration:d}):(0,i.jsx)(o.Z,{width:"100%",isLoading:P,endIcon:P?(0,i.jsx)(p.Z,{spin:!0,color:"currentColor"}):null,onClick:au,disabled:!(ah&&d),children:O(P?"Confirming":"Confirm")})})]})}},1195:function(i,b,a){a.d(b,{Z:function(){return N}});var j=a(85893),c=a(67294),k=a(7180),l=a(4318),d=a(97114),m=a(67334),n=a(36261),o=a(61973),p=a(41273),q=a(99150),e=a(14841),r=a.n(e),s=a(14011),t=a(4012),u=a(12157),v=a(7297),f=a(87379);function g(){var a=(0,v.Z)(["\n  text-decoration: line-through;\n"]);return g=function(){return a},a}var w=(0,f.ZP)(d.Z).withConfig({componentId:"sc-9be5702c-0"})(g()),x=function(c){var a=c.value,b=c.newValue;return(0,u.Z)(b)||(0,u.Z)(a)||a===b?(0,j.jsx)(d.Z,{bold:!0,fontSize:"16px",children:a||"-"}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(w,{bold:!0,fontSize:"16px",mr:"4px",children:a}),"->",(0,j.jsx)(d.Z,{bold:!0,color:"failure",ml:"4px",fontSize:"16px",children:b})]})},y=function(a){var b=a.title,c=a.value,e=a.newValue;return(0,j.jsxs)(l.Z,{alignItems:"center",justifyContent:"space-between",children:[(0,j.jsx)(d.Z,{color:"textSubtle",textTransform:"uppercase",bold:!0,fontSize:"12px",children:b}),(0,j.jsx)(l.Z,{alignItems:"center",children:(0,j.jsx)(x,{value:c,newValue:e})})]})},z=a(36544),A=a(17634),B=a(20922),C=function(a){var b=a.value,c=a.newValue,d=a.decimals,e=a.unit,f=a.prefix;return(0,u.Z)(c)||!b||b===c||0===r()(c)?(0,j.jsx)(B.s,{bold:!0,fontSize:"16px",value:b,decimals:d,unit:e,prefix:f}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(w,{children:(0,j.jsx)(B.s,{bold:!0,fontSize:"16px",mr:"4px",value:b,decimals:d,unit:e,prefix:f})}),"->",(0,j.jsx)(B.s,{bold:!0,color:"failure",fontSize:"16px",ml:"4px",value:c,decimals:d,unit:e,prefix:f})]})},D=(0,c.memo)(function(a){var c=a.title,f=a.value,g=a.newValue,h=a.unit,i=a.decimals,k=a.prefix,m=a.suffix,e=a.tooltipContent,b=(0,z.Z)(e,{placement:"bottom-start"}),n=b.targetRef,o=b.tooltip,p=b.tooltipVisible;return(0,j.jsxs)(l.Z,{alignItems:"center",justifyContent:"space-between",children:[p&&o,e?(0,j.jsx)(A.Z,{children:(0,j.jsx)(d.Z,{ref:n,color:"textSubtle",textTransform:"uppercase",bold:!0,fontSize:"12px",children:c})}):(0,j.jsx)(d.Z,{color:"textSubtle",textTransform:"uppercase",bold:!0,fontSize:"12px",children:c}),(0,j.jsxs)(l.Z,{alignItems:"center",children:[(0,j.jsx)(C,{newValue:g,value:f,decimals:i,unit:h,prefix:k}),m]})]})}),E=a(42298),F=function(a){var e=a.title,c=a.value,f=a.color,g=(0,q.$G)().t,h=g("You will be able to withdraw the staked CAKE and profit only when the staking position is unlocked, i.e. when the staking period ends."),b=(0,z.Z)(h,{placement:"bottom-start"}),i=b.targetRef,k=b.tooltip,m=b.tooltipVisible;return(0,j.jsxs)(l.Z,{alignItems:"center",justifyContent:"space-between",children:[m&&k,(0,j.jsx)(A.Z,{children:(0,j.jsx)(d.Z,{ref:i,color:"textSubtle",textTransform:"uppercase",bold:!0,fontSize:"12px",children:e})}),(0,j.jsx)(d.Z,{bold:!0,color:f,children:c?(0,E.default)(c,"MMM do, yyyy HH:mm"):"-"})]})};function G(a){var d=a.lockedApy,e=a.usdValueStaked,f=a.duration,b=e*(Number(d)/100)*(f/31449600),c=b>1e4?0:2;return b.toLocaleString("en",{minimumFractionDigits:c,maximumFractionDigits:c})}var h=a(44431),H=a.n(h);function I(b){var d=b.lockedAmount,e=b.duration,c=b.ceiling,a=new(H())(e);return a.gte(c)?new(H())(d).toNumber():a.lt(c)&&a.gte(0)?a.times(d).div(c).toNumber():0}var J=a(5527),K=a(47509),L=a(37972),M=function(){var a=(0,c.useContext)(L.G);return(0,j.jsx)(J.Z,{variant:"text",scale:"sm",mr:"-8px",onClick:function(){return a&&a(!0)},children:(0,j.jsx)(K.Z,{color:"textSubtle",width:"18px"})})},N=function(b){var i=b.usdValueStaked,g=b.lockedAmount,f=b.duration,h=b.isValidDuration,e=b.newDuration,u=b.newLockedAmount,v=b.lockStartTime,w=b.lockEndTime,J=b.showLockWarning,x=b.ceiling,z=(0,p.o)(),A=z.getLockedApy,B=z.getBoostFactor,a=(0,q.$G)().t,C=(0,c.useMemo)(function(){return A(f)},[A,f]),K=(0,c.useMemo)(function(){return B(f)},[B,f]),E=(0,c.useMemo)(function(){return e&&A(e)||0},[A,e]),L=(0,c.useMemo)(function(){return e&&B(e)||0},[B,e]),N=(0,c.useMemo)(function(){return G({usdValueStaked:i,lockedApy:C,duration:f})},[C,i,f]),O=(0,c.useMemo)(function(){return E&&G({usdValueStaked:i,lockedApy:E,duration:e})},[E,i,e]),H=new Date,P=e?(0,o.Z)(Number(v)?new Date((0,s.Eg)(v)):H,e):Number(w)?new Date((0,s.Eg)(w)):(0,o.Z)(H,f),Q=(0,c.useMemo)(function(){return I({lockedAmount:g,duration:f,ceiling:x})},[g,f,x]),R=(0,c.useMemo)(function(){var a=Number(u)?u:g,b=Number(e)?e:f;return I({lockedAmount:a,duration:b,ceiling:x})},[g,u,f,e,x]);return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(k.Z,{children:[(0,j.jsxs)(l.Z,{mb:"4px",children:[(0,j.jsx)(d.Z,{fontSize:"12px",color:"secondary",bold:!0,mr:"2px",textTransform:"uppercase",children:a("Lock")}),(0,j.jsx)(d.Z,{fontSize:"12px",color:"textSubtle",bold:!0,textTransform:"uppercase",children:a("Overview")})]}),(0,j.jsxs)(n.m5,{children:[(0,j.jsx)(D,{title:a("Cake to be locked"),value:g,newValue:u,decimals:2}),(0,j.jsx)(D,{title:"iCake",decimals:2,value:Q,newValue:R}),(0,j.jsx)(D,{title:"apy",unit:"%",value:r()(C),decimals:2,newValue:r()(E),tooltipContent:a("Calculated based on current rates and subject to change based on pool conditions. It is an estimate provided for your convenience only, and by no means represents guaranteed returns.")}),(0,j.jsx)(y,{title:a("duration"),value:h&&(0,t.ZP)(f),newValue:h&&e&&(0,t.ZP)(e)}),(0,j.jsx)(D,{title:a("Yield boost"),unit:"x",value:r()(K),decimals:2,newValue:r()(L),tooltipContent:a("Your yield will be boosted based on the total lock duration of your current fixed term staking position.")}),(0,j.jsx)(F,{color:r()(e)?"failure":"text",title:a("Unlock on"),value:h&&P}),(0,j.jsx)(D,{title:a("Expected ROI"),value:N,newValue:O,prefix:"$",decimals:2,suffix:(0,j.jsx)(M,{}),tooltipContent:a("Calculated based on current rates and subject to change based on pool conditions. It is an estimate provided for your convenience only, and by no means represents guaranteed returns.")})]})]}),J&&(0,j.jsx)(k.Z,{mt:"16px",maxWidth:"370px",children:(0,j.jsx)(m.Z,{variant:"warning",children:(0,j.jsx)(m.Y,{children:a("You will be able to withdraw the staked CAKE and profit only when the staking position is unlocked")})})})]})}},96635:function(c,b,a){var d=a(85893),e=a(36544),f=a(4318),g=a(17634),h=a(97114),i=a(41273),j=a(20922),k=a(99150);b.Z=function(l){var m=l.secondDuration,a=(0,i.o)({duration:m}).boostFactor,c=(0,k.$G)().t,n=c("Your yield will be boosted based on the total lock duration of your current fixed term staking position."),b=(0,e.Z)(n,{placement:"bottom-start"}),o=b.targetRef,p=b.tooltip,q=b.tooltipVisible;return(0,d.jsxs)(f.Z,{alignItems:"center",justifyContent:"space-between",children:[q&&p,(0,d.jsx)(g.Z,{children:(0,d.jsx)(h.Z,{ref:o,color:"textSubtle",textTransform:"uppercase",bold:!0,fontSize:"12px",children:c("Yield boost")})}),(0,d.jsx)(j.s,{color:"text",bold:!0,fontSize:"16px",value:a?null==a?void 0:a.toString():"0",decimals:2,unit:"x"})]})}},24237:function(e,b,a){var f=a(85893),g=a(67294),h=a(90452),i=a(7180),j=a(23917),k=a(90834),l=a(99150),c=a(14841),m=a.n(c),d=a(44431),n=a.n(d),o=a(24594),p=a(84548),q=a(37972);b.Z=function(a){var d=a.onDismiss,e=a.currentBalance,b=a.stakingToken,s=a.stakingTokenBalance,t=(0,j.ZP)().theme,r=(0,g.useState)(""),c=r[0],u=r[1],v=(0,l.$G)().t,w=(0,k.Tx)(m()(c));return(0,f.jsx)(q.Z,{lockedAmount:c,children:(0,f.jsxs)(h.Z,{title:v("Lock CAKE"),onDismiss:d,headerBackground:t.colors.gradients.cardHeader,children:[(0,f.jsx)(i.Z,{mb:"16px",children:(0,f.jsx)(o.Z,{stakingAddress:b.address,stakingSymbol:b.symbol,stakingDecimals:b.decimals,lockedAmount:c,usedValueStaked:w,stakingMax:e,setLockedAmount:u,stakingTokenBalance:s})}),(0,f.jsx)(p.Z,{currentBalance:e,stakingToken:b,onDismiss:d,lockedAmount:new(n())(c)})]})})}},37972:function(e,b,a){a.d(b,{G:function(){return k}});var f=a(85893),c=a(67294),g=a(99150),h=a(23637),d=a(79833),i=a.n(d),j=a(86082),k=(0,c.createContext)(null);b.Z=function(e){var b,d,n=e.children,o=e.lockedAmount,l=(0,c.useState)(!1),p=l[0],q=l[1],r=(0,g.$G)().t,a=(0,h.AI)(0).pool,m=(null==a?void 0:null===(b=a.stakingToken)|| void 0===b?void 0:b.address)?a.stakingToken.address.toLowerCase():null;return p?(0,f.jsx)(j.E,{pool:a,linkLabel:r("Get %symbol%",{symbol:"CAKE"}),linkHref:m?"/swap?outputCurrency=".concat(m):"/swap",stakingTokenBalance:null==a?void 0:null===(d=a.userData)|| void 0===d?void 0:d.stakingTokenBalance,onBack:function(){return q(!1)},initialValue:i()(o),initialView:1}):(0,f.jsx)(k.Provider,{value:q,children:n})}},65683:function(e,b,a){a.d(b,{Z:function(){return m}});var f=a(67294),g=a(9070),c=a(44431),h=a.n(c),d=a(14841),i=a.n(d),j=a(23637),k=a(44356),l=a(4012);function m(){var a=(0,j.Xo)(),c=a.totalLockedAmount,d=a.totalShares,e=a.totalCakeInVault,m=a.pricePerFullShare,b=(0,f.useMemo)(function(){var a=e.minus(c).div(m).times((0,k.t)(18)),b=d.minus(a),f=c.div(m).times((0,k.t)(18));return b.div(f).minus(1).times(new(h())(g.A0.toString())).div(new(h())(g.xt.toString()).div((0,k.t)(12))).toFixed(0)},[e,c,m,d]);return{avgLockDurationsInWeeks:(0,f.useMemo)(function(){return(0,l.ZP)(b)},[b]),avgLockDurationsInSeconds:i()(b)}}},51553:function(c,b,a){var d=a(99150),e=a(14011),f=a(4012);b.Z=function(a){var b=a.lockEndTime,i=a.lockStartTime,j=(0,d.$G)().currentLanguage.locale,c=Number(b)-Number(i),g=(0,e.Eg)(b),h="";try{h=new Date(g).toLocaleString(j,{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1})}catch(k){}return{weekDuration:(0,f.ZP)(c),remainingTime:(0,e.At)(g),lockEndDate:h,secondDuration:c}}},67576:function(f,b,a){var g=a(7297),h=a(85893),i=a(99150),c=a(87379),d=a(80421),j=a(90452),k=a(97114),l=a(96293),m=a(24788),n=a(23917);function e(){var a=(0,g.Z)(["\n  width: 100%;\n"]);return e=function(){return a},a}var o=(0,c.ZP)(d.Z).withConfig({componentId:"sc-9c846030-0"})(e());b.Z=function(c){var b=c.tokenSymbol,d=c.onDismiss,a=(0,i.$G)().t,e=(0,n.ZP)().theme;return(0,h.jsxs)(j.Z,{title:a("%symbol% required",{symbol:b}),onDismiss:d,headerBackground:e.colors.gradients.cardHeader,children:[(0,h.jsx)(k.Z,{color:"failure",bold:!0,children:a("Insufficient %symbol% balance",{symbol:b})}),(0,h.jsx)(k.Z,{mt:"24px",children:a("You\u2019ll need %symbol% to stake in this pool!",{symbol:b})}),(0,h.jsx)(k.Z,{children:a("Buy some %symbol%, or make sure your %symbol% isn\u2019t in another pool or LP.",{symbol:b})}),(0,h.jsxs)(l.Z,{mt:"24px",as:"a",external:!0,href:"/swap",children:[a("Buy")," ",b]}),(0,h.jsx)(o,{href:"https://yieldwatch.net",external:!0,children:(0,h.jsxs)(l.Z,{variant:"secondary",mt:"8px",width:"100%",children:[a("Locate Assets"),(0,h.jsx)(m.Z,{color:"primary",ml:"4px"})]})}),(0,h.jsx)(l.Z,{variant:"text",onClick:d,children:a("Close Window")})]})}},91692:function(d,b,a){a.d(b,{Z:function(){return M}});var e=a(85893),f=a(4318),g=a(97114),h=a(80421),i=a(22491),j=a(84091),k=a(10566),l=a(96293),m=a(65335),n=a(20922),o=a(37519),p=a(99150),c=a(67294),q=a(37063),r=a(23637),s=a(45101),t=a(93293),u=a(96273),v=a(35128),w=a(84695),x=a(53136),y=a(65044),z=function(a){var d=a.small,b=void 0!==d&&d,l=a.stakingLimit,m=a.currentBlock,j=a.stakingLimitEndBlock,k=a.stakingToken,o=a.hasPoolStarted,c=(0,p.$G)().t;return(0,e.jsxs)(f.Z,{flexDirection:"column",children:[(0,e.jsxs)(f.Z,{justifyContent:"space-between",alignItems:"center",children:[(0,e.jsxs)(g.Z,{small:b,children:[c("Max. stake per user"),":"]}),(0,e.jsx)(g.Z,{small:b,children:"".concat((0,y.NJ)(l,k.decimals,0)," ").concat(k.symbol)})]}),o&&(0,e.jsxs)(f.Z,{justifyContent:"space-between",alignItems:"center",children:[(0,e.jsxs)(g.Z,{small:b,children:[c("Max. stake limit ends in"),":"]}),(0,e.jsxs)(h.Z,{external:!0,href:(0,t.Ms)(j,"countdown"),children:[(0,e.jsx)(n.Z,{small:b,value:Math.max(j-m,0),decimals:0,color:"primary"}),(0,e.jsx)(g.Z,{small:b,ml:"4px",color:"primary",textTransform:"lowercase",children:c("Blocks")}),(0,e.jsx)(i.Z,{ml:"4px",color:"primary"})]})]})]})},A=a(36544),B=a(17634),C=a(17101),D=a(65683),E=a(67802),F=function(a){var b=a.children,c=a.label;return(0,e.jsxs)(f.Z,{mb:"2px",justifyContent:"space-between",alignItems:"center",width:"100%",children:[c,(0,e.jsx)(f.Z,{alignItems:"center",children:b})]})},G=function(c){var d=c.userData,a=c.performanceFeeAsDecimal,f=(0,p.$G)().t,b=(0,A.Z)(f("Performance fee only applies to the flexible staking rewards."),{placement:"bottom-start"}),h=b.targetRef,i=b.tooltip,j=b.tooltipVisible,k=(0,C.p1)(d),l=(0,C.IM)(d);return!a||k?null:(0,e.jsxs)(F,{label:(0,e.jsx)(B.Z,{ref:h,small:!0,children:f("Performance Fee")}),children:[j&&i,(0,e.jsx)(g.Z,{ml:"4px",small:!0,children:l?"".concat(a,"%"):"0~".concat(a,"%")})]})},H=function(b){var a=b.total,c=b.token;return a&&a.gte(0)?(0,e.jsx)(n.Z,{small:!0,value:(0,y.mW)(a,c.decimals),decimals:0,unit:" ".concat(c.symbol)}):(0,e.jsx)(j.Z,{width:"90px",height:"21px"})},I=function(a){var b=a.totalLocked,c=a.lockedToken,d=(0,p.$G)().t;return(0,e.jsx)(F,{label:(0,e.jsxs)(g.Z,{small:!0,children:[d("Total locked"),":"]}),children:(0,e.jsx)(H,{total:b,token:c})})},J=function(){var b=(0,p.$G)().t,a=(0,A.Z)(b("The average lock duration of all the locked staking positions of other users"),{placement:"bottom-start"}),c=a.targetRef,d=a.tooltip,f=a.tooltipVisible,h=(0,D.Z)().avgLockDurationsInWeeks;return(0,e.jsxs)(F,{label:(0,e.jsxs)(B.Z,{ref:c,small:!0,children:[b("Average lock duration"),":"]}),children:[f&&d,(0,e.jsx)(g.Z,{ml:"4px",small:!0,children:h})]})},K=function(b){var f=b.totalStaked,c=b.stakingToken,d=(0,p.$G)().t,a=(0,A.Z)(d("Total amount of %symbol% staked in this pool",{symbol:c.symbol}),{placement:"bottom"}),g=a.targetRef,h=a.tooltip,i=a.tooltipVisible;return(0,e.jsxs)(F,{label:(0,e.jsxs)(B.Z,{ref:g,small:!0,children:[d("Total staked"),":"]}),children:[i&&h,(0,e.jsx)(H,{total:f,token:c})]})},L=function(a){var b=a.pool,c=a.stakedBalance,d=(0,p.$G)().t;return(0,e.jsxs)(f.Z,{justifyContent:"space-between",alignItems:"center",children:[(0,e.jsxs)(g.Z,{small:!0,children:[d("APR"),":"]}),(0,e.jsx)(E.Z,{pool:b,showIcon:!0,stakedBalance:c,performanceFee:0,fontSize:"14px"})]})},M=(0,c.memo)(function(B){var D,a=B.pool,S=B.account,O=B.showTotalStaked,P=B.alignLinksToRight,y=void 0===P||P,b=(0,p.$G)().t,Q=(0,q.je)(),E=a.stakingToken,F=a.earningToken,T=a.totalStaked,U=a.startBlock,V=a.endBlock,H=a.stakingLimit,W=a.stakingLimitEndBlock,X=a.contractAddress,c=a.vaultKey,d=a.profileRequirement,Y=a.isFinished,M=a.userData,Z=(null==M?void 0:M.stakedBalance)?M.stakedBalance:v.HW,C=(0,r.eB)(c),$=C.totalCakeInVault,_=C.totalLockedAmount,aa=C.fees.performanceFeeAsDecimal,ab=C.userData,ac=F.address||"",R=(0,u.Kn)(X),ad=(0,u.ZX)(c),ae=!!(null===(D=window.ethereum)|| void 0===D?void 0:D.isMetaMask),A=(0,x.zy)(a,Q),af=A.shouldShowBlockCountdown,ag=A.blocksUntilStart,ah=A.blocksRemaining,N=A.hasPoolStarted,ai=A.blocksToDisplay;return(0,e.jsxs)(e.Fragment,{children:[d&&(d.required||d.thresholdPoints.gt(0))&&(0,e.jsxs)(f.Z,{mb:"8px",justifyContent:"space-between",children:[(0,e.jsxs)(g.Z,{small:!0,children:[b("Requirement"),":"]}),(0,e.jsxs)(g.Z,{small:!0,textAlign:"right",children:[d.required&&b("Pancake Profile")," ",d.thresholdPoints.gt(0)&&(0,e.jsxs)(g.Z,{small:!0,children:[d.thresholdPoints.toNumber().toLocaleString()," ",b("Profile Points")]})]})]}),!c&&(0,e.jsx)(L,{pool:a,stakedBalance:Z}),(void 0===O||O)&&(0,e.jsx)(K,{totalStaked:c?$:T,stakingToken:E}),c===s.om.CakeVault&&(0,e.jsx)(I,{totalLocked:_,lockedToken:E}),c===s.om.CakeVault&&(0,e.jsx)(J,{}),!Y&&H&&H.gt(0)&&(0,e.jsx)(z,{small:!0,currentBlock:Q,hasPoolStarted:N,stakingLimit:H,stakingLimitEndBlock:W,stakingToken:E}),af&&(0,e.jsxs)(f.Z,{mb:"2px",justifyContent:"space-between",alignItems:"center",children:[(0,e.jsxs)(g.Z,{small:!0,children:[b(N?"Ends in":"Starts in"),":"]}),ah||ag?(0,e.jsx)(f.Z,{alignItems:"center",children:(0,e.jsxs)(h.Z,{external:!0,href:(0,t.Ms)(N?V:U,"countdown"),children:[(0,e.jsx)(n.Z,{small:!0,value:ai,decimals:0,color:"primary"}),(0,e.jsx)(g.Z,{small:!0,ml:"4px",color:"primary",textTransform:"lowercase",children:b("Blocks")}),(0,e.jsx)(i.Z,{ml:"4px",color:"primary"})]})}):(0,e.jsx)(j.Z,{width:"54px",height:"21px"})]}),c&&(0,e.jsx)(G,{userData:ab,performanceFeeAsDecimal:aa}),(0,e.jsx)(f.Z,{mb:"2px",justifyContent:y?"flex-end":"flex-start",children:(0,e.jsx)(k.Z,{href:"/info/token/".concat(F.address),bold:!1,small:!0,children:b("See Token Info")})}),!c&&(0,e.jsx)(f.Z,{mb:"2px",justifyContent:y?"flex-end":"flex-start",children:(0,e.jsx)(k.Z,{href:F.projectLink,bold:!1,small:!0,children:b("View Project Site")})}),c&&(0,e.jsx)(f.Z,{mb:"2px",justifyContent:y?"flex-end":"flex-start",children:(0,e.jsx)(k.Z,{href:"https://docs.cloudtx.finance/products/syrup-pool/new-cake-pool",bold:!1,small:!0,children:b("View Tutorial")})}),R&&(0,e.jsx)(f.Z,{mb:"2px",justifyContent:y?"flex-end":"flex-start",children:(0,e.jsx)(k.Z,{href:"".concat(o.JQ,"/address/").concat(c?ad:R),bold:!1,small:!0,children:b("View Contract")})}),S&&ae&&ac&&(0,e.jsx)(f.Z,{justifyContent:y?"flex-end":"flex-start",children:(0,e.jsxs)(l.Z,{variant:"text",p:"0",height:"auto",onClick:function(){return(0,w.$P)(ac,F.symbol,F.decimals,"https://tokens.pancakeswap.finance/images/".concat(ac,".png"))},children:[(0,e.jsx)(g.Z,{color:"primary",fontSize:"14px",children:b("Add to Metamask")}),(0,e.jsx)(m.Z,{ml:"4px"})]})})]})})},5619:function(n,i,a){a.d(i,{X:function(){return B}});var d,e,f,b=a(14924),o=a(26042),p=a(69396),q=a(99534),g=a(85893),j=a(79539),k=a(79491),l=a(57503),m=a(41725),r=a(24930),s=a(7180),t=a(97114),u=a(40508),h=a(96464),v=a(99150),w=a(67294),c=a(17101),x=(d={},(0,b.Z)(d,c.PS.None,{}),(0,b.Z)(d,c.PS.Flexible,{variant:"success"}),(0,b.Z)(d,c.PS.Locked,{variant:"secondary"}),(0,b.Z)(d,c.PS.LockedEnd,{variant:"secondary",outline:!0}),(0,b.Z)(d,c.PS.AfterBurning,{variant:"failure",outline:!0}),d),y=(e={},(0,b.Z)(e,c.PS.None,null),(0,b.Z)(e,c.PS.Flexible,j.Z),(0,b.Z)(e,c.PS.Locked,k.Z),(0,b.Z)(e,c.PS.LockedEnd,l.Z),(0,b.Z)(e,c.PS.AfterBurning,m.Z),e),z=(f={},(0,b.Z)(f,c.PS.None,""),(0,b.Z)(f,c.PS.Flexible,(0,g.jsx)(h.Z,{children:"Flexible"})),(0,b.Z)(f,c.PS.Locked,(0,g.jsx)(h.Z,{children:"Locked"})),(0,b.Z)(f,c.PS.LockedEnd,(0,g.jsx)(h.Z,{children:"Locked End"})),(0,b.Z)(f,c.PS.AfterBurning,(0,g.jsx)(h.Z,{children:"After Burning"})),f),A=function(b){var a=b.position;return(0,g.jsxs)(r.Z,(0,p.Z)((0,o.Z)({},x[a]),{children:[(0,g.jsx)(s.Z,{as:y[a],mr:"4px"}),z[a]]}))},B=function(a){var d=a.userData,e=(0,q.Z)(a,["userData"]),f=(0,v.$G)().t,b=(0,w.useMemo)(function(){return(0,c.cP)(d)},[d]);return b?(0,g.jsxs)(u.O,(0,p.Z)((0,o.Z)({alignItems:"center",justifyContent:"space-between",marginX:"8px",mb:"8px",gap:"12px"},e),{children:[(0,g.jsx)(t.Z,{fontSize:"12px",color:"secondary",textTransform:"uppercase",bold:!0,children:f("My Position")}),(0,g.jsx)(A,{position:b})]})):null}},86082:function(c,b,a){a.d(b,{E:function(){return u}});var d=a(26042),e=a(69396),f=a(99534),g=a(85893),h=a(39320),i=a(50156),j=a(7180),k=a(61102),l=a(44307),m=a(99150),n=a(41273),o=a(67294),p=a(45101),q=a(23637),r=a(43452),s=a(99413),t=a(4012),u=function(c){var l,r,a=c.pool,B=c.initialView,C=(0,f.Z)(c,["pool","initialView"]),u=(0,q.eB)(a.vaultKey).userData.balance.cakeAsBigNumber,w=(0,n.o)(),D=w.getLockedApy,E=w.flexibleApy,x=(0,m.$G)().t,y=(0,o.useState)(B||0),b=y[0],F=y[1],z=(0,o.useState)(function(){return(0,t.AS)(1)}),A=z[0],G=z[1],H=(0,o.useMemo)(function(){return[(0,g.jsx)(h.Z,{children:x("Flexible")},"Flexible"),(0,g.jsx)(h.Z,{children:x("Locked")},"Locked"),]},[x]),I=(0,o.useMemo)(function(){return 0===b?E:D(A)},[b,D,E,A]);return(0,g.jsx)(k.Z,(0,e.Z)((0,d.Z)({stakingTokenSymbol:a.stakingToken.symbol,apy:+I,initialState:{controls:{compounding:!1}},linkHref:"/swap",linkLabel:x("Get %symbol%",{symbol:a.stakingToken.symbol}),earningTokenPrice:a.earningTokenPrice,stakingTokenPrice:a.stakingTokenPrice,stakingTokenBalance:(null===(l=a.userData)|| void 0===l?void 0:l.stakingTokenBalance)?u.plus(null===(r=a.userData)|| void 0===r?void 0:r.stakingTokenBalance):u,autoCompoundFrequency:1,strategy:b?function(b,c){return(0,g.jsx)(v,{state:b,dispatch:c,stakingTokenPrice:a.stakingTokenPrice,earningTokenPrice:a.earningTokenPrice,duration:A})}:null,header:a.vaultKey===p.om.CakeVault?(0,g.jsx)(i.Z,{mb:"24px",fullWidth:!0,scale:"sm",variant:"subtle",activeIndex:b,onItemClick:F,children:H}):(0,g.jsx)(g.Fragment,{})},C),{children:b&&(0,g.jsx)(j.Z,{mt:"16px",children:(0,g.jsx)(s.Z,{duration:A,setDuration:G,isOverMax:!1})})}))};function v(a){var c=a.state,d=a.dispatch,i=a.earningTokenPrice,e=a.duration,j=a.stakingTokenPrice,f=(0,n.o)().getLockedApy,g=c.data,k=g.principalAsUSD,m=g.roiUSD,b=c.controls,p=b.compounding,q=b.compoundingFrequency,s=b.stakingDuration,h=b.mode;return(0,o.useEffect)(function(){if(h===l.ee.ROI_BASED_ON_PRINCIPAL){var b=parseFloat(k),c=b/i*(+f(e)/100)*(e/31449600),a=!Number.isNaN(c),g=a?c:0,j=a?g*i:0,m=a?(0,r.Lu)({amountEarned:j,amountInvested:b}):0;d({type:"setRoi",payload:{roiUSD:j,roiTokens:g,roiPercentage:m}})}},[k,s,i,p,q,h,e,d,f,]),(0,o.useEffect)(function(){if(h===l.ee.PRINCIPAL_BASED_ON_ROI){var a=m/(+f(e)/100)/(e/31449600),b=(0,r.Lu)({amountEarned:m,amountInvested:a}),c=a/j;d({type:"setPrincipalForTargetRoi",payload:{principalAsUSD:a.toFixed(2),principalAsToken:c.toFixed(10),roiPercentage:b}})}},[d,e,f,h,m,j]),null}},58427:function(c,b,a){a.d(b,{w:function(){return k}});var d=a(85893),e=a(36544),f=a(7180),g=a(96293),h=a(17634),i=a(40508),j=a(99150),k=function(k){var l=k.onFlexibleClick,b=k.onLockedClick,a=(0,j.$G)().t,c=(0,e.Z)((0,d.jsx)(f.Z,{children:a("Flexible staking offers flexibility for staking/unstaking whenever you want. Locked staking offers higher APY as well as other benefits.")}),{}),m=c.targetRef,n=c.tooltip,o=c.tooltipVisible;return(0,d.jsxs)(f.Z,{width:"100%",children:[(0,d.jsxs)(i.O,{gap:"12px",children:[(0,d.jsx)(g.Z,{style:{flex:1},onClick:l,children:a("Flexible")}),b&&(0,d.jsx)(g.Z,{style:{flex:1},onClick:b,children:a("Locked")})]}),o&&n,b&&(0,d.jsx)(h.Z,{mt:"16px",small:!0,ref:m,children:a("What\u2019s the difference?")})]})}},4012:function(c,b,a){a.d(b,{ZP:function(){return l},Ot:function(){return j},AS:function(){return k}});var d=a(35077),e=["years","months","weeks","days","hours","minutes","seconds"],f=a(67803),g=a(13882),h=a(93645),i=a(61973),j=function(b){var a=new Date,c=(0,i.Z)(a,b);return function(b,c,a){(0,g.Z)(2,arguments);var d=(0,f.Z)(b,c)/7;return(0,h.u)(null==a?void 0:a.roundingMethod)(d)}(new Date(c),a,{roundingMethod:"round"})},k=function(a){return 604800*a},l=function(a){return function(g){var a=arguments.length>1&& void 0!==arguments[1]?arguments[1]:{};if(arguments.length<1)throw TypeError("1 argument required, but only ".concat(arguments.length," present"));var b=(null==a?void 0:a.format)||e,h=(null==a?void 0:a.locale)||d.Z,i=(null==a?void 0:a.zero)||!1,c=(null==a?void 0:a.delimiter)||" ",f=b.reduce(function(b,a){var c="x".concat(a.replace(/(^.)/,function(a){return a.toUpperCase()})),d="number"==typeof g[a]&&(i||g[a]);return d&&h.formatDistance?b.concat(h.formatDistance(c,g[a])):b},[]).join(c);return f}({weeks:j(a)})}},51029:function(d,b,a){a.d(b,{iB:function(){return u},dI:function(){return w},Le:function(){return v}});var e=a(47568),c=a(34051),f=a.n(c),g=a(85893),h=a(67294),i=a(77044),j=a(21046),k=a(31318);a(36393);var l=a(98276),m=a(99150),n=a(5039),o=a(789),p=a(71228),q=a(71418),r=a(63964),s=a(61785),t=a(76380),u=function(c,a,d){var s=(0,o.Z)().toastSuccess,b=(0,q.Z)(),t=b.fetchWithCatchTxError,u=b.loading,v=(0,p.d)().callWithGasPrice,w=(0,m.$G)().t,x=(0,k.TL)(),y=(0,i.Ge)().account,z=(0,n.AP)(a);return{handleApprove:(0,h.useCallback)((0,e.Z)(f().mark(function b(){var e;return f().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,t(function(){return v(c,"approve",[z.address,j.Bz])});case 2:(null==(e=b.sent)?void 0:e.status)&&(s(w("Contract Enabled"),(0,g.jsx)(r.YO,{txHash:e.transactionHash,children:w("You can now stake in the %symbol% pool!",{symbol:d})})),x((0,l.Oy)({sousId:a,account:y})));case 4:case"end":return b.stop()}},b)})),[y,x,c,z,a,d,w,s,v,t,]),pendingTx:u}},v=function(b,c){var a=(0,n.Ak)(b),d=(0,m.$G)().t;return(0,t.Z)(c,null==a?void 0:a.address,d("You can now stake in the %symbol% vault!",{symbol:"CAKE"}))},w=function(b){var a=(0,n.Ak)(b);return(0,s.Z)(null==a?void 0:a.address)}},99119:function(c,a,b){b.d(a,{D:function(){return e}});var d=b(67294),e=function(a){var c,b=arguments.length>1&& void 0!==arguments[1]?arguments[1]:259200;return a+b-Math.floor(Date.now()/1e3)>0};a.Z=function(e,f){var g=arguments.length>2&& void 0!==arguments[2]?arguments[2]:259200,a=(0,d.useState)(null),h=a[0],i=a[1],b=(0,d.useState)(!1),j=b[0],l=b[1],c=(0,d.useState)(function(){return Math.floor(Date.now()/1e3)}),k=c[0],m=c[1];return(0,d.useEffect)(function(){var a=e+g-k,b=f.gt(0)&&a>0,d=function(){m(function(a){return a+1})},c=setInterval(function(){return d()},1e3);return b?(i(a),l(!0)):(l(!1),clearInterval(c)),function(){return clearInterval(c)}},[e,g,i,k,f]),{hasUnstakingFee:j,secondsRemaining:h}}}}])
//# sourceMappingURL=8460-f107ecdcc82e2261.js.map