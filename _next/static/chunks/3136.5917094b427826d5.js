"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3136],{83136:function(I,C,D){D.d(C,{C2:function(){return dh}});var J={allowDownsampling:!0},K=function(){function a(a,b){var c=this;this._resolutionMediaQueryList=null,this._resolutionListener=function(a){return c._onResolutionChanged()},this._canvasConfiguredListeners=[],this.canvas=a,this._canvasSize={width:this.canvas.clientWidth,height:this.canvas.clientHeight},this._options=b,this._configureCanvas(),this._installResolutionListener()}return a.prototype.destroy=function(){this._canvasConfiguredListeners.length=0,this._uninstallResolutionListener(),this.canvas=null},Object.defineProperty(a.prototype,"canvasSize",{get:function(){return{width:this._canvasSize.width,height:this._canvasSize.height}},enumerable:!0,configurable:!0}),a.prototype.resizeCanvas=function(a){this._canvasSize={width:a.width,height:a.height},this._configureCanvas()},Object.defineProperty(a.prototype,"pixelRatio",{get:function(){var a=this.canvas.ownerDocument.defaultView;if(null==a)throw Error("No window is associated with the canvas");return a.devicePixelRatio>1||this._options.allowDownsampling?a.devicePixelRatio:1},enumerable:!0,configurable:!0}),a.prototype.subscribeCanvasConfigured=function(a){this._canvasConfiguredListeners.push(a)},a.prototype.unsubscribeCanvasConfigured=function(a){this._canvasConfiguredListeners=this._canvasConfiguredListeners.filter(function(b){return b!=a})},a.prototype._configureCanvas=function(){var a=this.pixelRatio;this.canvas.style.width=this._canvasSize.width+"px",this.canvas.style.height=this._canvasSize.height+"px",this.canvas.width=this._canvasSize.width*a,this.canvas.height=this._canvasSize.height*a,this._emitCanvasConfigured()},a.prototype._emitCanvasConfigured=function(){var a=this;this._canvasConfiguredListeners.forEach(function(b){return b.call(a)})},a.prototype._installResolutionListener=function(){if(null!==this._resolutionMediaQueryList)throw Error("Resolution listener is already installed");var a=this.canvas.ownerDocument.defaultView;if(null==a)throw Error("No window is associated with the canvas");var b=a.devicePixelRatio;this._resolutionMediaQueryList=a.matchMedia("all and (resolution: "+b+"dppx)"),this._resolutionMediaQueryList.addListener(this._resolutionListener)},a.prototype._uninstallResolutionListener=function(){null!==this._resolutionMediaQueryList&&(this._resolutionMediaQueryList.removeListener(this._resolutionListener),this._resolutionMediaQueryList=null)},a.prototype._reinstallResolutionListener=function(){this._uninstallResolutionListener(),this._installResolutionListener()},a.prototype._onResolutionChanged=function(){this._configureCanvas(),this._reinstallResolutionListener()},a}();function L(a,c){var b,d=((b={})[0]=[],b[1]=[a.lineWidth,a.lineWidth],b[2]=[2*a.lineWidth,2*a.lineWidth],b[3]=[6*a.lineWidth,6*a.lineWidth],b[4]=[a.lineWidth,4*a.lineWidth],b)[c];a.setLineDash(d)}function M(a,b,d,e){a.beginPath();var c=a.lineWidth%2?.5:0;a.moveTo(d,b+c),a.lineTo(e,b+c),a.stroke()}function N(b,a){if(!b)throw Error("Assertion failed"+(a?": "+a:""))}function O(a){if(void 0===a)throw Error("Value is undefined");return a}function P(a){if(null===a)throw Error("Value is null");return a}function Q(a){return P(O(a))}(ax=az||(az={}))[ax.Simple=0]="Simple",ax[ax.WithSteps=1]="WithSteps",(ay=aA||(aA={}))[ay.Solid=0]="Solid",ay[ay.Dotted=1]="Dotted",ay[ay.Dashed=2]="Dashed",ay[ay.LargeDashed=3]="LargeDashed",ay[ay.SparseDotted=4]="SparseDotted";var R={khaki:"#f0e68c",azure:"#f0ffff",aliceblue:"#f0f8ff",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",gray:"#808080",green:"#008000",honeydew:"#f0fff0",floralwhite:"#fffaf0",lightblue:"#add8e6",lightcoral:"#f08080",lemonchiffon:"#fffacd",hotpink:"#ff69b4",lightyellow:"#ffffe0",greenyellow:"#adff2f",lightgoldenrodyellow:"#fafad2",limegreen:"#32cd32",linen:"#faf0e6",lightcyan:"#e0ffff",magenta:"#f0f",maroon:"#800000",olive:"#808000",orange:"#ffa500",oldlace:"#fdf5e6",mediumblue:"#0000cd",transparent:"#0000",lime:"#0f0",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",midnightblue:"#191970",orchid:"#da70d6",mediumorchid:"#ba55d3",mediumturquoise:"#48d1cc",orangered:"#ff4500",royalblue:"#4169e1",powderblue:"#b0e0e6",red:"#f00",coral:"#ff7f50",turquoise:"#40e0d0",white:"#fff",whitesmoke:"#f5f5f5",wheat:"#f5deb3",teal:"#008080",steelblue:"#4682b4",bisque:"#ffe4c4",aquamarine:"#7fffd4",aqua:"#0ff",sienna:"#a0522d",silver:"#c0c0c0",springgreen:"#00ff7f",antiquewhite:"#faebd7",burlywood:"#deb887",brown:"#a52a2a",beige:"#f5f5dc",chocolate:"#d2691e",chartreuse:"#7fff00",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cadetblue:"#5f9ea0",tomato:"#ff6347",fuchsia:"#f0f",blue:"#00f",salmon:"#fa8072",blanchedalmond:"#ffebcd",slateblue:"#6a5acd",slategray:"#708090",thistle:"#d8bfd8",tan:"#d2b48c",cyan:"#0ff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",blueviolet:"#8a2be2",black:"#000",darkmagenta:"#8b008b",darkslateblue:"#483d8b",darkkhaki:"#bdb76b",darkorchid:"#9932cc",darkorange:"#ff8c00",darkgreen:"#006400",darkred:"#8b0000",dodgerblue:"#1e90ff",darkslategray:"#2f4f4f",dimgray:"#696969",deepskyblue:"#00bfff",firebrick:"#b22222",forestgreen:"#228b22",indigo:"#4b0082",ivory:"#fffff0",lavenderblush:"#fff0f5",feldspar:"#d19275",indianred:"#cd5c5c",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightskyblue:"#87cefa",lightslategray:"#789",lightslateblue:"#8470ff",snow:"#fffafa",lightseagreen:"#20b2aa",lightsalmon:"#ffa07a",darksalmon:"#e9967a",darkviolet:"#9400d3",mediumpurple:"#9370d8",mediumaquamarine:"#66cdaa",skyblue:"#87ceeb",lavender:"#e6e6fa",lightsteelblue:"#b0c4de",mediumvioletred:"#c71585",mintcream:"#f5fffa",navajowhite:"#ffdead",navy:"#000080",olivedrab:"#6b8e23",palevioletred:"#d87093",violetred:"#d02090",yellow:"#ff0",yellowgreen:"#9acd32",lawngreen:"#7cfc00",pink:"#ffc0cb",paleturquoise:"#afeeee",palegoldenrod:"#eee8aa",darkolivegreen:"#556b2f",darkseagreen:"#8fbc8f",darkturquoise:"#00ced1",peachpuff:"#ffdab9",deeppink:"#ff1493",violet:"#ee82ee",palegreen:"#98fb98",mediumseagreen:"#3cb371",peru:"#cd853f",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",purple:"#800080",seagreen:"#2e8b57",seashell:"#fff5ee",papayawhip:"#ffefd5",mediumslateblue:"#7b68ee",plum:"#dda0dd",mediumspringgreen:"#00fa9a"};function S(a){return a<0?0:a>255?255:Math.round(a)||0}function T(a){return a<=0||a>0?a<0?0:a>1?1:Math.round(1e4*a)/1e4:0}var U=/^#([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])?$/i,V=/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})?$/i,W=/^rgb\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*\)$/,X=/^rgba\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?[\d]{0,10}(?:\.\d+)?)\s*\)$/;function Y(b){var a;if((b=b.toLowerCase())in R&&(b=R[b]),a=X.exec(b)||W.exec(b))return[S(parseInt(a[1],10)),S(parseInt(a[2],10)),S(parseInt(a[3],10)),T(a.length<5?1:parseFloat(a[4]))];if(a=V.exec(b))return[S(parseInt(a[1],16)),S(parseInt(a[2],16)),S(parseInt(a[3],16)),1];if(a=U.exec(b))return[S(17*parseInt(a[1],16)),S(17*parseInt(a[2],16)),S(17*parseInt(a[3],16)),1];throw Error("Cannot parse color: ".concat(b))}function Z(c){var b,a=Y(c);return{t:"rgb(".concat(a[0],", ").concat(a[1],", ").concat(a[2],")"),i:.199*(b=a)[0]+.687*b[1]+.114*b[2]>160?"black":"white"}}var $=function(a,b){return($=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(c,a){for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(c[b]=a[b])})(a,b)};function _(b,a){if("function"!=typeof a&&null!==a)throw TypeError("Class extends value "+String(a)+" is not a constructor or null");function c(){this.constructor=b}$(b,a),b.prototype=null===a?Object.create(a):(c.prototype=a.prototype,new c)}var c=function(){return(c=Object.assign||function(d){for(var a,b=1,e=arguments.length;b<e;b++)for(var c in a=arguments[b])Object.prototype.hasOwnProperty.call(a,c)&&(d[c]=a[c]);return d}).apply(this,arguments)};function aa(d,b,e){if(e||2===arguments.length)for(var c,a=0,f=b.length;a<f;a++)!c&&a in b||(c||(c=Array.prototype.slice.call(b,0,a)),c[a]=b[a]);return d.concat(c||Array.prototype.slice.call(b))}var ab=function(){function a(){this.h=[]}return a.prototype.u=function(a,b,c){this.h.push({o:a,l:b,v:!0===c})},a.prototype._=function(b){var a=this.h.findIndex(function(a){return b===a.o});a> -1&&this.h.splice(a,1)},a.prototype.M=function(a){this.h=this.h.filter(function(b){return b.l!==a})},a.prototype.m=function(b,c){var a=aa([],this.h,!0);this.h=this.h.filter(function(a){return!a.v}),a.forEach(function(a){return a.o(b,c)})},a.prototype.p=function(){return this.h.length>0},a.prototype.g=function(){this.h=[]},a}();function ac(c){for(var f=[],d=1;d<arguments.length;d++)f[d-1]=arguments[d];for(var e=0,g=f;e<g.length;e++){var b=g[e];for(var a in b)void 0!==b[a]&&("object"!=typeof b[a]|| void 0===c[a]?c[a]=b[a]:ac(c[a],b[a]))}return c}function ad(a){return"number"==typeof a&&isFinite(a)}function ae(a){return"number"==typeof a&&a%1==0}function af(a){return"string"==typeof a}function ag(a){return"boolean"==typeof a}function ah(e){var d,c,b,a=e;if(!a||"object"!=typeof a)return a;for(c in d=Array.isArray(a)?[]:{},a)a.hasOwnProperty(c)&&(b=a[c],d[c]=b&&"object"==typeof b?ah(b):b);return d}function ai(a){return null!==a}function aj(a){return null===a?void 0:a}var o="'Trebuchet MS', Roboto, Ubuntu, sans-serif";function ak(c,b,a){return a=void 0!==a?"".concat(a," "):"",void 0===b&&(b=o),"".concat(a).concat(c,"px ").concat(b)}var al=function(){function a(a){this.k={N:1,C:4,S:NaN,T:"",D:"",A:"",B:0,L:0,F:0,O:0,V:0},this.P=a}return a.prototype.W=function(){var a=this.k,b=this.R(),c=this.I();return a.S===b&&a.D===c||(a.S=b,a.D=c,a.T=ak(b,c),a.O=Math.floor(b/3.5),a.B=a.O,a.L=Math.max(Math.ceil(b/2-a.C/2),0),a.F=Math.ceil(b/2+a.C/2),a.V=Math.round(b/10)),a.A=this.j(),this.k},a.prototype.j=function(){return this.P.W().layout.textColor},a.prototype.R=function(){return this.P.W().layout.fontSize},a.prototype.I=function(){return this.P.W().layout.fontFamily},a}(),am=function(){function a(){this.q=[]}return a.prototype.U=function(a){this.q=a},a.prototype.H=function(a,b,c,d){this.q.forEach(function(e){a.save(),e.H(a,b,c,d),a.restore()})},a}(),d=function(){function a(){}return a.prototype.H=function(a,b,c,d){a.save(),a.scale(b,b),this.Y(a,c,d),a.restore()},a.prototype.$=function(a,b,c,d){a.save(),a.scale(b,b),this.K(a,c,d),a.restore()},a.prototype.K=function(a,b,c){},a}(),an=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.X=null,a}return _(a,b),a.prototype.Z=function(a){this.X=a},a.prototype.Y=function(b){if(null!==this.X&&null!==this.X.J){var d=this.X.J,a=this.X,c=function(f){b.beginPath();for(var e=d.to-1;e>=d.from;--e){var c=a.G[e];b.moveTo(c.tt,c.it),b.arc(c.tt,c.it,f,0,2*Math.PI)}b.fill()};b.fillStyle=a.nt,c(a.st+2),b.fillStyle=a.ht,c(a.st)}},a}(d);function ao(){return{G:[{tt:0,it:0,rt:0,et:0}],ht:"",nt:"",st:0,J:null}}var ap={from:0,to:1},aq=function(){function a(a,b){this.ut=new am,this.ot=[],this.lt=[],this.ft=!0,this.P=a,this.ct=b,this.ut.U(this.ot)}return a.prototype.vt=function(b){var a=this.P._t();a.length!==this.ot.length&&(this.lt=a.map(ao),this.ot=this.lt.map(function(b){var a=new an;return a.Z(b),a}),this.ut.U(this.ot)),this.ft=!0},a.prototype.dt=function(a,b,c){return this.ft&&(this.wt(a),this.ft=!1),this.ut},a.prototype.wt=function(b){var c=this,a=this.P._t(),d=this.ct.Mt(),e=this.P.bt();a.forEach(function(g,i){var h,a=c.lt[i],f=g.gt(d);if(null!==f&&g.yt()){var j=P(g.kt());a.ht=f.Nt,a.st=f.st,a.G[0].et=f.et,a.G[0].it=g.Ct().xt(f.et,j.St),a.nt=null!==(h=f.Tt)&& void 0!==h?h:c.P.Dt(a.G[0].it/b),a.G[0].rt=d,a.G[0].tt=e.At(d),a.J=ap}else a.J=null})},a}(),ar=function(){function a(a){this.Bt=a}return a.prototype.H=function(a,b,i,j){if(null!==this.Bt){var c=this.Bt.Lt.yt,d=this.Bt.Et.yt;if(c||d){a.save();var e=Math.round(this.Bt.tt*b),f=Math.round(this.Bt.it*b),g=Math.ceil(this.Bt.Ft*b),h=Math.ceil(this.Bt.Ot*b);a.lineCap="butt",c&&e>=0&&(a.lineWidth=Math.floor(this.Bt.Lt.Vt*b),a.strokeStyle=this.Bt.Lt.A,a.fillStyle=this.Bt.Lt.A,L(a,this.Bt.Lt.Pt),function(a,b,e,d){a.beginPath();var c=a.lineWidth%2?.5:0;a.moveTo(b+c,0),a.lineTo(b+c,d),a.stroke()}(a,e,0,h)),d&&f>=0&&(a.lineWidth=Math.floor(this.Bt.Et.Vt*b),a.strokeStyle=this.Bt.Et.A,a.fillStyle=this.Bt.Et.A,L(a,this.Bt.Et.Pt),M(a,f,0,g)),a.restore()}}},a}(),as=function(){function a(a){this.ft=!0,this.Wt={Lt:{Vt:1,Pt:0,A:"",yt:!1},Et:{Vt:1,Pt:0,A:"",yt:!1},Ft:0,Ot:0,tt:0,it:0},this.zt=new ar(this.Wt),this.Rt=a}return a.prototype.vt=function(){this.ft=!0},a.prototype.dt=function(a,b){return this.ft&&(this.wt(),this.ft=!1),this.zt},a.prototype.wt=function(){var d=this.Rt.yt(),c=P(this.Rt.It()),b=c.jt().W().crosshair,a=this.Wt;a.Et.yt=d&&this.Rt.qt(c),a.Lt.yt=d&&this.Rt.Ut(),a.Et.Vt=b.horzLine.width,a.Et.Pt=b.horzLine.style,a.Et.A=b.horzLine.color,a.Lt.Vt=b.vertLine.width,a.Lt.Pt=b.vertLine.style,a.Lt.A=b.vertLine.color,a.Ft=c.Ht(),a.Ot=c.Yt(),a.tt=this.Rt.$t(),a.it=this.Rt.Kt()},a}();function at(b,c,d,e,f,a){b.fillRect(c+a,d,e-2*a,a),b.fillRect(c+a,d+f-a,e-2*a,a),b.fillRect(c,d,a,f),b.fillRect(c+e-a,d,a,f)}function au(a,b,c){a.save(),a.scale(b,b),c(),a.restore()}function av(a,b,c,d,e,f){a.save(),a.globalCompositeOperation="copy",a.fillStyle=f,a.fillRect(b,c,d,e),a.restore()}function aw(a,d,e,f,c,g,h){a.save(),a.globalCompositeOperation="copy";var b=a.createLinearGradient(0,0,0,c);b.addColorStop(0,g),b.addColorStop(1,h),a.fillStyle=b,a.fillRect(d,e,f,c),a.restore()}var ax,ay,az,aA,p,e,aB=function(){function a(a,b){this.Z(a,b)}return a.prototype.Z=function(a,b){this.Bt=a,this.Xt=b},a.prototype.H=function(a,b,A,o,B,c){if(this.Bt.yt){a.font=b.T;var f=this.Bt.Zt||!this.Bt.Jt?b.C:0,j=b.N,C=b.O,D=b.B,p=b.L,q=b.F,r=this.Bt.Gt,E=Math.ceil(A.Qt(a,r)),H=b.V,s=b.S+C+D,F=Math.ceil(.5*s),t=j+E+p+q+f,g=this.Xt.ti;this.Xt.ii&&(g=this.Xt.ii);var k,u,v=(g=Math.round(g))-F,I=v+s,h="right"===B,d=h?o:0,w=Math.ceil(o*c),l=d;if(a.fillStyle=this.Xt.t,a.lineWidth=1,a.lineCap="butt",r){h?(k=d-f,u=(l=d-t)+q):(l=d+t,k=d+f,u=d+j+f+p);var x=Math.max(1,Math.floor(c)),y=Math.max(1,Math.floor(j*c)),i=h?w:0,e=Math.round(v*c),z=Math.round(l*c),m=Math.round(g*c)-Math.floor(.5*c),n=m+x+(m-e),G=Math.round(k*c);a.save(),a.beginPath(),a.moveTo(i,e),a.lineTo(z,e),a.lineTo(z,n),a.lineTo(i,n),a.fill(),a.fillStyle=this.Bt.Tt,a.fillRect(h?w-y:0,e,y,n-e),this.Bt.Zt&&(a.fillStyle=this.Xt.A,a.fillRect(i,m,G-i,x)),a.textAlign="left",a.fillStyle=this.Xt.A,au(a,c,function(){a.fillText(r,u,I-D-H)}),a.restore()}}},a.prototype.Yt=function(a,b){return this.Bt.yt?a.S+a.O+a.B:0},a}(),h=function(){function a(a){this.ni={ti:0,A:"#FFF",t:"#000"},this.si={Gt:"",yt:!1,Zt:!0,Jt:!1,Tt:""},this.hi={Gt:"",yt:!1,Zt:!1,Jt:!0,Tt:""},this.ft=!0,this.ri=new(a||aB)(this.si,this.ni),this.ei=new(a||aB)(this.hi,this.ni)}return a.prototype.Gt=function(){return this.ui(),this.si.Gt},a.prototype.ti=function(){return this.ui(),this.ni.ti},a.prototype.vt=function(){this.ft=!0},a.prototype.Yt=function(b,a){return void 0===a&&(a=!1),Math.max(this.ri.Yt(b,a),this.ei.Yt(b,a))},a.prototype.ai=function(){return this.ni.ii||0},a.prototype.oi=function(a){this.ni.ii=a},a.prototype.li=function(){return this.ui(),this.si.yt||this.hi.yt},a.prototype.fi=function(){return this.ui(),this.si.yt},a.prototype.dt=function(a){return this.ui(),this.si.Zt=this.si.Zt&&a.W().drawTicks,this.hi.Zt=this.hi.Zt&&a.W().drawTicks,this.ri.Z(this.si,this.ni),this.ei.Z(this.hi,this.ni),this.ri},a.prototype.ci=function(){return this.ui(),this.ri.Z(this.si,this.ni),this.ei.Z(this.hi,this.ni),this.ei},a.prototype.ui=function(){this.ft&&(this.si.Zt=!0,this.hi.Zt=!1,this.vi(this.si,this.hi,this.ni))},a}(),aC=function(b){function a(c,d,e){var a=b.call(this)||this;return a.Rt=c,a._i=d,a.di=e,a}return _(a,b),a.prototype.vi=function(a,g,b){a.yt=!1;var c=this.Rt.W().horzLine;if(c.labelVisible){var d=this._i.kt();if(this.Rt.yt()&&!this._i.wi()&&null!==d){var e=Z(c.labelBackgroundColor);b.t=e.t,b.A=e.i;var f=this.di(this._i);b.ti=f.ti,a.Gt=this._i.Mi(f.et,d),a.yt=!0}}},a}(h),aD=/[1-9]/g,aE=function(){function a(){this.Bt=null}return a.prototype.Z=function(a){this.Bt=a},a.prototype.H=function(a,b,c){var v=this;if(null!==this.Bt&& !1!==this.Bt.yt&&0!==this.Bt.Gt.length){a.font=b.T;var j=Math.round(b.bi.Qt(a,this.Bt.Gt,aD));if(!(j<=0)){a.save();var n=b.mi,f=j+2*n,g=f/2,k=this.Bt.Ht,e=this.Bt.ti,d=Math.floor(e-g)+.5;d<0?(e+=Math.abs(0-d),d=Math.floor(e-g)+.5):d+f>k&&(e-=Math.abs(k-(d+f)),d=Math.floor(e-g)+.5);var o=d+f,l=0+b.N+b.O+b.S+b.B;a.fillStyle=this.Bt.t;var m=Math.round(d*c),h=Math.round(0*c),p=Math.round(o*c),q=Math.round(l*c);a.fillRect(m,h,p-m,q-h);var r=Math.round(this.Bt.ti*c),i=h,s=Math.round((i+b.N+b.C)*c);a.fillStyle=this.Bt.A;var t=Math.max(1,Math.floor(c)),u=Math.floor(.5*c);a.fillRect(r-u,i,t,s-i);var w=l-b.V-b.B;a.textAlign="left",a.fillStyle=this.Bt.A,au(a,c,function(){a.fillText(P(v.Bt).Gt,d+n,w)}),a.restore()}}},a}(),aF=function(){function a(a,b,c){this.ft=!0,this.zt=new aE,this.Wt={yt:!1,t:"#4c525e",A:"white",Gt:"",Ht:0,ti:NaN},this.ct=a,this.pi=b,this.di=c}return a.prototype.vt=function(){this.ft=!0},a.prototype.dt=function(){return this.ft&&(this.wt(),this.ft=!1),this.zt.Z(this.Wt),this.zt},a.prototype.wt=function(){var a=this.Wt;a.yt=!1;var c=this.ct.W().vertLine;if(c.labelVisible){var b=this.pi.bt();if(!b.wi()){var f=b.gi(this.ct.Mt());a.Ht=b.Ht();var d=this.di();if(d.rt){a.ti=d.ti,a.Gt=b.yi(P(f)),a.yt=!0;var e=Z(c.labelBackgroundColor);a.t=e.t,a.A=e.i}}}},a}(),i=function(){function a(){this.ki=null,this.Ni=0}return a.prototype.xi=function(){return this.Ni},a.prototype.Ci=function(a){this.Ni=a},a.prototype.Ct=function(){return this.ki},a.prototype.Si=function(a){this.ki=a},a.prototype.Ti=function(){return[]},a.prototype.yt=function(){return!0},a}();(e=p||(p={}))[e.Normal=0]="Normal",e[e.Magnet=1]="Magnet";var aG=function(b){function a(c,d){var e,f,a=b.call(this)||this;a.Di=null,a.Ai=NaN,a.Bi=0,a.Li=!0,a.Ei=new Map,a.Fi=!1,a.Oi=NaN,a.Vi=NaN,a.Pi=NaN,a.Wi=NaN,a.pi=c,a.zi=d,a.Ri=new aq(c,a),a.Ii=(e=function(){return a.Ai},f=function(){return a.Vi},function(b){var c=f(),d=e();if(b===P(a.Di).ji())return{et:d,ti:c};var g=P(b.kt());return{et:b.qi(c,g),ti:c}});var g=function(b,c){return function(){return{rt:a.pi.bt().gi(b()),ti:c()}}}(function(){return a.Bi},function(){return a.$t()});return a.Ui=new aF(a,c,g),a.Hi=new as(a),a}return _(a,b),a.prototype.W=function(){return this.zi},a.prototype.Yi=function(a,b){this.Pi=a,this.Wi=b},a.prototype.$i=function(){this.Pi=NaN,this.Wi=NaN},a.prototype.Ki=function(){return this.Pi},a.prototype.Xi=function(){return this.Wi},a.prototype.Zi=function(a,b,c){this.Fi||(this.Fi=!0),this.Li=!0,this.Ji(a,b,c)},a.prototype.Mt=function(){return this.Bi},a.prototype.$t=function(){return this.Oi},a.prototype.Kt=function(){return this.Vi},a.prototype.yt=function(){return this.Li},a.prototype.Gi=function(){this.Li=!1,this.Qi(),this.Ai=NaN,this.Oi=NaN,this.Vi=NaN,this.Di=null,this.$i()},a.prototype.tn=function(a){return null!==this.Di?[this.Hi,this.Ri]:[]},a.prototype.qt=function(a){return a===this.Di&&this.zi.horzLine.visible},a.prototype.Ut=function(){return this.zi.vertLine.visible},a.prototype.nn=function(a,c){this.Li&&this.Di===a||this.Ei.clear();var b=[];return this.Di===a&&b.push(this.sn(this.Ei,c,this.Ii)),b},a.prototype.Ti=function(){return this.Li?[this.Ui]:[]},a.prototype.It=function(){return this.Di},a.prototype.hn=function(){this.Hi.vt(),this.Ei.forEach(function(a){return a.vt()}),this.Ui.vt(),this.Ri.vt()},a.prototype.rn=function(a){return a&&!a.ji().wi()?a.ji():null},a.prototype.Ji=function(a,b,c){this.en(a,b,c)&&this.hn()},a.prototype.en=function(b,c,d){var f=this.Oi,g=this.Vi,h=this.Ai,i=this.Bi,j=this.Di,a=this.rn(d);this.Bi=b,this.Oi=isNaN(b)?NaN:this.pi.bt().At(b),this.Di=d;var e=null!==a?a.kt():null;return null!==a&&null!==e?(this.Ai=c,this.Vi=a.xt(c,e)):(this.Ai=NaN,this.Vi=NaN),f!==this.Oi||g!==this.Vi||i!==this.Bi||h!==this.Ai||j!==this.Di},a.prototype.Qi=function(){var a=this.pi._t().map(function(a){return a.an().un()}).filter(ai),b=0===a.length?null:Math.max.apply(Math,a);this.Bi=null!==b?b:NaN},a.prototype.sn=function(c,b,d){var a=c.get(b);return void 0===a&&(a=new aC(this,b,d),c.set(b,a)),a},a}(i);function aH(a){return"left"===a||"right"===a}var aI=function(){function a(a){this.on=new Map,this.ln=[],this.fn=a}return a.prototype.cn=function(c,d){var a,b,e=(a=this.on.get(c),b=d,void 0===a?b:{vn:Math.max(a.vn,b.vn),_n:a._n||b._n});this.on.set(c,e)},a.prototype.dn=function(){return this.fn},a.prototype.wn=function(b){var a=this.on.get(b);return void 0===a?{vn:this.fn}:{vn:Math.max(this.fn,a.vn),_n:a._n}},a.prototype.Mn=function(){this.ln=[{bn:0}]},a.prototype.mn=function(a){this.ln=[{bn:1,St:a}]},a.prototype.pn=function(){this.ln=[{bn:4}]},a.prototype.gn=function(a){this.ln.push({bn:2,St:a})},a.prototype.yn=function(a){this.ln.push({bn:3,St:a})},a.prototype.kn=function(){return this.ln},a.prototype.Nn=function(a){for(var e=this,b=0,c=a.ln;b<c.length;b++){var d=c[b];this.xn(d)}this.fn=Math.max(this.fn,a.fn),a.on.forEach(function(a,b){e.cn(b,a)})},a.prototype.xn=function(a){switch(a.bn){case 0:this.Mn();break;case 1:this.mn(a.St);break;case 2:this.gn(a.St);break;case 3:this.yn(a.St);break;case 4:this.pn()}},a}();function aJ(b,a){if(!ad(b))return"n/a";if(!ae(a)||a<0||a>16)throw TypeError("invalid length");return 0===a?b.toString():("0000000000000000"+b.toString()).slice(-a)}var q=function(){function a(a,b){if(b||(b=1),ad(a)&&ae(a)||(a=100),a<0)throw TypeError("invalid base");this._i=a,this.Cn=b,this.Sn()}return a.prototype.format=function(a){var b=a<0?"\u2212":"";return a=Math.abs(a),b+this.Tn(a)},a.prototype.Sn=function(){if(this.Dn=0,this._i>0&&this.Cn>0)for(var a=this._i;a>1;)a/=10,this.Dn++},a.prototype.Tn=function(f){var a=this._i/this.Cn,b=Math.floor(f),c="",d=void 0!==this.Dn?this.Dn:NaN;if(a>1){var e=+(Math.round(f*a)-b*a).toFixed(this.Dn);e>=a&&(e-=a,b+=1),c="."+aJ(+e.toFixed(this.Dn)*this.Cn,d)}else b=Math.round(b*a)/a,d>0&&(c="."+aJ(0,d));return b.toFixed(0)+c},a}(),E=function(b){function a(a){return void 0===a&&(a=100),b.call(this,a)||this}return _(a,b),a.prototype.format=function(a){return"".concat(b.prototype.format.call(this,a),"%")},a}(q),aK=function(){function a(a){this.An=a}return a.prototype.format=function(a){var b="";return a<0&&(b="-",a=-a),a<995?b+this.Bn(a):a<999995?b+this.Bn(a/1e3)+"K":a<999999995?(a=1e3*Math.round(a/1e3),b+this.Bn(a/1e6)+"M"):(a=1e6*Math.round(a/1e6),b+this.Bn(a/1e9)+"B")},a.prototype.Bn=function(a){var b=Math.pow(10,this.An);return((a=Math.round(a*b)/b)>=1e-15&&a<1?a.toFixed(this.An).replace(/\.?0+$/,""):String(a)).replace(/(\.[1-9]*)0+$/,function(b,a){return a})},a}();function aL(d,a,f,b){if(0!==a.length){var g=a[b.from].tt,h=a[b.from].it;d.moveTo(g,h);for(var c=b.from+1;c<b.to;++c){var e=a[c];if(1===f){var i=a[c-1].it,j=e.tt;d.lineTo(j,i)}d.lineTo(e.tt,e.it)}}}var r=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.X=null,a}return _(a,b),a.prototype.Z=function(a){this.X=a},a.prototype.Y=function(a){if(null!==this.X&&0!==this.X.G.length&&null!==this.X.J){if(a.lineCap="butt",a.lineJoin="round",a.lineWidth=this.X.Vt,L(a,this.X.Pt),a.lineWidth=1,a.beginPath(),1===this.X.G.length){var b=this.X.G[0],c=this.X.Ln/2;a.moveTo(b.tt-c,this.X.En),a.lineTo(b.tt-c,b.it),a.lineTo(b.tt+c,b.it),a.lineTo(b.tt+c,this.X.En)}else a.moveTo(this.X.G[this.X.J.from].tt,this.X.En),a.lineTo(this.X.G[this.X.J.from].tt,this.X.G[this.X.J.from].it),aL(a,this.X.G,this.X.Fn,this.X.J),this.X.J.to>this.X.J.from&&(a.lineTo(this.X.G[this.X.J.to-1].tt,this.X.En),a.lineTo(this.X.G[this.X.J.from].tt,this.X.En));a.closePath(),a.fillStyle=this.On(a),a.fill()}},a}(d),aM=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return _(a,b),a.prototype.On=function(c){var a=this.X,b=c.createLinearGradient(0,0,0,a.Vn);return b.addColorStop(0,a.Pn),b.addColorStop(1,a.Wn),b},a}(r),s=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.X=null,a}return _(a,b),a.prototype.Z=function(a){this.X=a},a.prototype.Y=function(a){if(null!==this.X&&0!==this.X.G.length&&null!==this.X.J){if(a.lineCap="butt",a.lineWidth=this.X.Vt,L(a,this.X.Pt),a.strokeStyle=this.zn(a),a.lineJoin="round",1===this.X.G.length){a.beginPath();var b=this.X.G[0];a.moveTo(b.tt-this.X.Ln/2,b.it),a.lineTo(b.tt+this.X.Ln/2,b.it),void 0!==b.A&&(a.strokeStyle=b.A),a.stroke()}else this.Rn(a,this.X)}},a.prototype.Rn=function(a,b){a.beginPath(),aL(a,b.G,b.Fn,b.J),a.stroke()},a}(d),aN=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return _(a,b),a.prototype.Rn=function(a,c){var h,i,d=c.G,e=c.J,l=c.Fn,m=c.ht;if(0!==d.length&&null!==e){a.beginPath();var j=d[e.from];a.moveTo(j.tt,j.it);var k=null!==(h=j.A)&& void 0!==h?h:m;a.strokeStyle=k;for(var n=function(b){a.stroke(),a.beginPath(),a.strokeStyle=b,k=b},f=e.from+1;f<e.to;++f){var b=d[f],o=d[f-1],g=null!==(i=b.A)&& void 0!==i?i:m;1===l&&(a.lineTo(b.tt,o.it),g!==k&&(n(g),a.moveTo(b.tt,o.it))),a.lineTo(b.tt,b.it),1!==l&&g!==k&&(n(g),a.moveTo(b.tt,b.it))}a.stroke()}},a.prototype.zn=function(){return this.X.ht},a}(s);function aO(e,g,h,a,c){void 0===a&&(a=0),void 0===c&&(c=e.length);for(var b=c-a;0<b;){var d=b>>1,f=a+d;h(e[f],g)?(a=f+1,b-=d+1):b=d}return a}function aP(e,g,h,a,c){void 0===a&&(a=0),void 0===c&&(c=e.length);for(var b=c-a;0<b;){var d=b>>1,f=a+d;h(g,e[f])?b=d:(a=f+1,b-=d+1)}return a}function aQ(a,b){return a.rt<b}function aR(a,b){return a<b.rt}function aS(a,d,i){var e=d.In(),f=d.jn(),b=aO(a,e,aQ),c=aP(a,f,aR);if(!i)return{from:b,to:c};var g=b,h=c;return b>0&&b<a.length&&a[b].rt>=e&&(g=b-1),c>0&&c<a.length&&a[c-1].rt<=f&&(h=c+1),{from:g,to:h}}var j=function(){function a(a,b,c){this.qn=!0,this.Un=!0,this.Hn=!0,this.Yn=[],this.$n=null,this.Kn=a,this.Xn=b,this.Zn=c}return a.prototype.vt=function(a){this.qn=!0,"data"===a&&(this.Un=!0),"options"===a&&(this.Hn=!0)},a.prototype.Jn=function(){this.Un&&(this.Gn(),this.Un=!1),this.qn&&(this.Qn(),this.qn=!1),this.Hn&&(this.ts(),this.Hn=!1)},a.prototype.ns=function(){this.$n=null},a.prototype.Qn=function(){var b=this.Kn.Ct(),a=this.Xn.bt();if(this.ns(),!a.wi()&&!b.wi()){var c=a.ss();if(null!==c&&0!==this.Kn.an().hs()){var d=this.Kn.kt();null!==d&&(this.$n=aS(this.Yn,c,this.Zn),this.rs(b,a,d.St))}}},a}(),k=function(b){function a(a,c){return b.call(this,a,c,!0)||this}return _(a,b),a.prototype.rs=function(a,b,c){b.es(this.Yn,aj(this.$n)),a.us(this.Yn,c,aj(this.$n))},a.prototype.os=function(a,b){return{rt:a,et:b,tt:NaN,it:NaN}},a.prototype.ts=function(){},a.prototype.Gn=function(){var a=this,b=this.Kn.ls();this.Yn=this.Kn.an().fs().map(function(c){var d=c.St[3];return a.cs(c.vs,d,b)})},a}(j),aT=function(b){function a(c,d){var a=b.call(this,c,d)||this;return a.zt=new am,a._s=new aM,a.ds=new aN,a.zt.U([a._s,a.ds]),a}return _(a,b),a.prototype.dt=function(b,c){if(!this.Kn.yt())return null;var a=this.Kn.W();return this.Jn(),this._s.Z({Fn:a.lineType,G:this.Yn,Pt:a.lineStyle,Vt:a.lineWidth,Pn:a.topColor,Wn:a.bottomColor,En:b,Vn:b,J:this.$n,Ln:this.Xn.bt().ws()}),this.ds.Z({Fn:a.lineType,G:this.Yn,ht:a.lineColor,Pt:a.lineStyle,Vt:a.lineWidth,J:this.$n,Ln:this.Xn.bt().ws()}),this.zt},a.prototype.cs=function(a,b){return this.os(a,b)},a}(k),aU=function(){function a(){this.Bt=null,this.Ms=0,this.bs=0}return a.prototype.Z=function(a){this.Bt=a},a.prototype.H=function(g,b,x,y){if(null!==this.Bt&&0!==this.Bt.an.length&&null!==this.Bt.J){this.Ms=this.ps(b),this.Ms>=2&&Math.max(1,Math.floor(b))%2!=this.Ms%2&&this.Ms--,this.bs=this.Bt.gs?Math.min(this.Ms,Math.floor(b)):this.Ms;for(var o=null,s=this.bs<=this.Ms&&this.Bt.ws>=Math.floor(1.5*b),j=this.Bt.J.from;j<this.Bt.J.to;++j){var a=this.Bt.an[j];o!==a.A&&(g.fillStyle=a.A,o=a.A);var e=Math.floor(.5*this.bs),k=Math.round(a.tt*b),l=k-e,d=this.bs,p=l+d-1,t=Math.min(a.ys,a.ks),u=Math.max(a.ys,a.ks),c=Math.round(t*b)-e,v=Math.round(u*b)+e,f=Math.max(v-c,this.bs);g.fillRect(l,c,d,f);var q=Math.ceil(1.5*this.Ms);if(s){if(this.Bt.Ns){var r=k-q,h=Math.max(c,Math.round(a.xs*b)-e),m=h+d-1;m>c+f-1&&(h=(m=c+f-1)-d+1),g.fillRect(r,h,l-r,m-h+1)}var w=k+q,i=Math.max(c,Math.round(a.Cs*b)-e),n=i+d-1;n>c+f-1&&(i=(n=c+f-1)-d+1),g.fillRect(p+1,i,w-p,n-i+1)}}}},a.prototype.ps=function(a){var b,c;return Math.max(Math.floor(a),Math.floor((b=P(this.Bt).ws,Math.floor(.3*b*(c=a)))))},a}(),t=function(b){function a(a,c){return b.call(this,a,c,!1)||this}return _(a,b),a.prototype.rs=function(a,b,c){b.es(this.Yn,aj(this.$n)),a.Ss(this.Yn,c,aj(this.$n))},a.prototype.Ts=function(b,a,c){return{rt:b,open:a.St[0],high:a.St[1],low:a.St[2],close:a.St[3],tt:NaN,xs:NaN,ys:NaN,ks:NaN,Cs:NaN}},a.prototype.Gn=function(){var a=this,b=this.Kn.ls();this.Yn=this.Kn.an().fs().map(function(c){return a.cs(c.vs,c,b)})},a}(j),aV=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.zt=new aU,a}return _(a,b),a.prototype.dt=function(c,d){if(!this.Kn.yt())return null;var a=this.Kn.W();this.Jn();var b={an:this.Yn,ws:this.Xn.bt().ws(),Ns:a.openVisible,gs:a.thinBars,J:this.$n};return this.zt.Z(b),this.zt},a.prototype.ts=function(){var a=this;this.Yn.forEach(function(b){b.A=a.Kn.ls().As(b.rt).Ds})},a.prototype.cs=function(a,d,b){return c(c({},this.Ts(a,d,b)),{A:b.As(a).Ds})},a}(t);function aW(a,b,c){return Math.min(Math.max(a,b),c)}function aX(a){return a<=0?NaN:Math.log(a)/Math.log(10)}function aY(b){var a=Math.ceil(b);return a%2!=0?a-1:a}function aZ(b){var a=Math.ceil(b);return a%2==0?a-1:a}var a$=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return _(a,b),a.prototype.On=function(d){var a=this.X,b=d.createLinearGradient(0,0,0,a.Vn),c=aW(a.En/a.Vn,0,1);return b.addColorStop(0,a.Bs),b.addColorStop(c,a.Ls),b.addColorStop(c,a.Es),b.addColorStop(1,a.Fs),b},a}(r),a_=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return _(a,b),a.prototype.zn=function(d){var a=this.X,b=d.createLinearGradient(0,0,0,a.Vn),c=aW(a.En/a.Vn,0,1);return b.addColorStop(0,a.Pn),b.addColorStop(c,a.Pn),b.addColorStop(c,a.Wn),b.addColorStop(1,a.Wn),b},a}(s),a0=function(b){function a(c,d){var a=b.call(this,c,d)||this;return a.Os=new a$,a.Vs=new a_,a.ut=new am,a.ut.U([a.Os,a.Vs]),a}return _(a,b),a.prototype.dt=function(b,f){if(!this.Kn.yt())return null;var c=this.Kn.kt();if(null===c)return null;var a=this.Kn.W();this.Jn();var d=this.Kn.Ct().xt(a.baseValue.price,c.St),e=this.Xn.bt().ws();return this.Os.Z({G:this.Yn,Bs:a.topFillColor1,Ls:a.topFillColor2,Es:a.bottomFillColor1,Fs:a.bottomFillColor2,Vt:a.lineWidth,Pt:a.lineStyle,Fn:0,En:d,Vn:b,J:this.$n,Ln:e}),this.Vs.Z({G:this.Yn,Pn:a.topLineColor,Wn:a.bottomLineColor,Vt:a.lineWidth,Pt:a.lineStyle,Fn:0,En:d,Vn:b,J:this.$n,Ln:e}),this.ut},a.prototype.cs=function(a,b){return this.os(a,b)},a}(k),a1=function(){function a(){this.Bt=null,this.Ms=0}return a.prototype.Z=function(a){this.Bt=a},a.prototype.H=function(b,a,e,f){if(null!==this.Bt&&0!==this.Bt.an.length&&null!==this.Bt.J){this.Ms=function(a,b){if(a>=2.5&&a<=4)return Math.floor(3*b);var c=1-.2*Math.atan(Math.max(4,a)-4)/(.5*Math.PI),d=Math.floor(a*c*b),e=Math.floor(a*b),f=Math.min(d,e);return Math.max(Math.floor(b),f)}(this.Bt.ws,a),this.Ms>=2&&Math.floor(a)%2!=this.Ms%2&&this.Ms--;var c=this.Bt.an;this.Bt.Ps&&this.Ws(b,c,this.Bt.J,a),this.Bt.zs&&this.Rs(b,c,this.Bt.J,this.Bt.ws,a);var d=this.Is(a);(!this.Bt.zs||this.Ms>2*d)&&this.js(b,c,this.Bt.J,a)}},a.prototype.Ws=function(e,n,i,b){if(null!==this.Bt){var j="",d=Math.min(Math.floor(b),Math.floor(this.Bt.ws*b));d=Math.max(Math.floor(b),Math.min(d,this.Ms));for(var o=Math.floor(.5*d),f=null,g=i.from;g<i.to;g++){var a=n[g];a.qs!==j&&(e.fillStyle=a.qs,j=a.qs);var p=Math.round(Math.min(a.xs,a.Cs)*b),k=Math.round(Math.max(a.xs,a.Cs)*b),l=Math.round(a.ys*b),q=Math.round(a.ks*b),c=Math.round(b*a.tt)-o,h=c+d-1;null!==f&&(c=Math.max(f+1,c),c=Math.min(c,h));var m=h-c+1;e.fillRect(c,l,m,p-l),e.fillRect(c,k+1,m,q-k),f=h}}},a.prototype.Is=function(a){var b=Math.floor(1*a);this.Ms<=2*b&&(b=Math.floor(.5*(this.Ms-1)));var c=Math.max(Math.floor(a),b);return this.Ms<=2*c?Math.max(Math.floor(a),Math.floor(1*a)):c},a.prototype.Rs=function(f,m,i,o,c){if(null!==this.Bt)for(var j="",k=this.Is(c),g=null,h=i.from;h<i.to;h++){var b=m[h];b.Tt!==j&&(f.fillStyle=b.Tt,j=b.Tt);var a=Math.round(b.tt*c)-Math.floor(.5*this.Ms),d=a+this.Ms-1,e=Math.round(Math.min(b.xs,b.Cs)*c),l=Math.round(Math.max(b.xs,b.Cs)*c);if(null!==g&&(a=Math.max(g+1,a),a=Math.min(a,d)),this.Bt.ws*c>2*k)at(f,a,e,d-a+1,l-e+1,k);else{var n=d-a+1;f.fillRect(a,e,n,l-e+1)}g=d}},a.prototype.js=function(h,m,i,b){if(null!==this.Bt)for(var j="",c=this.Is(b),f=i.from;f<i.to;f++){var a=m[f],d=Math.round(Math.min(a.xs,a.Cs)*b),g=Math.round(Math.max(a.xs,a.Cs)*b),e=Math.round(a.tt*b)-Math.floor(.5*this.Ms),k=e+this.Ms-1;if(a.A!==j){var l=a.A;h.fillStyle=l,j=l}this.Bt.zs&&(e+=c,d+=c,k-=c,g-=c),d>g||h.fillRect(e,d,k-e+1,g-d+1)}},a}(),a2=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.zt=new a1,a}return _(a,b),a.prototype.dt=function(c,d){if(!this.Kn.yt())return null;var a=this.Kn.W();this.Jn();var b={an:this.Yn,ws:this.Xn.bt().ws(),Ps:a.wickVisible,zs:a.borderVisible,J:this.$n};return this.zt.Z(b),this.zt},a.prototype.ts=function(){var a=this;this.Yn.forEach(function(b){var c=a.Kn.ls().As(b.rt);b.A=c.Ds,b.qs=c.Us,b.Tt=c.Hs})},a.prototype.cs=function(b,e,d){var a=d.As(b);return c(c({},this.Ts(b,e,d)),{A:a.Ds,qs:a.Us,Tt:a.Hs})},a}(t),a3=function(){function a(){this.Bt=null,this.Ys=[]}return a.prototype.Z=function(a){this.Bt=a,this.Ys=[]},a.prototype.H=function(i,a,l,m){if(null!==this.Bt&&0!==this.Bt.G.length&&null!==this.Bt.J){this.Ys.length||this.$s(a);for(var b=Math.max(1,Math.floor(a)),e=Math.round(this.Bt.Ks*a)-Math.floor(b/2),k=e+b,c=this.Bt.J.from;c<this.Bt.J.to;c++){var j=this.Bt.G[c],f=this.Ys[c-this.Bt.J.from],g=Math.round(j.it*a);i.fillStyle=j.A;var d=void 0,h=void 0;g<=e?(d=g,h=k):(d=e,h=g-Math.floor(b/2)+b),i.fillRect(f.In,d,f.jn-f.In+1,h-d)}}},a.prototype.$s=function(c){if(null!==this.Bt&&0!==this.Bt.G.length&&null!==this.Bt.J){var e=1>=Math.ceil(this.Bt.ws*c)?0:Math.max(1,Math.floor(c)),i=Math.round(this.Bt.ws*c)-e;this.Ys=Array(this.Bt.J.to-this.Bt.J.from);for(var a=this.Bt.J.from;a<this.Bt.J.to;a++){var g,j=this.Bt.G[a],f=Math.round(j.tt*c),k=void 0,l=void 0;i%2?(k=f-(g=(i-1)/2),l=f+g):(k=f-(g=i/2),l=f+g-1),this.Ys[a-this.Bt.J.from]={In:k,jn:l,Xs:f,Zs:j.tt*c,rt:j.rt}}for(a=this.Bt.J.from+1;a<this.Bt.J.to;a++){var b=this.Ys[a-this.Bt.J.from],d=this.Ys[a-this.Bt.J.from-1];b.rt===d.rt+1&&b.In-d.jn!==e+1&&(d.Xs>d.Zs?d.jn=b.In-e-1:b.In=d.jn+e+1)}var h=Math.ceil(this.Bt.ws*c);for(a=this.Bt.J.from;a<this.Bt.J.to;a++){(b=this.Ys[a-this.Bt.J.from]).jn<b.In&&(b.jn=b.In);var m=b.jn-b.In+1;h=Math.min(m,h)}if(e>0&&h<4)for(a=this.Bt.J.from;a<this.Bt.J.to;a++)(m=(b=this.Ys[a-this.Bt.J.from]).jn-b.In+1)>h&&(b.Xs>b.Zs?b.jn-=1:b.In+=1)}else this.Ys=[]},a}();function a4(a){return{G:[],ws:a,Ks:NaN,J:null}}function a5(a,b,c){return{rt:a,et:b,tt:NaN,it:NaN,A:c}}var a6=function(b){function a(c,d){var a=b.call(this,c,d,!1)||this;return a.ut=new am,a.Js=a4(0),a.zt=new a3,a}return _(a,b),a.prototype.dt=function(a,b){return this.Kn.yt()?(this.Jn(),this.ut):null},a.prototype.Gn=function(){var f=this.Xn.bt().ws();this.Js=a4(f);for(var c=0,g=0,h=this.Kn.W().color,b=0,d=this.Kn.an().fs();b<d.length;b++){var a=d[b],i=a.St[3],j=void 0!==a.A?a.A:h,e=a5(a.vs,i,j);++c<this.Js.G.length?this.Js.G[c]=e:this.Js.G.push(e),this.Yn[g++]={rt:a.vs,tt:0}}this.zt.Z(this.Js),this.ut.U([this.zt])},a.prototype.ts=function(){},a.prototype.ns=function(){b.prototype.ns.call(this),this.Js.J=null},a.prototype.rs=function(b,a,c){if(null!==this.$n){var d=a.ws(),e=P(a.ss()),f=b.xt(this.Kn.W().base,c);a.es(this.Js.G),b.us(this.Js.G,c),this.Js.Ks=f,this.Js.J=aS(this.Js.G,e,!1),this.Js.ws=d,this.zt.Z(this.Js)}},a}(j),a7=function(b){function a(c,d){var a=b.call(this,c,d)||this;return a.ds=new aN,a}return _(a,b),a.prototype.dt=function(c,d){if(!this.Kn.yt())return null;var a=this.Kn.W();this.Jn();var b={G:this.Yn,ht:a.color,Pt:a.lineStyle,Fn:a.lineType,Vt:a.lineWidth,J:this.$n,Ln:this.Xn.bt().ws()};return this.ds.Z(b),this.ds},a.prototype.ts=function(){var a=this;this.Yn.forEach(function(b){b.A=a.Kn.ls().As(b.rt).Ds})},a.prototype.cs=function(a,c,d){var b=this.os(a,c);return b.A=d.As(a).Ds,b},a}(k),a8=/[2-9]/g,a9=function(){function a(a){void 0===a&&(a=50),this.Gs=new Map,this.Qs=0,this.th=Array.from(Array(a))}return a.prototype.ih=function(){this.Gs.clear(),this.th.fill(void 0)},a.prototype.Qt=function(e,c,f){var a=String(c).replace(f||a8,"0"),b=this.Gs.get(a);if(void 0===b){if(0===(b=e.measureText(a).width)&&0!==c.length)return 0;var d=this.th[this.Qs];void 0!==d&&this.Gs.delete(d),this.th[this.Qs]=a,this.Qs=(this.Qs+1)%this.th.length,this.Gs.set(a,b)}return b},a}(),ba=function(){function a(a){this.nh=null,this.k=null,this.sh="right",this.hh=0,this.rh=a}return a.prototype.eh=function(a,b,c,d){this.nh=a,this.k=b,this.hh=c,this.sh=d},a.prototype.H=function(a,b){null!==this.k&&null!==this.nh&&this.nh.H(a,this.k,this.rh,this.hh,this.sh,b)},a}(),bb=function(){function a(a,b,c){this.uh=a,this.rh=new a9(50),this.ah=b,this.P=c,this.R=-1,this.zt=new ba(this.rh)}return a.prototype.dt=function(f,e){var a=this.P.oh(this.ah);if(null===a)return null;var c=a.lh(this.ah)?a.fh():this.ah.Ct();if(null===c)return null;var d=a._h(c);if("overlay"===d)return null;var b=this.P.dh();return b.S!==this.R&&(this.R=b.S,this.rh.ih()),this.zt.eh(this.uh.ci(),b,e,d),this.zt},a}(),bc=function(){function a(){this.Bt=null}return a.prototype.Z=function(a){this.Bt=a},a.prototype.H=function(a,b,e,f){if(null!==this.Bt&& !1!==this.Bt.yt){var c=Math.round(this.Bt.it*b);if(!(c<0||c>Math.ceil(this.Bt.Yt*b))){var d=Math.ceil(this.Bt.Ht*b);a.lineCap="butt",a.strokeStyle=this.Bt.A,a.lineWidth=Math.floor(this.Bt.Vt*b),L(a,this.Bt.Pt),M(a,c,0,d)}}},a}(),l=function(){function a(a){this.wh={Ht:0,Yt:0,it:0,A:"rgba(0, 0, 0, 0)",Vt:1,Pt:0,yt:!1},this.Mh=new bc,this.ft=!0,this.Kn=a,this.Xn=a.jt(),this.Mh.Z(this.wh)}return a.prototype.vt=function(){this.ft=!0},a.prototype.dt=function(a,b){return this.Kn.yt()?(this.ft&&(this.bh(a,b),this.ft=!1),this.Mh):null},a}(),bd=function(b){function a(a){return b.call(this,a)||this}return _(a,b),a.prototype.bh=function(e,f){this.wh.yt=!1;var c=this.Kn.Ct(),d=c.mh().mh;if(2===d||3===d){var a=this.Kn.W();if(a.baseLineVisible&&this.Kn.yt()){var b=this.Kn.kt();null!==b&&(this.wh.yt=!0,this.wh.it=c.xt(b.St,b.St),this.wh.Ht=f,this.wh.Yt=e,this.wh.A=a.baseLineColor,this.wh.Vt=a.baseLineWidth,this.wh.Pt=a.baseLineStyle)}}},a}(l),be=function(){function a(){this.Bt=null}return a.prototype.Z=function(a){this.Bt=a},a.prototype.ph=function(){return this.Bt},a.prototype.H=function(a,c,i,j){var b=this.Bt;if(null!==b){a.save();var d=Math.max(1,Math.floor(c)),g=d%2/2,e=Math.round(b.Zs.x*c)+g,f=b.Zs.y*c;a.fillStyle=b.gh,a.beginPath();var h=Math.max(2,1.5*b.yh)*c;a.arc(e,f,h,0,2*Math.PI,!1),a.fill(),a.fillStyle=b.kh,a.beginPath(),a.arc(e,f,b.st*c,0,2*Math.PI,!1),a.fill(),a.lineWidth=d,a.strokeStyle=b.Nh,a.beginPath(),a.arc(e,f,b.st*c+d/2,0,2*Math.PI,!1),a.stroke(),a.restore()}},a}(),bf=[{xh:0,Ch:.25,Sh:4,Th:10,Dh:.25,Ah:0,Bh:.4,Lh:.8},{xh:.25,Ch:.525,Sh:10,Th:14,Dh:0,Ah:0,Bh:.8,Lh:0},{xh:.525,Ch:1,Sh:14,Th:14,Dh:0,Ah:0,Bh:0,Lh:0}];function bg(b,c,a,d){return function(b,c){if("transparent"===b)return b;var a=Y(b),d=a[3];return"rgba(".concat(a[0],", ").concat(a[1],", ").concat(a[2],", ").concat(c*d,")")}(b,a+(d-a)*c)}function bh(k,g){for(var a,b=k%2600/2600,c=0,h=bf;c<h.length;c++){var d=h[c];if(b>=d.xh&&b<=d.Ch){a=d;break}}N(void 0!==a,"Last price animation internal logic error");var i,e,j,f=(b-a.xh)/(a.Ch-a.xh);return{kh:bg(g,f,a.Dh,a.Ah),Nh:bg(g,f,a.Bh,a.Lh),st:(i=f,e=a.Sh,j=a.Th,e+(j-e)*i)}}var bi=function(){function a(a){this.zt=new be,this.ft=!0,this.Eh=!0,this.Fh=performance.now(),this.Oh=this.Fh-1,this.Vh=a}return a.prototype.Ph=function(){this.Oh=this.Fh-1,this.vt()},a.prototype.Wh=function(){if(this.vt(),2===this.Vh.W().lastPriceAnimation){var a=performance.now(),b=this.Oh-a;if(b>0)return void(b<650&&(this.Oh+=2600));this.Fh=a,this.Oh=a+2600}},a.prototype.vt=function(){this.ft=!0},a.prototype.zh=function(){this.Eh=!0},a.prototype.yt=function(){return 0!==this.Vh.W().lastPriceAnimation},a.prototype.Rh=function(){switch(this.Vh.W().lastPriceAnimation){case 0:return!1;case 1:return!0;case 2:return performance.now()<=this.Oh}},a.prototype.dt=function(a,b){return this.ft?(this.wt(a,b),this.ft=!1,this.Eh=!1):this.Eh&&(this.Ih(),this.Eh=!1),this.zt},a.prototype.wt=function(i,j){this.zt.Z(null);var c=this.Vh.jt().bt(),d=c.ss(),e=this.Vh.kt();if(null!==d&&null!==e){var a=this.Vh.jh(!0);if(!a.qh&&d.Uh(a.vs)){var g={x:c.At(a.vs),y:this.Vh.Ct().xt(a.et,e.St)},f=a.A,h=this.Vh.W().lineWidth,b=bh(this.Hh(),f);this.zt.Z({gh:f,yh:h,kh:b.kh,Nh:b.Nh,st:b.st,Zs:g})}}},a.prototype.Ih=function(){var a=this.zt.ph();if(null!==a){var b=bh(this.Hh(),a.gh);a.kh=b.kh,a.Nh=b.Nh,a.st=b.st}},a.prototype.Hh=function(){return this.Rh()?performance.now()-this.Fh:2599},a}();function bj(a,b){return aZ(Math.min(Math.max(a,12),30)*b)}function bk(b,a){switch(b){case"arrowDown":case"arrowUp":return bj(a,1);case"circle":return bj(a,.8);case"square":return bj(a,.7)}}function bl(a){return aY(bj(a,1))}function bm(a){return Math.max(bj(a,.1),3)}function bn(g,h,i,b,c){var a=bk("square",i),d=(a-1)/2,e=g-d,f=h-d;return b>=e&&b<=e+a&&c>=f&&c<=f+a}function bo(g,a,b,c,f){var d=(bk("arrowUp",f)-1)/2,e=(aZ(f/2)-1)/2;a.beginPath(),g?(a.moveTo(b-d,c),a.lineTo(b,c-d),a.lineTo(b+d,c),a.lineTo(b+e,c),a.lineTo(b+e,c+d),a.lineTo(b-e,c+d),a.lineTo(b-e,c)):(a.moveTo(b-d,c),a.lineTo(b,c+d),a.lineTo(b+d,c),a.lineTo(b+e,c),a.lineTo(b+e,c-d),a.lineTo(b-e,c-d),a.lineTo(b-e,c)),a.fill()}var bp=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.Bt=null,a.rh=new a9,a.R=-1,a.I="",a.Yh="",a}return _(a,b),a.prototype.Z=function(a){this.Bt=a},a.prototype.eh=function(a,b){this.R===a&&this.I===b||(this.R=a,this.I=b,this.Yh=ak(a,b),this.rh.ih())},a.prototype.$h=function(c,d){if(null===this.Bt||null===this.Bt.J)return null;for(var a=this.Bt.J.from;a<this.Bt.J.to;a++){var b=this.Bt.G[a];if(br(b,c,d))return{Kh:b.Xh,Zh:b.Zh}}return null},a.prototype.Y=function(b,d,e){if(null!==this.Bt&&null!==this.Bt.J){b.textBaseline="middle",b.font=this.Yh;for(var c=this.Bt.J.from;c<this.Bt.J.to;c++){var a=this.Bt.G[c];void 0!==a.Gt&&(a.Gt.Ht=this.rh.Qt(b,a.Gt.Jh),a.Gt.Yt=this.R),bq(a,b)}}},a}(d);function bq(a,b){b.fillStyle=a.A,void 0!==a.Gt&&function(a,b,c,d){a.fillText(b,c,d)}(b,a.Gt.Jh,a.tt-a.Gt.Ht/2,a.Gt.it),function(a,b){if(0!==a.hs){switch(a.Gh){case"arrowDown":return void bo(!1,b,a.tt,a.it,a.hs);case"arrowUp":return void bo(!0,b,a.tt,a.it,a.hs);case"circle":var c,d,e,f,g;return void(c=b,d=a.tt,e=a.it,f=a.hs,g=(bk("circle",f)-1)/2,c.beginPath(),c.arc(d,e,g,0,2*Math.PI,!1),c.fill());case"square":return void function(c,d,e,f){var a=bk("square",f),b=(a-1)/2,g=d-b,h=e-b;c.fillRect(g,h,a,a)}(b,a.tt,a.it,a.hs)}a.Gh}}(a,b)}function br(a,g,h){var b,c,i,j,d,e,f;return!(void 0===a.Gt||(b=a.tt,c=a.Gt.it,i=a.Gt.Ht,j=a.Gt.Yt,d=g,e=h,f=j/2,!(d>=b)||!(d<=b+i)||!(e>=c-f)||!(e<=c+f)))||function(a,b,c){var q,f,g,h,i,j,k,l,m,n,o,p,d,e;if(0===a.hs)return!1;switch(a.Gh){case"arrowDown":case"arrowUp":return f=a.tt,g=a.it,h=a.hs,i=b,j=c,bn(f,g,h,i,j);case"circle":return k=a.tt,l=a.it,m=a.hs,n=b,o=c,p=2+bk("circle",m)/2,d=k-n,e=l-o,Math.sqrt(d*d+e*e)<=p;case"square":return bn(a.tt,a.it,a.hs,b,c)}}(a,g,h)}function bs(a,f,b,c,d,g,i,k,j){var l=ad(b)?b:b.close,m=ad(b)?b:b.high,n=ad(b)?b:b.low,o=ad(f.size)?Math.max(f.size,0):1,h=bl(k.ws())*o,e=h/2;switch(a.hs=h,f.position){case"inBar":return a.it=i.xt(l,j),void(void 0!==a.Gt&&(a.Gt.it=a.it+e+g+.6*d));case"aboveBar":return a.it=i.xt(m,j)-e-c.Qh,void 0!==a.Gt&&(a.Gt.it=a.it-e-.6*d,c.Qh+=1.2*d),void(c.Qh+=h+g);case"belowBar":return a.it=i.xt(n,j)+e+c.tr,void 0!==a.Gt&&(a.Gt.it=a.it+e+g+.6*d,c.tr+=1.2*d),void(c.tr+=h+g)}f.position}var bt=function(){function a(a,b){this.ft=!0,this.ir=!0,this.nr=!0,this.sr=null,this.zt=new bp,this.Vh=a,this.pi=b,this.Bt={G:[],J:null}}return a.prototype.vt=function(a){this.ft=!0,this.nr=!0,"data"===a&&(this.ir=!0)},a.prototype.dt=function(b,c,d){if(!this.Vh.yt())return null;this.ft&&this.Jn();var a=this.pi.W().layout;return this.zt.eh(a.fontSize,a.fontFamily),this.zt.Z(this.Bt),this.zt},a.prototype.hr=function(){if(this.nr){if(this.Vh.rr().length>0){var a=this.pi.bt().ws(),c=bm(a),b=1.5*bl(a)+2*c;this.sr={above:b,below:b}}else this.sr=null;this.nr=!1}return this.sr},a.prototype.Jn=function(){var l=this.Vh.Ct(),c=this.pi.bt(),g=this.Vh.rr();this.ir&&(this.Bt.G=g.map(function(a){return{rt:a.time,tt:0,it:0,hs:0,Gh:a.shape,A:a.color,Xh:a.Xh,Zh:a.id,Gt:void 0}}),this.ir=!1);var m=this.pi.W().layout;this.Bt.J=null;var h=c.ss();if(null!==h){var i=this.Vh.kt();if(null!==i&&0!==this.Bt.G.length){var j=NaN,b=bm(c.ws()),e={Qh:b,tr:b};this.Bt.J=aS(this.Bt.G,h,!0);for(var d=this.Bt.J.from;d<this.Bt.J.to;d++){var a=g[d];a.time!==j&&(e.Qh=b,e.tr=b,j=a.time);var f=this.Bt.G[d];f.tt=c.At(a.time),void 0!==a.text&&a.text.length>0&&(f.Gt={Jh:a.text,it:0,Ht:0,Yt:0});var k=this.Vh.er(a.time);null!==k&&bs(f,a,k,e,m.fontSize,b,l,c,i.St)}this.ft=!1}}},a}(),bu=function(b){function a(a){return b.call(this,a)||this}return _(a,b),a.prototype.bh=function(d,e){var a=this.wh;a.yt=!1;var b=this.Kn.W();if(b.priceLineVisible&&this.Kn.yt()){var c=this.Kn.jh(0===b.priceLineSource);c.qh||(a.yt=!0,a.it=c.ti,a.A=this.Kn.ur(c.A),a.Ht=e,a.Yt=d,a.Vt=b.priceLineWidth,a.Pt=b.priceLineStyle)}},a}(l),bv=function(b){function a(c){var a=b.call(this)||this;return a.Rt=c,a}return _(a,b),a.prototype.vi=function(c,d,e){c.yt=!1,d.yt=!1;var a=this.Rt;if(a.yt()){var h=a.W(),f=h.lastValueVisible,i=""!==a.ar(),g=0===h.seriesLastValueMode,b=a.jh(!1);if(!b.qh){f&&(c.Gt=this.lr(b,f,g),c.yt=0!==c.Gt.length),(i||g)&&(d.Gt=this.cr(b,f,i,g),d.yt=d.Gt.length>0);var j=a.ur(b.A),k=Z(j);e.t=k.t,e.A=k.i,e.ti=b.ti,d.Tt=a.jt().Dt(b.ti/a.Ct().Yt()),c.Tt=j}}},a.prototype.cr=function(b,d,e,f){var a="",c=this.Rt.ar();return e&&0!==c.length&&(a+="".concat(c," ")),d&&f&&(a+=this.Rt.Ct().vr()?b._r:b.dr),a.trim()},a.prototype.lr=function(a,b,c){return b?c?this.Rt.Ct().vr()?a.dr:a._r:a.Gt:""},a}(h),bw=function(){function a(a,b){this.wr=a,this.Mr=b}return a.prototype.br=function(a){return null!==a&&this.wr===a.wr&&this.Mr===a.Mr},a.prototype.mr=function(){return new a(this.wr,this.Mr)},a.prototype.pr=function(){return this.wr},a.prototype.gr=function(){return this.Mr},a.prototype.yr=function(){return this.Mr-this.wr},a.prototype.wi=function(){return this.Mr===this.wr||Number.isNaN(this.Mr)||Number.isNaN(this.wr)},a.prototype.Nn=function(b){return null===b?this:new a(Math.min(this.pr(),b.pr()),Math.max(this.gr(),b.gr()))},a.prototype.kr=function(b){if(ad(b)&&0!=this.Mr-this.wr){var a=.5*(this.Mr+this.wr),c=this.Mr-a,d=this.wr-a;c*=b,d*=b,this.Mr=a+c,this.wr=a+d}},a.prototype.Nr=function(a){ad(a)&&(this.Mr+=a,this.wr+=a)},a.prototype.Cr=function(){return{minValue:this.wr,maxValue:this.Mr}},a.Sr=function(b){return null===b?null:new a(b.minValue,b.maxValue)},a}(),bx=function(){function a(a,b){this.Tr=a,this.Dr=b||null}return a.prototype.Ar=function(){return this.Tr},a.prototype.Br=function(){return this.Dr},a.prototype.Cr=function(){return null===this.Tr?null:{priceRange:this.Tr.Cr(),margins:this.Dr||void 0}},a.Sr=function(b){return null===b?null:new a(bw.Sr(b.priceRange),b.margins)},a}(),by=function(b){function a(c,d){var a=b.call(this,c)||this;return a.Lr=d,a}return _(a,b),a.prototype.bh=function(d,e){var a=this.wh;a.yt=!1;var b=this.Lr.W();if(this.Kn.yt()&&b.lineVisible){var c=this.Lr.Er();null!==c&&(a.yt=!0,a.it=c,a.A=b.color,a.Ht=e,a.Yt=d,a.Vt=b.lineWidth,a.Pt=b.lineStyle)}},a}(l),bz=function(b){function a(c,d){var a=b.call(this)||this;return a.Vh=c,a.Lr=d,a}return _(a,b),a.prototype.vi=function(d,b,e){d.yt=!1,b.yt=!1;var a=this.Lr.W(),h=a.axisLabelVisible,i=""!==a.title,c=this.Vh;if(h&&c.yt()){var f=this.Lr.Er();if(null!==f){i&&(b.Gt=a.title,b.yt=!0),b.Tt=c.jt().Dt(f/c.Ct().Yt()),d.Gt=c.Ct().Fr(a.price),d.yt=!0;var g=Z(a.color);e.t=g.t,e.A=g.i,e.ti=f}}},a}(h),bA=function(){function a(a,b){this.Vh=a,this.zi=b,this.Or=new by(a,this),this.uh=new bz(a,this),this.Vr=new bb(this.uh,a,a.jt())}return a.prototype.Pr=function(a){ac(this.zi,a),this.vt(),this.Vh.jt().Wr()},a.prototype.W=function(){return this.zi},a.prototype.tn=function(){return[this.Or,this.Vr]},a.prototype.zr=function(){return this.uh},a.prototype.vt=function(){this.Or.vt(),this.uh.vt()},a.prototype.Er=function(){var a=this.Vh,b=a.Ct();if(a.jt().bt().wi()||b.wi())return null;var c=a.kt();return null===c?null:b.xt(this.zi.price,c.St)},a}(),F=function(b){function a(c){var a=b.call(this)||this;return a.pi=c,a}return _(a,b),a.prototype.jt=function(){return this.pi},a}(i),bB={Ds:"",Hs:"",Us:""},bC=function(){function a(a){this.Vh=a}return a.prototype.As=function(b,c){var d=this.Vh.Rr(),a=this.Vh.W();switch(d){case"Line":return this.Ir(a,b,c);case"Area":return this.jr(a);case"Baseline":return this.qr(a,b,c);case"Bar":return this.Ur(a,b,c);case"Candlestick":return this.Hr(a,b,c);case"Histogram":return this.Yr(a,b,c)}throw Error("Unknown chart style")},a.prototype.Ur=function(d,h,i){var a=c({},bB),e=d.upColor,f=d.downColor,b=P(this.$r(h,i)),g=Q(b.St[0])<=Q(b.St[3]);return void 0!==b.A?(a.Ds=b.A,a.Hs=b.A):(a.Ds=g?e:f,a.Hs=g?e:f),a},a.prototype.Hr=function(a,i,j){var e,f,g,d=c({},bB),k=a.upColor,l=a.downColor,m=a.borderUpColor,n=a.borderDownColor,o=a.wickUpColor,p=a.wickDownColor,b=P(this.$r(i,j)),h=Q(b.St[0])<=Q(b.St[3]);return d.Ds=null!==(e=b.A)&& void 0!==e?e:h?k:l,d.Hs=null!==(f=b.Tt)&& void 0!==f?f:h?m:n,d.Us=null!==(g=b.qs)&& void 0!==g?g:h?o:p,d},a.prototype.jr=function(a){return c(c({},bB),{Ds:a.lineColor})},a.prototype.qr=function(a,b,d){var e=P(this.$r(b,d)).St[3]>=a.baseValue.price;return c(c({},bB),{Ds:e?a.topLineColor:a.bottomLineColor})},a.prototype.Ir=function(b,d,e){var a,f=P(this.$r(d,e));return c(c({},bB),{Ds:null!==(a=f.A)&& void 0!==a?a:b.color})},a.prototype.Yr=function(d,e,f){var a=c({},bB),b=P(this.$r(e,f));return a.Ds=void 0!==b.A?b.A:d.color,a},a.prototype.$r=function(b,a){return void 0!==a?a.St:this.Vh.an().Kr(b)},a}(),bD=function(){function a(){this.Xr=[],this.Zr=new Map,this.Jr=new Map}return a.prototype.Gr=function(){return this.hs()>0?this.Xr[this.Xr.length-1]:null},a.prototype.Qr=function(){return this.hs()>0?this.te(0):null},a.prototype.un=function(){return this.hs()>0?this.te(this.Xr.length-1):null},a.prototype.hs=function(){return this.Xr.length},a.prototype.wi=function(){return 0===this.hs()},a.prototype.Uh=function(a){return null!==this.ie(a,0)},a.prototype.Kr=function(a){return this.ne(a)},a.prototype.ne=function(d,a){void 0===a&&(a=0);var b=this.ie(d,a);return null===b?null:c(c({},this.se(b)),{vs:this.te(b)})},a.prototype.fs=function(){return this.Xr},a.prototype.he=function(d,e,f){if(this.wi())return null;for(var a=null,b=0,c=f;b<c.length;b++){var g=c[b];a=bE(a,this.re(d,e,g))}return a},a.prototype.Z=function(a){this.Jr.clear(),this.Zr.clear(),this.Xr=a},a.prototype.te=function(a){return this.Xr[a].vs},a.prototype.se=function(a){return this.Xr[a]},a.prototype.ie=function(a,b){var c=this.ee(a);if(null===c&&0!==b)switch(b){case -1:return this.ue(a);case 1:return this.ae(a);default:throw TypeError("Unknown search mode")}return c},a.prototype.ue=function(b){var a=this.oe(b);return a>0&&(a-=1),a!==this.Xr.length&&this.te(a)<b?a:null},a.prototype.ae=function(b){var a=this.le(b);return a!==this.Xr.length&&b<this.te(a)?a:null},a.prototype.ee=function(b){var a=this.oe(b);return a===this.Xr.length||b<this.Xr[a].vs?null:a},a.prototype.oe=function(a){return aO(this.Xr,a,function(a,b){return a.vs<b})},a.prototype.le=function(a){return aP(this.Xr,a,function(a,b){return b.vs>a})},a.prototype.fe=function(d,e,f){for(var a=null,c=d;c<e;c++){var b=this.Xr[c].St[f];Number.isNaN(b)||(null===a?a={ce:b,ve:b}:(b<a.ce&&(a.ce=b),b>a.ve&&(a.ve=b)))}return a},a.prototype.re=function(n,l,a){if(this.wi())return null;var b=null,o=P(this.Qr()),p=P(this.un()),f=Math.max(n,o),g=Math.min(l,p),h=30*Math.ceil(f/30),m=Math.max(h,30*Math.floor(g/30)),i=this.oe(f),j=this.le(Math.min(g,h,l));b=bE(b,this.fe(i,j,a));var c=this.Zr.get(a);void 0===c&&(c=new Map,this.Zr.set(a,c));for(var k=Math.max(h+1,f);k<m;k+=30){var d=Math.floor(k/30),e=c.get(d);if(void 0===e){var q=this.oe(30*d),r=this.le(30*(d+1)-1);e=this.fe(q,r,a),c.set(d,e)}b=bE(b,e)}return i=this.oe(m),j=this.le(g),bE(b,this.fe(i,j,a))},a}();function bE(a,b){return null===a?b:null===b?a:{ce:Math.min(a.ce,b.ce),ve:Math.max(a.ve,b.ve)}}var bF=function(b){function a(d,f,c){var a=b.call(this,d)||this;a.Bt=new bD,a.Or=new bu(a),a._e=[],a.de=new bd(a),a.we=null,a.Me=null,a.be=[],a.me=[],a.pe=null,a.zi=f,a.ge=c;var e=new bv(a);return a.Ei=[e],a.Vr=new bb(e,a,d),"Area"!==c&&"Line"!==c&&"Baseline"!==c||(a.we=new bi(a)),a.ye(),a.ke(),a}return _(a,b),a.prototype.g=function(){null!==this.pe&&clearTimeout(this.pe)},a.prototype.ur=function(a){return this.zi.priceLineColor||a},a.prototype.jh=function(j){var c={qh:!0},a=this.Ct();if(this.jt().bt().wi()||a.wi()||this.Bt.wi())return c;var d,e,i=this.jt().bt().ss(),f=this.kt();if(null===i||null===f)return c;if(j){var g=this.Bt.Gr();if(null===g)return c;d=g,e=g.vs}else{var h=this.Bt.ne(i.jn(),-1);if(null===h||null===(d=this.Bt.Kr(h.vs)))return c;e=h.vs}var b=d.St[3],k=this.ls().As(e,{St:d}),l=a.xt(b,f.St);return{qh:!1,et:b,Gt:a.Mi(b,f.St),_r:a.Fr(b),dr:a.Ne(b,f.St),A:k.Ds,ti:l,vs:e}},a.prototype.ls=function(){return null!==this.Me||(this.Me=new bC(this)),this.Me},a.prototype.W=function(){return this.zi},a.prototype.Pr=function(a){var b=a.priceScaleId;void 0!==b&&b!==this.zi.priceScaleId&&this.jt().xe(this,b),ac(this.zi,a),null!==this.ki&& void 0!==a.scaleMargins&&this.ki.Pr({scaleMargins:a.scaleMargins}),void 0!==a.priceFormat&&(this.ye(),this.jt().Ce()),this.jt().Se(this),this.jt().Te(),this.Hi.vt("options")},a.prototype.Z=function(a,b){this.Bt.Z(a),this.De(),this.Hi.vt("data"),this.Ri.vt("data"),null!==this.we&&(b&&b.Ae?this.we.Wh():0===a.length&&this.we.Ph());var c=this.jt().oh(this);this.jt().Be(c),this.jt().Se(this),this.jt().Te(),this.jt().Wr()},a.prototype.Le=function(a){this.be=a.map(function(a){return c({},a)}),this.De();var b=this.jt().oh(this);this.Ri.vt("data"),this.jt().Be(b),this.jt().Se(this),this.jt().Te(),this.jt().Wr()},a.prototype.rr=function(){return this.me},a.prototype.Ee=function(b){var a=new bA(this,b);return this._e.push(a),this.jt().Se(this),a},a.prototype.Fe=function(b){var a=this._e.indexOf(b);-1!==a&&this._e.splice(a,1),this.jt().Se(this)},a.prototype.Rr=function(){return this.ge},a.prototype.kt=function(){var a=this.Oe();return null===a?null:{St:a.St[3],Ve:a.rt}},a.prototype.Oe=function(){var a=this.jt().bt().ss();if(null===a)return null;var b=a.In();return this.Bt.ne(b,1)},a.prototype.an=function(){return this.Bt},a.prototype.er=function(b){var a=this.Bt.Kr(b);return null===a?null:"Bar"===this.ge||"Candlestick"===this.ge?{open:a.St[0],high:a.St[1],low:a.St[2],close:a.St[3]}:a.St[3]},a.prototype.Pe=function(b){var c=this,a=this.we;return null!==a&&a.yt()?(null===this.pe&&a.Rh()&&(this.pe=setTimeout(function(){c.pe=null,c.jt().We()},0)),a.zh(),[a]):[]},a.prototype.tn=function(){var a=[];this.ze()||a.push(this.de);for(var b=0,c=this._e;b<c.length;b++){var d=c[b];a.push.apply(a,d.tn())}return a.push(this.Hi,this.Or,this.Vr,this.Ri),a},a.prototype.nn=function(f,d){if(d!==this.ki&&!this.ze())return[];for(var b=aa([],this.Ei,!0),a=0,c=this._e;a<c.length;a++){var e=c[a];b.push(e.zr())}return b},a.prototype.Re=function(a,b){var d=this;if(void 0!==this.zi.autoscaleInfoProvider){var c=this.zi.autoscaleInfoProvider(function(){var c=d.Ie(a,b);return null===c?null:c.Cr()});return bx.Sr(c)}return this.Ie(a,b)},a.prototype.je=function(){return this.zi.priceFormat.minMove},a.prototype.qe=function(){return this.Ue},a.prototype.hn=function(){var a;this.Hi.vt(),this.Ri.vt();for(var b=0,d=this.Ei;b<d.length;b++)d[b].vt();for(var c=0,e=this._e;c<e.length;c++)e[c].vt();this.Or.vt(),this.de.vt(),null===(a=this.we)|| void 0===a||a.vt()},a.prototype.Ct=function(){return P(b.prototype.Ct.call(this))},a.prototype.gt=function(a){if(!(("Line"===this.ge||"Area"===this.ge||"Baseline"===this.ge)&&this.zi.crosshairMarkerVisible))return null;var b=this.Bt.Kr(a);return null===b?null:{et:b.St[3],st:this.He(),Tt:this.Ye(),Nt:this.$e(a)}},a.prototype.ar=function(){return this.zi.title},a.prototype.yt=function(){return this.zi.visible},a.prototype.ze=function(){return!aH(this.Ct().Ke())},a.prototype.Ie=function(c,d){if(!ae(c)||!ae(d)||this.Bt.wi())return null;var g="Line"===this.ge||"Area"===this.ge||"Baseline"===this.ge||"Histogram"===this.ge?[3]:[2,1],b=this.Bt.he(c,d,g),a=null!==b?new bw(b.ce,b.ve):null;if("Histogram"===this.Rr()){var e=this.zi.base,f=new bw(e,e);a=null!==a?a.Nn(f):f}return new bx(a,this.Ri.hr())},a.prototype.He=function(){switch(this.ge){case"Line":case"Area":case"Baseline":return this.zi.crosshairMarkerRadius}return 0},a.prototype.Ye=function(){switch(this.ge){case"Line":case"Area":case"Baseline":var a=this.zi.crosshairMarkerBorderColor;if(0!==a.length)return a}return null},a.prototype.$e=function(b){switch(this.ge){case"Line":case"Area":case"Baseline":var a=this.zi.crosshairMarkerBackgroundColor;if(0!==a.length)return a}return this.ls().As(b).Ds},a.prototype.ye=function(){switch(this.zi.priceFormat.type){case"custom":this.Ue={format:this.zi.priceFormat.formatter};break;case"volume":this.Ue=new aK(this.zi.priceFormat.precision);break;case"percent":this.Ue=new E(this.zi.priceFormat.precision);break;default:var a=Math.pow(10,this.zi.priceFormat.precision);this.Ue=new q(a,this.zi.priceFormat.minMove*a)}null!==this.ki&&this.ki.Xe()},a.prototype.De=function(){var b=this,a=this.jt().bt();if(a.wi()||0===this.Bt.hs())this.me=[];else{var c=P(this.Bt.Qr());this.me=this.be.map(function(d,f){var e=P(a.Ze(d.time,!0)),g=e<c?1:-1;return{time:P(b.Bt.ne(e,g)).vs,position:d.position,shape:d.shape,color:d.color,id:d.id,Xh:f,text:d.text,size:d.size}})}},a.prototype.ke=function(){switch(this.Ri=new bt(this,this.jt()),this.ge){case"Bar":this.Hi=new aV(this,this.jt());break;case"Candlestick":this.Hi=new a2(this,this.jt());break;case"Line":this.Hi=new a7(this,this.jt());break;case"Area":this.Hi=new aT(this,this.jt());break;case"Baseline":this.Hi=new a0(this,this.jt());break;case"Histogram":this.Hi=new a6(this,this.jt());break;default:throw Error("Unknown chart style assigned: "+this.ge)}},a}(F),bG=function(){function a(a){this.zi=a}return a.prototype.Je=function(e,h,f){var a=e;if(0===this.zi.mode)return a;var b=f.ji(),c=b.kt();if(null===c)return a;var i=b.xt(e,c),d=f.Ge().filter(function(a){return a instanceof bF}).reduce(function(b,a){if(f.lh(a)||!a.yt())return b;var c=a.Ct(),d=a.an();if(c.wi()||!d.Uh(h))return b;var e=d.Kr(h);if(null===e)return b;var g=Q(a.kt());return b.concat([c.xt(e.St[3],g.St)])},[]);if(0===d.length)return a;d.sort(function(a,b){return Math.abs(a-i)-Math.abs(b-i)});var g=d[0];return b.qi(g,c)},a}(),bH=function(){function a(){this.Bt=null}return a.prototype.Z=function(a){this.Bt=a},a.prototype.H=function(b,a,d,e){var f=this;if(null!==this.Bt){var c=Math.max(1,Math.floor(a));b.lineWidth=c;var g=Math.ceil(this.Bt.Ot*a),h=Math.ceil(this.Bt.Ft*a);!function(a,b){a.save(),a.lineWidth%2&&a.translate(.5,.5),b(),a.restore()}(b,function(){var d=P(f.Bt);if(d.Qe){b.strokeStyle=d.tu,L(b,d.iu),b.beginPath();for(var e=0,j=d.nu;e<j.length;e++){var k=Math.round(j[e].su*a);b.moveTo(k,-c),b.lineTo(k,g+c)}b.stroke()}if(d.hu){b.strokeStyle=d.ru,L(b,d.eu),b.beginPath();for(var i=0,l=d.uu;i<l.length;i++){var m=Math.round(l[i].su*a);b.moveTo(-c,m),b.lineTo(h+c,m)}b.stroke()}})}},a}(),bI=function(){function a(a){this.zt=new bH,this.ft=!0,this.Di=a}return a.prototype.vt=function(){this.ft=!0},a.prototype.dt=function(b,c){if(this.ft){var a=this.Di.jt().W().grid,d={Ot:b,Ft:c,hu:a.horzLines.visible,Qe:a.vertLines.visible,ru:a.horzLines.color,tu:a.vertLines.color,eu:a.horzLines.style,iu:a.vertLines.style,uu:this.Di.ji().au(),nu:this.Di.jt().bt().au()||[]};this.zt.Z(d),this.ft=!1}return this.zt},a}(),bJ=function(){function a(a){this.Hi=new bI(a)}return a.prototype.ou=function(){return this.Hi},a}(),bK={lu:4,fu:1e-4};function bL(c,a){var b=100*(c-a)/a;return a<0?-b:b}function bM(a,b){var c=bL(a.pr(),b),d=bL(a.gr(),b);return new bw(c,d)}function bN(c,a){var b=100*(c-a)/a+100;return a<0?-b:b}function bO(a,b){var c=bN(a.pr(),b),d=bN(a.gr(),b);return new bw(c,d)}function bP(a,b){var c=Math.abs(a);if(c<1e-15)return 0;var d=aX(c+b.fu)+b.lu;return a<0?-d:d}function bQ(a,b){var c=Math.abs(a);if(c<1e-15)return 0;var d=Math.pow(10,c-b.lu)-b.fu;return a<0?-d:d}function bR(a,b){if(null===a)return null;var c=bP(a.pr(),b),d=bP(a.gr(),b);return new bw(c,d)}function bS(a,b){if(null===a)return null;var c=bQ(a.pr(),b),d=bQ(a.gr(),b);return new bw(c,d)}function bT(a){if(null===a)return bK;var b=Math.abs(a.gr()-a.pr());if(b>=1||b<1e-15)return bK;var d=Math.ceil(Math.abs(Math.log10(b))),c=bK.lu+d;return{lu:c,fu:1/Math.pow(10,c)}}var u,bU=function(){function a(b,c){if(this.cu=b,this.vu=c,function(b){if(b<0)return!1;for(var a=b;a>1;a/=10)if(a%10!=0)return!1;return!0}(this.cu))this._u=[2,2.5,2];else{this._u=[];for(var a=this.cu;1!==a;){if(a%2==0)this._u.push(2),a/=2;else{if(a%5!=0)throw Error("unexpected base");this._u.push(2,2.5),a/=5}if(this._u.length>100)throw Error("something wrong with base")}}}return a.prototype.du=function(j,k,e){for(var f,l,x,y,m,g,c=0===this.cu?0:1/this.cu,a=Math.pow(10,Math.max(0,Math.ceil(aX(j-k)))),d=0,b=this.vu[0];;){var h,n,o,i,p,q,r,s,t,u=(h=a,o=1e-14,(n=c)-h<=1e-14&&a>c+1e-14),v=(i=a,q=1e-14,(p=e*b)-i<=1e-14),w=(s=1,t=1e-14,1-(r=a)<=1e-14);if(!(u&&v&&w))break;a/=b,b=this.vu[++d%this.vu.length]}if(a<=c+1e-14&&(a=c),a=Math.max(1,a),this._u.length>0&&(g=1e-14,Math.abs(a-(m=1))<g))for(d=0,b=this._u[0];f=a,(l=e*b)-f<=1e-14&&a>c+1e-14;)a/=b,b=this._u[++d%this._u.length];return a},a}(),bV=function(){function a(a,b,c,d){this.wu=[],this._i=a,this.cu=b,this.Mu=c,this.bu=d}return a.prototype.du=function(a,b){if(a<b)throw Error("high < low");var e=this._i.Yt(),c=(a-b)*this.mu()/e,f=new bU(this.cu,[2,2.5,2]),g=new bU(this.cu,[2,2,2.5]),h=new bU(this.cu,[2.5,2,2]),d=[];return d.push(f.du(a,b,c),g.du(a,b,c),h.du(a,b,c)),function(a){if(a.length<1)throw Error("array is empty");for(var c=a[0],b=1;b<a.length;++b)a[b]<c&&(c=a[b]);return c}(d)},a.prototype.pu=function(){var c=this._i,g=c.kt();if(null!==g){var j=c.Yt(),k=this.Mu(j-1,g),l=this.Mu(0,g),m=this._i.W().entireTextOnly?this.gu()/2:0,o=m,p=j-1-m,d=Math.max(k,l),e=Math.min(k,l);if(d!==e){for(var h=this.du(d,e),n=d%h,q=d>=e?1:-1,i=null,f=0,a=d-(n+=n<0?h:0);a>e;a-=h){var b=this.bu(a,g,!0);null!==i&&Math.abs(b-i)<this.mu()||b<o||b>p||(f<this.wu.length?(this.wu[f].su=b,this.wu[f].yu=c.ku(a)):this.wu.push({su:b,yu:c.ku(a)}),f++,i=b,c.Nu()&&(h=this.du(a*q,e)))}this.wu.length=f}else this.wu=[]}else this.wu=[]},a.prototype.au=function(){return this.wu},a.prototype.gu=function(){return this._i.S()},a.prototype.mu=function(){return Math.ceil(2.5*this.gu())},a}();function bW(a){return a.slice().sort(function(a,b){return P(a.xi())-P(b.xi())})}(b7=u||(u={}))[b7.Normal=0]="Normal",b7[b7.Logarithmic=1]="Logarithmic",b7[b7.Percentage=2]="Percentage",b7[b7.IndexedTo100=3]="IndexedTo100";var bX=new E,bY=new q(100,1),bZ=function(){function a(a,b,c,d){this.xu=0,this.Cu=null,this.Tr=null,this.Su=null,this.Tu={Du:!1,Au:null},this.Bu=0,this.Lu=0,this.Eu=new ab,this.Fu=new ab,this.Ou=[],this.Vu=null,this.Pu=null,this.Wu=null,this.zu=null,this.Ue=bY,this.Ru=bT(null),this.Iu=a,this.zi=b,this.ju=c,this.qu=d,this.Uu=new bV(this,100,this.Hu.bind(this),this.Yu.bind(this))}return a.prototype.Ke=function(){return this.Iu},a.prototype.W=function(){return this.zi},a.prototype.Pr=function(a){if(ac(this.zi,a),this.Xe(),void 0!==a.mode&&this.$u({mh:a.mode}),void 0!==a.scaleMargins){var b=O(a.scaleMargins.top),c=O(a.scaleMargins.bottom);if(b<0||b>1)throw Error("Invalid top margin - expect value between 0 and 1, given=".concat(b));if(c<0||c>1||b+c>1)throw Error("Invalid bottom margin - expect value between 0 and 1, given=".concat(c));if(b+c>1)throw Error("Invalid margins - sum of margins must be less than 1, given=".concat(b+c));this.Ku(),this.Pu=null}},a.prototype.Xu=function(){return this.zi.autoScale},a.prototype.Nu=function(){return 1===this.zi.mode},a.prototype.vr=function(){return 2===this.zi.mode},a.prototype.Zu=function(){return 3===this.zi.mode},a.prototype.mh=function(){return{_n:this.zi.autoScale,Ju:this.zi.invertScale,mh:this.zi.mode}},a.prototype.$u=function(a){var b=this.mh(),c=null;void 0!==a._n&&(this.zi.autoScale=a._n),void 0!==a.mh&&(this.zi.mode=a.mh,2!==a.mh&&3!==a.mh||(this.zi.autoScale=!0),this.Tu.Du=!1),1===b.mh&&a.mh!==b.mh&&(function(a,b){if(null===a)return!1;var c=bQ(a.pr(),b),d=bQ(a.gr(),b);return isFinite(c)&&isFinite(d)}(this.Tr,this.Ru)?null!==(c=bS(this.Tr,this.Ru))&&this.Gu(c):this.zi.autoScale=!0),1===a.mh&&a.mh!==b.mh&&null!==(c=bR(this.Tr,this.Ru))&&this.Gu(c);var d=b.mh!==this.zi.mode;d&&(2===b.mh||this.vr())&&this.Xe(),d&&(3===b.mh||this.Zu())&&this.Xe(),void 0!==a.Ju&&b.Ju!==a.Ju&&(this.zi.invertScale=a.Ju,this.Qu()),this.Fu.m(b,this.mh())},a.prototype.ta=function(){return this.Fu},a.prototype.S=function(){return this.ju.fontSize},a.prototype.Yt=function(){return this.xu},a.prototype.ia=function(a){this.xu!==a&&(this.xu=a,this.Ku(),this.Pu=null)},a.prototype.na=function(){if(this.Cu)return this.Cu;var a=this.Yt()-this.sa()-this.ha();return this.Cu=a,a},a.prototype.Ar=function(){return this.ra(),this.Tr},a.prototype.Gu=function(a,c){var b=this.Tr;(c||null===b&&null!==a||null!==b&&!b.br(a))&&(this.Pu=null,this.Tr=a)},a.prototype.wi=function(){return this.ra(),0===this.xu||!this.Tr||this.Tr.wi()},a.prototype.ea=function(a){return this.Ju()?a:this.Yt()-1-a},a.prototype.xt=function(a,b){return this.vr()?a=bL(a,b):this.Zu()&&(a=bN(a,b)),this.Yu(a,b)},a.prototype.us=function(d,k,a){this.ra();for(var l=this.ha(),e=P(this.Ar()),f=e.pr(),m=e.gr(),n=this.na()-1,o=this.Ju(),p=n/(m-f),q=void 0===a?0:a.from,r=void 0===a?d.length:a.to,g=this.ua(),b=q;b<r;b++){var c=d[b],h=c.et;if(!isNaN(h)){var i=h;null!==g&&(i=g(c.et,k));var j=l+p*(i-f),s=o?j:this.xu-1-j;c.it=s}}},a.prototype.Ss=function(l,f,g){this.ra();for(var h=this.ha(),m=P(this.Ar()),d=m.pr(),r=m.gr(),s=this.na()-1,i=this.Ju(),j=s/(r-d),t=void 0===g?0:g.from,u=void 0===g?l.length:g.to,e=this.ua(),k=t;k<u;k++){var a=l[k],n=a.open,o=a.high,p=a.low,q=a.close;null!==e&&(n=e(a.open,f),o=e(a.high,f),p=e(a.low,f),q=e(a.close,f));var b=h+j*(n-d),c=i?b:this.xu-1-b;a.xs=c,b=h+j*(o-d),c=i?b:this.xu-1-b,a.ys=c,b=h+j*(p-d),c=i?b:this.xu-1-b,a.ks=c,b=h+j*(q-d),c=i?b:this.xu-1-b,a.Cs=c}},a.prototype.qi=function(b,a){var c=this.Hu(b,a);return this.aa(c,a)},a.prototype.aa=function(g,f){var c,d,a,e,b=g;return this.vr()?b=(c=b,(d=f)<0&&(c=-c),c/100*d+d):this.Zu()&&(b=(a=b,a-=100,(e=f)<0&&(a=-a),a/100*e+e)),b},a.prototype.Ge=function(){return this.Ou},a.prototype.oa=function(){if(this.Vu)return this.Vu;for(var a=[],b=0;b<this.Ou.length;b++){var c=this.Ou[b];null===c.xi()&&c.Ci(b+1),a.push(c)}return a=bW(a),this.Vu=a,this.Vu},a.prototype.la=function(a){-1===this.Ou.indexOf(a)&&(this.Ou.push(a),this.Xe(),this.fa())},a.prototype.ca=function(b){var a=this.Ou.indexOf(b);if(-1===a)throw Error("source is not attached to scale");this.Ou.splice(a,1),0===this.Ou.length&&(this.$u({_n:!0}),this.Gu(null)),this.Xe(),this.fa()},a.prototype.kt=function(){for(var a=null,b=0,d=this.Ou;b<d.length;b++){var c=d[b].kt();null!==c&&(null===a||c.Ve<a.Ve)&&(a=c)}return null===a?null:a.St},a.prototype.Ju=function(){return this.zi.invertScale},a.prototype.au=function(){var a=null===this.kt();if(null!==this.Pu&&(a||this.Pu.va===a))return this.Pu.au;this.Uu.pu();var b=this.Uu.au();return this.Pu={au:b,va:a},this.Eu.m(),b},a.prototype._a=function(){return this.Eu},a.prototype.da=function(a){this.vr()||this.Zu()||null===this.Wu&&null===this.Su&&(this.wi()||(this.Wu=this.xu-a,this.Su=P(this.Ar()).mr()))},a.prototype.wa=function(a){if(!this.vr()&&!this.Zu()&&null!==this.Wu){this.$u({_n:!1}),(a=this.xu-a)<0&&(a=0);var b=(this.Wu+.2*(this.xu-1))/(a+.2*(this.xu-1)),c=P(this.Su).mr();b=Math.max(b,.1),c.kr(b),this.Gu(c)}},a.prototype.Ma=function(){this.vr()||this.Zu()||(this.Wu=null,this.Su=null)},a.prototype.ba=function(a){this.Xu()||null===this.zu&&null===this.Su&&(this.wi()||(this.zu=a,this.Su=P(this.Ar()).mr()))},a.prototype.ma=function(c){if(!this.Xu()&&null!==this.zu){var d=P(this.Ar()).yr()/(this.na()-1),a=c-this.zu;this.Ju()&&(a*=-1);var e=a*d,b=P(this.Su).mr();b.Nr(e),this.Gu(b,!0),this.Pu=null}},a.prototype.pa=function(){this.Xu()||null!==this.zu&&(this.zu=null,this.Su=null)},a.prototype.qe=function(){return this.Ue||this.Xe(),this.Ue},a.prototype.Mi=function(a,b){switch(this.zi.mode){case 2:return this.qe().format(bL(a,b));case 3:return this.qe().format(bN(a,b));default:return this.ga(a)}},a.prototype.ku=function(a){switch(this.zi.mode){case 2:case 3:return this.qe().format(a);default:return this.ga(a)}},a.prototype.Fr=function(a){return this.ga(a,P(this.ya()).qe())},a.prototype.Ne=function(a,b){return a=bL(a,b),bX.format(a)},a.prototype.ka=function(){return this.Ou},a.prototype.Na=function(a){this.Tu={Au:a,Du:!1}},a.prototype.hn=function(){this.Ou.forEach(function(a){return a.hn()})},a.prototype.Xe=function(){this.Pu=null;var a=this.ya(),b=100;null!==a&&(b=Math.round(1/a.je())),this.Ue=bY,this.vr()?(this.Ue=bX,b=100):this.Zu()?(this.Ue=new q(100,1),b=100):null!==a&&(this.Ue=a.qe()),this.Uu=new bV(this,b,this.Hu.bind(this),this.Yu.bind(this)),this.Uu.pu()},a.prototype.fa=function(){this.Vu=null},a.prototype.ya=function(){return this.Ou[0]||null},a.prototype.sa=function(){return this.Ju()?this.zi.scaleMargins.bottom*this.Yt()+this.Lu:this.zi.scaleMargins.top*this.Yt()+this.Bu},a.prototype.ha=function(){return this.Ju()?this.zi.scaleMargins.top*this.Yt()+this.Bu:this.zi.scaleMargins.bottom*this.Yt()+this.Lu},a.prototype.ra=function(){this.Tu.Du||(this.Tu.Du=!0,this.xa())},a.prototype.Ku=function(){this.Cu=null},a.prototype.Yu=function(a,d){if(this.ra(),this.wi())return 0;a=this.Nu()&&a?bP(a,this.Ru):a;var b=P(this.Ar()),c=this.ha()+(this.na()-1)*(a-b.pr())/b.yr();return this.ea(c)},a.prototype.Hu=function(c,e){if(this.ra(),this.wi())return 0;var d=this.ea(c),a=P(this.Ar()),b=a.pr()+a.yr()*((d-this.ha())/(this.na()-1));return this.Nu()?bQ(b,this.Ru):b},a.prototype.Qu=function(){this.Pu=null,this.Uu.pu()},a.prototype.xa=function(){var f=this.Tu.Au;if(null!==f){for(var g,h,a=null,c=0,i=0,j=0,n=this.ka();j<n.length;j++){var k=n[j];if(k.yt()){var l=k.kt();if(null!==l){var d=k.Re(f.In(),f.jn()),b=d&&d.Ar();if(null!==b){switch(this.zi.mode){case 1:b=bR(b,this.Ru);break;case 2:b=bM(b,l.St);break;case 3:b=bO(b,l.St)}if(a=null===a?b:a.Nn(P(b)),null!==d){var m=d.Br();null!==m&&(c=Math.max(c,m.above),i=Math.max(c,m.below))}}}}}if(c===this.Bu&&i===this.Lu||(this.Bu=c,this.Lu=i,this.Pu=null,this.Ku()),null!==a){if(a.pr()===a.gr()){var o=this.ya(),p=5*(null===o||this.vr()||this.Zu()?1:o.je());this.Nu()&&(a=bS(a,this.Ru)),a=new bw(a.pr()-p,a.gr()+p),this.Nu()&&(a=bR(a,this.Ru))}if(this.Nu()){var q=bS(a,this.Ru),e=bT(q);if(g=e,h=this.Ru,g.lu!==h.lu||g.fu!==h.fu){var r=null!==this.Su?bS(this.Su,this.Ru):null;this.Ru=e,a=bR(q,e),null!==r&&(this.Su=bR(r,e))}}this.Gu(a)}else null===this.Tr&&(this.Gu(new bw(-0.5,.5)),this.Ru=bT(null));this.Tu.Du=!0}},a.prototype.ua=function(){var a=this;return this.vr()?bL:this.Zu()?bN:this.Nu()?function(b){return bP(b,a.Ru)}:null},a.prototype.ga=function(b,a){return void 0===this.qu.priceFormatter?(void 0===a&&(a=this.qe()),a.format(b)):this.qu.priceFormatter(b)},a}(),b$=function(){function a(c,b){this.Ou=[],this.Ca=new Map,this.xu=0,this.hh=0,this.Sa=1e3,this.Vu=null,this.Ta=new ab,this.Da=c,this.pi=b,this.Aa=new bJ(this);var a=b.W();this.Ba=this.La("left",a.leftPriceScale),this.Ea=this.La("right",a.rightPriceScale),this.Ba.ta().u(this.Fa.bind(this,this.Ba),this),this.Ea.ta().u(this.Fa.bind(this,this.Ba),this),this.Oa(a)}return a.prototype.Oa=function(a){if(a.leftPriceScale&&this.Ba.Pr(a.leftPriceScale),a.rightPriceScale&&this.Ea.Pr(a.rightPriceScale),a.localization&&(this.Ba.Xe(),this.Ea.Xe()),a.overlayPriceScales)for(var b=0,c=Array.from(this.Ca.values());b<c.length;b++){var d=P(c[b][0].Ct());d.Pr(a.overlayPriceScales),a.localization&&d.Xe()}},a.prototype.Va=function(a){switch(a){case"left":return this.Ba;case"right":return this.Ea}return this.Ca.has(a)?O(this.Ca.get(a))[0].Ct():null},a.prototype.g=function(){this.jt().Pa().M(this),this.Ba.ta().M(this),this.Ea.ta().M(this),this.Ou.forEach(function(a){a.g&&a.g()}),this.Ta.m()},a.prototype.Wa=function(){return this.Sa},a.prototype.za=function(a){this.Sa=a},a.prototype.jt=function(){return this.pi},a.prototype.Ht=function(){return this.hh},a.prototype.Yt=function(){return this.xu},a.prototype.Ra=function(a){this.hh=a,this.Ia()},a.prototype.ia=function(a){var b=this;this.xu=a,this.Ba.ia(a),this.Ea.ia(a),this.Ou.forEach(function(c){if(b.lh(c)){var d=c.Ct();null!==d&&d.ia(a)}}),this.Ia()},a.prototype.Ge=function(){return this.Ou},a.prototype.lh=function(b){var a=b.Ct();return null===a||this.Ba!==a&&this.Ea!==a},a.prototype.la=function(b,c,a){var d=void 0!==a?a:this.qa().ja+1;this.Ua(b,c,d)},a.prototype.ca=function(a){var e=this.Ou.indexOf(a);N(-1!==e,"removeDataSource: invalid data source"),this.Ou.splice(e,1);var c=P(a.Ct()).Ke();if(this.Ca.has(c)){var d=O(this.Ca.get(c)),f=d.indexOf(a);-1!==f&&(d.splice(f,1),0===d.length&&this.Ca.delete(c))}var b=a.Ct();b&&b.Ge().indexOf(a)>=0&&b.ca(a),null!==b&&(b.fa(),this.Ha(b)),this.Vu=null},a.prototype._h=function(a){return a===this.Ba?"left":a===this.Ea?"right":"overlay"},a.prototype.Ya=function(){return this.Ba},a.prototype.$a=function(){return this.Ea},a.prototype.Ka=function(a,b){a.da(b)},a.prototype.Xa=function(a,b){a.wa(b),this.Ia()},a.prototype.Za=function(a){a.Ma()},a.prototype.Ja=function(a,b){a.ba(b)},a.prototype.Ga=function(a,b){a.ma(b),this.Ia()},a.prototype.Qa=function(a){a.pa()},a.prototype.Ia=function(){this.Ou.forEach(function(a){a.hn()})},a.prototype.ji=function(){var a=null;return this.pi.W().rightPriceScale.visible&&0!==this.Ea.Ge().length?a=this.Ea:this.pi.W().leftPriceScale.visible&&0!==this.Ba.Ge().length?a=this.Ba:0!==this.Ou.length&&(a=this.Ou[0].Ct()),null===a&&(a=this.Ea),a},a.prototype.fh=function(){var a=null;return this.pi.W().rightPriceScale.visible?a=this.Ea:this.pi.W().leftPriceScale.visible&&(a=this.Ba),a},a.prototype.Ha=function(a){null!==a&&a.Xu()&&this.io(a)},a.prototype.no=function(a){var b=this.Da.ss();a.$u({_n:!0}),null!==b&&a.Na(b),this.Ia()},a.prototype.so=function(){this.io(this.Ba),this.io(this.Ea)},a.prototype.ho=function(){var a=this;this.Ha(this.Ba),this.Ha(this.Ea),this.Ou.forEach(function(b){a.lh(b)&&a.Ha(b.Ct())}),this.Ia(),this.pi.Wr()},a.prototype.oa=function(){return null===this.Vu&&(this.Vu=bW(this.Ou)),this.Vu},a.prototype.ro=function(){return this.Ta},a.prototype.eo=function(){return this.Aa},a.prototype.io=function(a){var b=a.ka();if(b&&b.length>0&&!this.Da.wi()){var c=this.Da.ss();null!==c&&a.Na(c)}a.hn()},a.prototype.qa=function(){var b=this.oa();if(0===b.length)return{uo:0,ja:0};for(var c=0,d=0,e=0;e<b.length;e++){var a=b[e].xi();null!==a&&(a<c&&(c=a),a>d&&(d=a))}return{uo:c,ja:d}},a.prototype.Ua=function(a,b,e){var c=this.Va(b);if(null===c&&(c=this.La(b,this.pi.W().overlayPriceScales)),this.Ou.push(a),!aH(b)){var d=this.Ca.get(b)||[];d.push(a),this.Ca.set(b,d)}c.la(a),a.Si(c),a.Ci(e),this.Ha(c),this.Vu=null},a.prototype.Fa=function(a,b,c){b.mh!==c.mh&&this.io(a)},a.prototype.La=function(b,d){var e=c({visible:!0,autoScale:!0},ah(d)),a=new bZ(b,e,this.pi.W().layout,this.pi.W().localization);return a.ia(this.Yt()),a},a}(),b_=function(a){return a.getUTCFullYear()},b0=function(){function a(a,b){void 0===a&&(a="yyyy-MM-dd"),void 0===b&&(b="default"),this.ao=a,this.oo=b}return a.prototype.lo=function(h){var a,e,b,i,j,c,f,d,g,k,l,m,n;return a=h,e=this.ao,b=this.oo,e.replace(/yyyy/g,aJ(b_(i=a),4)).replace(/yy/g,aJ(b_(j=a)%100,2)).replace(/MMMM/g,(c=a,f=b,new Date(c.getUTCFullYear(),c.getUTCMonth(),1).toLocaleString(f,{month:"long"}))).replace(/MMM/g,(d=a,g=b,new Date(d.getUTCFullYear(),d.getUTCMonth(),1).toLocaleString(g,{month:"short"}))).replace(/MM/g,aJ((l=k=a).getUTCMonth()+1,2)).replace(/dd/g,aJ((n=m=a).getUTCDate(),2))},a}(),b1=function(){function a(a){this.fo=a||"%h:%m:%s"}return a.prototype.lo=function(a){return this.fo.replace("%h",aJ(a.getUTCHours(),2)).replace("%m",aJ(a.getUTCMinutes(),2)).replace("%s",aJ(a.getUTCSeconds(),2))},a}(),b2={co:"yyyy-MM-dd",vo:"%h:%m:%s",_o:" ",do:"default"},b3=function(){function a(b){void 0===b&&(b={});var a=c(c({},b2),b);this.wo=new b0(a.co,a.do),this.Mo=new b1(a.vo),this.bo=a._o}return a.prototype.lo=function(a){return"".concat(this.wo.lo(a)).concat(this.bo).concat(this.Mo.lo(a))},a}(),b4=function(){function a(b,a){void 0===a&&(a=50),this.mo=0,this.po=1,this.yo=1,this.Gs=new Map,this.ko=new Map,this.No=b,this.xo=a}return a.prototype.lo=function(a){var b=void 0===a.Co?new Date(1e3*a.So).getTime():new Date(Date.UTC(a.Co.year,a.Co.month-1,a.Co.day)).getTime(),c=this.Gs.get(b);if(void 0!==c)return c.To;if(this.mo===this.xo){var e=this.ko.get(this.yo);this.ko.delete(this.yo),this.Gs.delete(O(e)),this.yo++,this.mo--}var d=this.No(a);return this.Gs.set(b,{To:d,Do:this.po}),this.ko.set(this.po,b),this.mo++,this.po++,d},a}(),b5=function(){function a(a,b){N(a<=b,"right should be >= left"),this.Ao=a,this.Bo=b}return a.prototype.In=function(){return this.Ao},a.prototype.jn=function(){return this.Bo},a.prototype.Lo=function(){return this.Bo-this.Ao+1},a.prototype.Uh=function(a){return this.Ao<=a&&a<=this.Bo},a.prototype.br=function(a){return this.Ao===a.In()&&this.Bo===a.jn()},a}();function b6(a,b){return null===a||null===b?a===b:a.br(b)}var b7,v,a,b8=function(){function a(){this.Eo=new Map,this.Gs=null}return a.prototype.Fo=function(d,e){this.Oo(e),this.Gs=null;for(var a=e;a<d.length;++a){var b=d[a],c=this.Eo.get(b.Vo);void 0===c&&(c=[],this.Eo.set(b.Vo,c)),c.push({vs:a,rt:b.rt,Po:b.Vo})}},a.prototype.Wo=function(b,c){var a=Math.ceil(c/b);return null!==this.Gs&&this.Gs.zo===a||(this.Gs={au:this.Ro(a),zo:a}),this.Gs.au},a.prototype.Oo=function(c){if(0!==c){var d=[];this.Eo.forEach(function(a,b){c<=a[0].vs?d.push(b):a.splice(aO(a,c,function(a){return a.vs<c}),1/0)});for(var a=0,b=d;a<b.length;a++){var e=b[a];this.Eo.delete(e)}}else this.Eo.clear()},a.prototype.Ro=function(j){for(var a=[],d=0,k=Array.from(this.Eo.keys()).sort(function(a,b){return b-a});d<k.length;d++){var l=k[d];if(this.Eo.get(l)){var e=a;a=[];for(var m=e.length,b=0,n=O(this.Eo.get(l)),q=n.length,f=1/0,g=-1/0,h=0;h<q;h++){for(var o=n[h],c=o.vs;b<m;){var p=e[b],i=p.vs;if(!(i<c)){f=i;break}b++,a.push(p),g=i,f=1/0}f-c>=j&&c-g>=j&&(a.push(o),g=c)}for(;b<m;b++)a.push(e[b])}}return a},a}(),b9=function(){function a(a){this.Io=a}return a.prototype.jo=function(){return null===this.Io?null:new b5(Math.floor(this.Io.In()),Math.ceil(this.Io.jn()))},a.prototype.qo=function(){return this.Io},a.Uo=function(){return new a(null)},a}();(a=v||(v={}))[a.Year=0]="Year",a[a.Month=1]="Month",a[a.DayOfMonth=2]="DayOfMonth",a[a.Time=3]="Time",a[a.TimeWithSeconds=4]="TimeWithSeconds";var w,f,ca=function(){function a(b,a,c){this.hh=0,this.Ho=null,this.Yo=[],this.zu=null,this.Wu=null,this.$o=new b8,this.Ko=new Map,this.Xo=b9.Uo(),this.Zo=!0,this.Jo=new ab,this.Go=new ab,this.Qo=new ab,this.tl=null,this.il=null,this.nl=[],this.zi=a,this.qu=c,this.sl=a.rightOffset,this.hl=a.barSpacing,this.pi=b,this.rl()}return a.prototype.W=function(){return this.zi},a.prototype.el=function(a){ac(this.qu,a),this.ul(),this.rl()},a.prototype.Pr=function(a,c){var b;ac(this.zi,a),this.zi.fixLeftEdge&&this.al(),this.zi.fixRightEdge&&this.ol(),void 0!==a.barSpacing&&this.pi.gn(a.barSpacing),void 0!==a.rightOffset&&this.pi.yn(a.rightOffset),void 0!==a.minBarSpacing&&this.pi.gn(null!==(b=a.barSpacing)&& void 0!==b?b:this.hl),this.ul(),this.rl(),this.Qo.m()},a.prototype.gi=function(b){var a;return(null===(a=this.Yo[b])|| void 0===a?void 0:a.rt)||null},a.prototype.Ze=function(a,c){if(this.Yo.length<1)return null;if(a.So>this.Yo[this.Yo.length-1].rt.So)return c?this.Yo.length-1:null;var b=aO(this.Yo,a.So,function(a,b){return a.rt.So<b});return a.So<this.Yo[b].rt.So?c?b:null:b},a.prototype.wi=function(){return 0===this.hh||0===this.Yo.length||null===this.Ho},a.prototype.ss=function(){return this.ll(),this.Xo.jo()},a.prototype.fl=function(){return this.ll(),this.Xo.qo()},a.prototype.cl=function(){var a=this.ss();if(null===a)return null;var b={from:a.In(),to:a.jn()};return this.vl(b)},a.prototype.vl=function(a){var b=Math.round(a.from),c=Math.round(a.to),d=P(this._l()),e=P(this.dl());return{from:P(this.gi(Math.max(d,b))),to:P(this.gi(Math.min(e,c)))}},a.prototype.wl=function(a){return{from:P(this.Ze(a.from,!0)),to:P(this.Ze(a.to,!0))}},a.prototype.Ht=function(){return this.hh},a.prototype.Ra=function(a){if(isFinite(a)&&!(a<=0)&&this.hh!==a){if(this.zi.lockVisibleTimeRangeOnResize&&this.hh){var c=this.hl*a/this.hh;this.hl=c}if(this.zi.fixLeftEdge){var b=this.ss();if(null!==b&&0>=b.In()){var d=this.hh-a;this.sl-=Math.round(d/this.hl)+1}}this.hh=a,this.Zo=!0,this.Ml(),this.bl()}},a.prototype.At=function(a){if(this.wi()||!ae(a))return 0;var b=this.ml()+this.sl-a;return this.hh-(b+.5)*this.hl-1},a.prototype.es=function(c,a){for(var d=this.ml(),e=void 0===a?0:a.from,f=void 0===a?c.length:a.to,b=e;b<f;b++){var g=c[b].rt,h=d+this.sl-g,i=this.hh-(h+.5)*this.hl-1;c[b].tt=i}},a.prototype.pl=function(a){return Math.ceil(this.gl(a))},a.prototype.yn=function(a){this.Zo=!0,this.sl=a,this.bl(),this.pi.yl(),this.pi.Wr()},a.prototype.ws=function(){return this.hl},a.prototype.gn=function(a){this.kl(a),this.bl(),this.pi.yl(),this.pi.Wr()},a.prototype.Nl=function(){return this.sl},a.prototype.au=function(){if(this.wi())return null;if(null!==this.il)return this.il;for(var i=this.hl,f=5*(this.pi.W().layout.fontSize+4),c=Math.round(f/i),d=P(this.ss()),k=Math.max(d.In(),d.In()-c),l=Math.max(d.jn(),d.jn()-c),m=this.$o.Wo(i,f),n=this._l()+c,o=this.dl()-c,g=this.xl(),p=this.zi.fixLeftEdge||g,q=this.zi.fixRightEdge||g,e=0,h=0,j=m;h<j.length;h++){var a=j[h];if(k<=a.vs&&a.vs<=l){var b=void 0;e<this.nl.length?((b=this.nl[e]).su=this.At(a.vs),b.yu=this.Cl(a.rt,a.Po),b.Po=a.Po):(b={Sl:!1,su:this.At(a.vs),yu:this.Cl(a.rt,a.Po),Po:a.Po},this.nl.push(b)),this.hl>f/2&&!g?b.Sl=!1:b.Sl=p&&a.vs<=n||q&&a.vs>=o,e++}}return this.nl.length=e,this.il=this.nl,this.nl},a.prototype.Tl=function(){this.Zo=!0,this.gn(this.zi.barSpacing),this.yn(this.zi.rightOffset)},a.prototype.Dl=function(a){this.Zo=!0,this.Ho=a,this.bl(),this.al()},a.prototype.Al=function(a,c){var d=this.gl(a),b=this.ws();this.gn(b+c*(b/10)),this.zi.rightBarStaysOnScroll||this.yn(this.Nl()+(d-this.gl(a)))},a.prototype.da=function(a){this.zu&&this.pa(),null===this.Wu&&null===this.tl&&(this.wi()||(this.Wu=a,this.Bl()))},a.prototype.wa=function(c){if(null!==this.tl){var a=aW(this.hh-c,0,this.hh),b=aW(this.hh-P(this.Wu),0,this.hh);0!==a&&0!==b&&this.gn(this.tl.ws*a/b)}},a.prototype.Ma=function(){null!==this.Wu&&(this.Wu=null,this.Ll())},a.prototype.ba=function(a){null===this.zu&&null===this.tl&&(this.wi()||(this.zu=a,this.Bl()))},a.prototype.ma=function(a){if(null!==this.zu){var b=(this.zu-a)/this.ws();this.sl=P(this.tl).Nl+b,this.Zo=!0,this.bl()}},a.prototype.pa=function(){null!==this.zu&&(this.zu=null,this.Ll())},a.prototype.El=function(){this.Fl(this.zi.rightOffset)},a.prototype.Fl=function(b,a){var d=this;if(void 0===a&&(a=400),!isFinite(b))throw RangeError("offset is required and must be finite number");if(!isFinite(a)||a<=0)throw RangeError("animationDuration (optional) must be finite positive number");var e=this.sl,f=performance.now(),c=function(){var g=(performance.now()-f)/a,h=g>=1;d.yn(h?b:e+(b-e)*g),h||setTimeout(c,20)};c()},a.prototype.vt=function(a,b){this.Zo=!0,this.Yo=a,this.$o.Fo(a,b),this.bl()},a.prototype.Ol=function(){return this.Jo},a.prototype.Vl=function(){return this.Go},a.prototype.Pl=function(){return this.Qo},a.prototype.ml=function(){return this.Ho||0},a.prototype.Wl=function(a){var b=a.Lo();this.kl(this.hh/b),this.sl=a.jn()-this.ml(),this.bl(),this.Zo=!0,this.pi.yl(),this.pi.Wr()},a.prototype.zl=function(){var a=this._l(),b=this.dl();null!==a&&null!==b&&this.Wl(new b5(a,b+this.zi.rightOffset))},a.prototype.Rl=function(a){var b=new b5(a.from,a.to);this.Wl(b)},a.prototype.yi=function(a){return void 0!==this.qu.timeFormatter?this.qu.timeFormatter(a.Co||a.So):this.Il.lo(new Date(1e3*a.So))},a.prototype.xl=function(){var c=this.pi.W(),a=c.handleScroll,b=c.handleScale;return!(a.horzTouchDrag||a.mouseWheel||a.pressedMouseMove||a.vertTouchDrag||b.axisDoubleClickReset||b.axisPressedMouseMove.time||b.mouseWheel||b.pinch)},a.prototype._l=function(){return 0===this.Yo.length?null:0},a.prototype.dl=function(){return 0===this.Yo.length?null:this.Yo.length-1},a.prototype.jl=function(a){return(this.hh-1-a)/this.hl},a.prototype.gl=function(a){var b=this.jl(a);return Math.round(1e6*(this.ml()+this.sl-b))/1e6},a.prototype.kl=function(a){var b=this.hl;this.hl=a,this.Ml(),b!==this.hl&&(this.Zo=!0,this.ql())},a.prototype.ll=function(){if(this.Zo){if(this.Zo=!1,this.wi())this.Ul(b9.Uo());else{var b=this.ml(),c=this.hh/this.hl,a=this.sl+b,d=new b5(a-c+1,a);this.Ul(new b9(d))}}},a.prototype.Ml=function(){var a=this.Hl();if(this.hl<a&&(this.hl=a,this.Zo=!0),0!==this.hh){var b=.5*this.hh;this.hl>b&&(this.hl=b,this.Zo=!0)}},a.prototype.Hl=function(){return this.zi.fixLeftEdge&&this.zi.fixRightEdge&&0!==this.Yo.length?this.hh/this.Yo.length:this.zi.minBarSpacing},a.prototype.bl=function(){var b=this.Yl();this.sl>b&&(this.sl=b,this.Zo=!0);var a=this.$l();null!==a&&this.sl<a&&(this.sl=a,this.Zo=!0)},a.prototype.$l=function(){var a=this._l(),b=this.Ho;return null===a||null===b?null:a-b-1+(this.zi.fixLeftEdge?this.hh/this.hl:Math.min(2,this.Yo.length))},a.prototype.Yl=function(){return this.zi.fixRightEdge?0:this.hh/this.hl-Math.min(2,this.Yo.length)},a.prototype.Bl=function(){this.tl={ws:this.ws(),Nl:this.Nl()}},a.prototype.Ll=function(){this.tl=null},a.prototype.Cl=function(c,b){var d=this,a=this.Ko.get(b);return void 0===a&&(a=new b4(function(a){return d.Kl(a,b)}),this.Ko.set(b,a)),a.lo(c)},a.prototype.Kl=function(a,d){var b,c=function(b,a,c){switch(b){case 0:case 10:return a?c?4:3:2;case 20:case 21:case 22:case 30:case 31:case 32:case 33:return a?3:2;case 50:return 2;case 60:return 1;case 70:return 0}}(d,this.zi.timeVisible,this.zi.secondsVisible);return void 0!==this.zi.tickMarkFormatter?this.zi.tickMarkFormatter(null!==(b=a.Co)&& void 0!==b?b:a.So,c,this.qu.locale):function(c,d,e){var a={};switch(d){case 0:a.year="numeric";break;case 1:a.month="short";break;case 2:a.day="numeric";break;case 3:a.hour12=!1,a.hour="2-digit",a.minute="2-digit";break;case 4:a.hour12=!1,a.hour="2-digit",a.minute="2-digit",a.second="2-digit"}var b=new Date(void 0===c.Co?1e3*c.So:Date.UTC(c.Co.year,c.Co.month-1,c.Co.day));return new Date(b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate(),b.getUTCHours(),b.getUTCMinutes(),b.getUTCSeconds(),b.getUTCMilliseconds()).toLocaleString(e,a)}(a,c,this.qu.locale)},a.prototype.Ul=function(b){var a=this.Xo;this.Xo=b,b6(a.jo(),this.Xo.jo())||this.Jo.m(),b6(a.qo(),this.Xo.qo())||this.Go.m(),this.ql()},a.prototype.ql=function(){this.il=null},a.prototype.ul=function(){this.ql(),this.Ko.clear()},a.prototype.rl=function(){var a=this.qu.dateFormat;this.zi.timeVisible?this.Il=new b3({co:a,vo:this.zi.secondsVisible?"%h:%m:%s":"%h:%m",_o:"   ",do:this.qu.locale}):this.Il=new b0(a,this.qu.locale)},a.prototype.al=function(){if(this.zi.fixLeftEdge){var a=this._l();if(null!==a){var b=this.ss();if(null!==b){var c=b.In()-a;if(c<0){var d=this.sl-c-1;this.yn(d)}this.Ml()}}}},a.prototype.ol=function(){this.bl(),this.Ml()},a}(),cb=function(b){function a(c){var a=b.call(this)||this;return a.Xl=new Map,a.Bt=c,a}return _(a,b),a.prototype.Y=function(a){},a.prototype.K=function(a){if(this.Bt.yt){a.save();for(var e=0,f=0,h=this.Bt.Zl;f<h.length;f++)if(0!==(b=h[f]).Gt.length){a.font=b.T;var i=this.Jl(a,b.Gt);i>this.Bt.Ht?b.Al=this.Bt.Ht/i:b.Al=1,e+=b.Gl*b.Al}var c=0;switch(this.Bt.Ql){case"top":c=0;break;case"center":c=Math.max((this.Bt.Yt-e)/2,0);break;case"bottom":c=Math.max(this.Bt.Yt-e,0)}a.fillStyle=this.Bt.A;for(var g=0,j=this.Bt.Zl;g<j.length;g++){var b=j[g];a.save();var d=0;switch(this.Bt.tf){case"left":a.textAlign="left",d=b.Gl/2;break;case"center":a.textAlign="center",d=this.Bt.Ht/2;break;case"right":a.textAlign="right",d=this.Bt.Ht-1-b.Gl/2}a.translate(d,c),a.textBaseline="top",a.font=b.T,a.scale(b.Al,b.Al),a.fillText(b.Gt,0,b.if),a.restore(),c+=b.Gl*b.Al}a.restore()}},a.prototype.Jl=function(c,b){var d=this.nf(c.font),a=d.get(b);return void 0===a&&(a=c.measureText(b).width,d.set(b,a)),a},a.prototype.nf=function(b){var a=this.Xl.get(b);return void 0===a&&(a=new Map,this.Xl.set(b,a)),a},a}(d),cc=function(){function a(a){this.ft=!0,this.Wt={yt:!1,A:"",Yt:0,Ht:0,Zl:[],Ql:"center",tf:"center"},this.zt=new cb(this.Wt),this.Rt=a}return a.prototype.vt=function(){this.ft=!0},a.prototype.dt=function(a,b){return this.ft&&(this.wt(a,b),this.ft=!1),this.zt},a.prototype.wt=function(c,d){var a=this.Rt.W(),b=this.Wt;b.yt=a.visible,b.yt&&(b.A=a.color,b.Ht=d,b.Yt=c,b.tf=a.horzAlign,b.Ql=a.vertAlign,b.Zl=[{Gt:a.text,T:ak(a.fontSize,a.fontFamily,a.fontStyle),Gl:1.2*a.fontSize,if:0,Al:0}])},a}(),cd=function(b){function a(d,c){var a=b.call(this)||this;return a.zi=c,a.Hi=new cc(a),a}return _(a,b),a.prototype.nn=function(){return[]},a.prototype.tn=function(){return[this.Hi]},a.prototype.W=function(){return this.zi},a.prototype.hn=function(){this.Hi.vt()},a}(i);(f=w||(w={}))[f.OnTouchEnd=0]="OnTouchEnd",f[f.OnNextTap=1]="OnNextTap";var x,y,z,ce=function(){function a(b,a){this.sf=[],this.hf=[],this.hh=0,this.rf=null,this.ef=null,this.uf=new ab,this.af=new ab,this.lf=null,this.ff=b,this.zi=a,this.cf=new al(this),this.Da=new ca(this,a.timeScale,this.zi.localization),this.ct=new aG(this,a.crosshair),this.vf=new bG(a.crosshair),this._f=new cd(this,a.watermark),this.df(),this.sf[0].za(2e3),this.wf=this.Mf(0),this.bf=this.Mf(1)}return a.prototype.Ce=function(){this.mf(new aI(3))},a.prototype.Wr=function(){this.mf(new aI(2))},a.prototype.We=function(){this.mf(new aI(1))},a.prototype.Se=function(a){var b=this.pf(a);this.mf(b)},a.prototype.gf=function(){return this.ef},a.prototype.yf=function(a){var b=this.ef;this.ef=a,null!==b&&this.Se(b.kf),null!==a&&this.Se(a.kf)},a.prototype.W=function(){return this.zi},a.prototype.Pr=function(a){ac(this.zi,a),this.sf.forEach(function(b){return b.Oa(a)}),void 0!==a.timeScale&&this.Da.Pr(a.timeScale),void 0!==a.localization&&this.Da.el(a.localization),(a.leftPriceScale||a.rightPriceScale)&&this.uf.m(),this.wf=this.Mf(0),this.bf=this.Mf(1),this.Ce()},a.prototype.Nf=function(a,b){if("left"!==a){if("right"!==a){var c=this.xf(a);null!==c&&(c.Ct.Pr(b),this.uf.m())}else this.Pr({rightPriceScale:b})}else this.Pr({leftPriceScale:b})},a.prototype.xf=function(e){for(var a=0,b=this.sf;a<b.length;a++){var c=b[a],d=c.Va(e);if(null!==d)return{It:c,Ct:d}}return null},a.prototype.bt=function(){return this.Da},a.prototype.Cf=function(){return this.sf},a.prototype.Sf=function(){return this._f},a.prototype.Tf=function(){return this.ct},a.prototype.Df=function(){return this.af},a.prototype.Af=function(a,b){a.ia(b),this.yl()},a.prototype.Ra=function(a){this.hh=a,this.Da.Ra(this.hh),this.sf.forEach(function(b){return b.Ra(a)}),this.yl()},a.prototype.df=function(a){var b=new b$(this.Da,this);void 0!==a?this.sf.splice(a,0,b):this.sf.push(b);var d=void 0===a?this.sf.length-1:a,c=new aI(3);return c.cn(d,{vn:0,_n:!0}),this.mf(c),b},a.prototype.Ka=function(a,b,c){a.Ka(b,c)},a.prototype.Xa=function(a,b,c){a.Xa(b,c),this.Te(),this.mf(this.Bf(a,2))},a.prototype.Za=function(a,b){a.Za(b),this.mf(this.Bf(a,2))},a.prototype.Ja=function(b,a,c){a.Xu()||b.Ja(a,c)},a.prototype.Ga=function(a,b,c){b.Xu()||(a.Ga(b,c),this.Te(),this.mf(this.Bf(a,2)))},a.prototype.Qa=function(a,b){b.Xu()||(a.Qa(b),this.mf(this.Bf(a,2)))},a.prototype.no=function(a,b){a.no(b),this.mf(this.Bf(a,2))},a.prototype.Lf=function(a){this.Da.da(a)},a.prototype.Ef=function(a,c){var b=this.bt();!b.wi()&&0!==c&&(a=Math.max(1,Math.min(a,b.Ht())),b.Al(a,c),this.yl())},a.prototype.Ff=function(a){this.Of(0),this.Vf(a),this.Pf()},a.prototype.Wf=function(a){this.Da.wa(a),this.yl()},a.prototype.zf=function(){this.Da.Ma(),this.Wr()},a.prototype.Of=function(a){this.rf=a,this.Da.ba(a)},a.prototype.Vf=function(a){var b=!1;return null!==this.rf&&Math.abs(a-this.rf)>20&&(this.rf=null,b=!0),this.Da.ma(a),this.yl(),b},a.prototype.Pf=function(){this.Da.pa(),this.Wr(),this.rf=null},a.prototype._t=function(){return this.hf},a.prototype.Rf=function(c,d,e){this.ct.Yi(c,d);var a=NaN,b=this.Da.pl(c),f=this.Da.ss();null!==f&&(b=Math.min(Math.max(f.In(),b),f.jn()));var g=e.ji(),h=g.kt();null!==h&&(a=g.qi(d,h)),a=this.vf.Je(a,b,e),this.ct.Zi(b,a,e),this.We(),this.af.m(this.ct.Mt(),{x:c,y:d})},a.prototype.If=function(){this.Tf().Gi(),this.We(),this.af.m(null,null)},a.prototype.Te=function(){var a=this.ct.It();if(null!==a){var b=this.ct.Ki(),c=this.ct.Xi();this.Rf(b,c,a)}this.ct.hn()},a.prototype.jf=function(a,c,d){var e=this.Da.gi(0);void 0!==c&& void 0!==d&&this.Da.vt(c,d);var f=this.Da.gi(0),b=this.Da.ml(),g=this.Da.ss();if(null!==g&&null!==e&&null!==f){var h=g.Uh(b),i=e.So>f.So,j=null!==a&&a>b&&!i,k=h&&this.Da.W().shiftVisibleRangeOnNewBar;if(j&&!k){var l=a-b;this.Da.yn(this.Da.Nl()-l)}}this.Da.Dl(a)},a.prototype.Be=function(a){null!==a&&a.ho()},a.prototype.oh=function(b){var a=this.sf.find(function(a){return a.oa().includes(b)});return void 0===a?null:a},a.prototype.yl=function(){this._f.hn(),this.sf.forEach(function(a){return a.ho()}),this.Te()},a.prototype.g=function(){this.sf.forEach(function(a){return a.g()}),this.sf.length=0,this.zi.localization.priceFormatter=void 0,this.zi.localization.timeFormatter=void 0},a.prototype.qf=function(){return this.cf},a.prototype.dh=function(){return this.cf.W()},a.prototype.Pa=function(){return this.uf},a.prototype.Uf=function(b,c){var d=this.sf[0],a=this.Hf(c,b,d);return this.hf.push(a),1===this.hf.length?this.Ce():this.Wr(),a},a.prototype.Yf=function(a){var c=this.oh(a),b=this.hf.indexOf(a);N(-1!==b,"Series not found"),this.hf.splice(b,1),P(c).ca(a),a.g&&a.g()},a.prototype.xe=function(a,b){var c=P(this.oh(a));c.ca(a);var d=this.xf(b);if(null===d){var e=a.xi();c.la(a,b,e)}else e=d.It===c?a.xi():void 0,d.It.la(a,b,e)},a.prototype.zl=function(){var a=new aI(2);a.Mn(),this.mf(a)},a.prototype.$f=function(b){var a=new aI(2);a.mn(b),this.mf(a)},a.prototype.pn=function(){var a=new aI(2);a.pn(),this.mf(a)},a.prototype.gn=function(b){var a=new aI(2);a.gn(b),this.mf(a)},a.prototype.yn=function(b){var a=new aI(2);a.yn(b),this.mf(a)},a.prototype.Kf=function(){return this.zi.rightPriceScale.visible?"right":"left"},a.prototype.Xf=function(){return this.bf},a.prototype.Zf=function(){return this.wf},a.prototype.Dt=function(a){var b=this.bf,f=this.wf;if(b===f)return b;if(a=Math.max(0,Math.min(100,Math.round(100*a))),null===this.lf||this.lf.Pn!==f||this.lf.Wn!==b)this.lf={Pn:f,Wn:b,Jf:new Map};else{var l=this.lf.Jf.get(a);if(void 0!==l)return l}var m,n,c,g,h,i,j,k,d,o,p,q,r,e,s=(m=f,n=b,c=a/100,h=(g=Y(m))[0],i=g[1],j=g[2],k=g[3],d=Y(n),o=d[0],p=d[1],q=d[2],r=d[3],e=[S(h+c*(o-h)),S(i+c*(p-i)),S(j+c*(q-j)),T(k+c*(r-k))],"rgba(".concat(e[0],", ").concat(e[1],", ").concat(e[2],", ").concat(e[3],")"));return this.lf.Jf.set(a,s),s},a.prototype.Bf=function(a,b){var c=new aI(b);if(null!==a){var d=this.sf.indexOf(a);c.cn(d,{vn:b})}return c},a.prototype.pf=function(b,a){return void 0===a&&(a=2),this.Bf(this.oh(b),a)},a.prototype.mf=function(a){this.ff&&this.ff(a),this.sf.forEach(function(a){return a.eo().ou().vt()})},a.prototype.Hf=function(a,d,e){var b=new bF(this,a,d),c=void 0!==a.priceScaleId?a.priceScaleId:this.Kf();return e.la(b,c),aH(c)||b.Pr(a),b},a.prototype.Mf=function(b){var a=this.zi.layout;return"gradient"===a.background.type?0===b?a.background.topColor:a.background.bottomColor:a.background.color},a}();function cf(a){void 0!==a.borderColor&&(a.borderUpColor=a.borderColor,a.borderDownColor=a.borderColor),void 0!==a.wickColor&&(a.wickUpColor=a.wickColor,a.wickDownColor=a.wickColor)}function cg(a){return!ad(a)&&!af(a)}function ch(a){return ad(a)}(cM=x||(x={}))[cM.Disabled=0]="Disabled",cM[cM.Continuous=1]="Continuous",cM[cM.OnDataUpdate=2]="OnDataUpdate",(cN=y||(y={}))[cN.LastBar=0]="LastBar",cN[cN.LastVisible=1]="LastVisible",(cO=z||(z={})).Solid="solid",cO.VerticalGradient="gradient";var ci=function(){function a(a,b){this.Ft=a,this.Ot=b}return a.prototype.br=function(a){return this.Ft===a.Ft&&this.Ot===a.Ot},a}();function cj(a){return a.ownerDocument&&a.ownerDocument.defaultView&&a.ownerDocument.defaultView.devicePixelRatio||1}function ck(b){var a=P(b.getContext("2d"));return a.setTransform(1,0,0,1,0,0),a}function cl(d,b){var a=d.createElement("canvas"),c=cj(a);return a.style.width="".concat(b.Ft,"px"),a.style.height="".concat(b.Ot,"px"),a.width=b.Ft*c,a.height=b.Ot*c,a}function cm(a,b){var c,d,e=P(a.ownerDocument).createElement("canvas");a.appendChild(e);var f=(c=e,d={allowDownsampling:!1},!1,new K(c,d));return f.resizeCanvas({width:b.Ft,height:b.Ot}),f}function cn(a,b){return a.Gf-b.Gf}function co(a,b,d){var c=(a.Gf-b.Gf)/(a.rt-b.rt);return Math.sign(c)*Math.min(Math.abs(c),d)}var cp=function(){function a(a,b,c,d){this.Qf=null,this.tc=null,this.ic=null,this.nc=null,this.sc=null,this.hc=0,this.rc=0,this.ec=!1,this.uc=a,this.ac=b,this.oc=c,this.Cn=d}return a.prototype.lc=function(a,b){if(null!==this.Qf){if(this.Qf.rt===b)return void(this.Qf.Gf=a);if(Math.abs(this.Qf.Gf-a)<this.Cn)return}this.nc=this.ic,this.ic=this.tc,this.tc=this.Qf,this.Qf={rt:b,Gf:a}},a.prototype.xh=function(o,h){if(null!==this.Qf&&null!==this.tc&&!(h-this.Qf.rt>50)){var a=0,e=co(this.Qf,this.tc,this.ac),i=cn(this.Qf,this.tc),b=[e],f=[i];if(a+=i,null!==this.ic){var j=co(this.tc,this.ic,this.ac);if(Math.sign(j)===Math.sign(e)){var k=cn(this.tc,this.ic);if(b.push(j),f.push(k),a+=k,null!==this.nc){var l=co(this.ic,this.nc,this.ac);if(Math.sign(l)===Math.sign(e)){var m=cn(this.ic,this.nc);b.push(l),f.push(m),a+=m}}}}for(var n,p,g,c=0,d=0;d<b.length;++d)c+=f[d]/a*b[d];Math.abs(c)<this.uc||(this.sc={Gf:o,rt:h},this.rc=c,this.hc=(n=Math.abs(c),g=Math.log(this.oc),Math.log(-(1*g/n))/g))}},a.prototype.fc=function(b){var a=P(this.sc),c=b-a.rt;return a.Gf+this.rc*(Math.pow(this.oc,c)-1)/Math.log(this.oc)},a.prototype.cc=function(a){return null===this.sc||this.vc(a)===this.hc},a.prototype._c=function(){return this.ec},a.prototype.dc=function(){this.ec=!0},a.prototype.vc=function(a){return Math.min(a-P(this.sc).rt,this.hc)},a}(),G="undefined"!=typeof window;function cq(){return!!G&&window.navigator.userAgent.toLowerCase().indexOf("firefox")> -1}function cr(){return!!G&&/iPhone|iPad|iPod/.test(window.navigator.platform)}var cs=function(){function a(a,b,c){var d=this;this.wc=0,this.Mc=null,this.bc={tt:Number.NEGATIVE_INFINITY,it:Number.POSITIVE_INFINITY},this.mc=0,this.gc=null,this.yc={tt:Number.NEGATIVE_INFINITY,it:Number.POSITIVE_INFINITY},this.kc=null,this.Nc=!1,this.xc=null,this.Cc=null,this.Sc=!1,this.Tc=!1,this.Dc=!1,this.Ac=null,this.Bc=null,this.Lc=null,this.Ec=null,this.Fc=null,this.Oc=null,this.Vc=null,this.Pc=0,this.Wc=!1,this.zc=!1,this.Rc=!1,this.Ic=0,this.jc=null,this.qc=!cr(),this.Uc=function(a){d.Hc(a)},this.Yc=function(a){if(d.$c(a)){var b=d.Kc(a);++d.mc,d.gc&&d.mc>1&&(d.Zc(cv(a),d.yc).Xc<30&&!d.Dc&&d.Jc(b,d.Qc.Gc),d.tv())}else b=d.Kc(a),++d.wc,d.Mc&&d.wc>1&&(d.Zc(cv(a),d.bc).Xc<5&&!d.Tc&&d.iv(b,d.Qc.nv),d.sv())},this.hv=a,this.Qc=b,this.zi=c,this.rv()}return a.prototype.g=function(){null!==this.Ac&&(this.Ac(),this.Ac=null),null!==this.Bc&&(this.Bc(),this.Bc=null),null!==this.Ec&&(this.Ec(),this.Ec=null),null!==this.Fc&&(this.Fc(),this.Fc=null),null!==this.Oc&&(this.Oc(),this.Oc=null),null!==this.Lc&&(this.Lc(),this.Lc=null),this.ev(),this.sv()},a.prototype.uv=function(a){var d=this;this.Ec&&this.Ec();var b=this.av.bind(this);if(this.Ec=function(){d.hv.removeEventListener("mousemove",b)},this.hv.addEventListener("mousemove",b),!this.$c(a)){var c=this.Kc(a);this.iv(c,this.Qc.ov),this.qc=!0}},a.prototype.sv=function(){null!==this.Mc&&clearTimeout(this.Mc),this.wc=0,this.Mc=null,this.bc={tt:Number.NEGATIVE_INFINITY,it:Number.POSITIVE_INFINITY}},a.prototype.tv=function(){null!==this.gc&&clearTimeout(this.gc),this.mc=0,this.gc=null,this.yc={tt:Number.NEGATIVE_INFINITY,it:Number.POSITIVE_INFINITY}},a.prototype.av=function(a){if(!this.Rc&&null===this.Cc&&!this.$c(a)){var b=this.Kc(a);this.iv(b,this.Qc.lv),this.qc=!0}},a.prototype.fv=function(a){var b=cx(a.changedTouches,P(this.jc));if(null!==b&&(this.Ic=cw(a),null===this.Vc&&!this.zc)){this.Wc=!0;var c=this.Zc(cv(b),P(this.Cc)),f=c.cv,d=c.vv,g=c.Xc;if(this.Sc||!(g<5)){if(!this.Sc){var e=.5*f,h=d>=e&&!this.zi._v(),i=e>d&&!this.zi.dv();h||i||(this.zc=!0),this.Sc=!0,this.Dc=!0,this.ev(),this.tv()}if(!this.zc){var j=this.Kc(a,b);this.Jc(j,this.Qc.wv),cu(a)}}}},a.prototype.Mv=function(a){if(0===a.button&&(this.Zc(cv(a),P(this.xc)).Xc>=5&&(this.Tc=!0,this.sv()),this.Tc)){var b=this.Kc(a);this.iv(b,this.Qc.bv)}},a.prototype.Zc=function(a,b){var c=Math.abs(b.tt-a.tt),d=Math.abs(b.it-a.it);return{cv:c,vv:d,Xc:c+d}},a.prototype.mv=function(a){var b=cx(a.changedTouches,P(this.jc));if(null===b&&0===a.touches.length&&(b=a.changedTouches[0]),null!==b){this.jc=null,this.Ic=cw(a),this.ev(),this.Cc=null,this.Oc&&(this.Oc(),this.Oc=null);var c=this.Kc(a,b);(this.Jc(c,this.Qc.pv),++this.mc,this.gc&&this.mc>1)?(this.Zc(cv(b),this.yc).Xc<30&&!this.Dc&&this.Jc(c,this.Qc.Gc),this.tv()):this.Dc||(this.Jc(c,this.Qc.gv),this.Qc.gv&&cu(a)),0===this.mc&&cu(a),0===a.touches.length&&this.Nc&&(this.Nc=!1,cu(a))}},a.prototype.Hc=function(a){if(0===a.button){var b=this.Kc(a);this.xc=null,this.Rc=!1,this.Fc&&(this.Fc(),this.Fc=null),cq()&&this.hv.ownerDocument.documentElement.removeEventListener("mouseleave",this.Uc),!this.$c(a)&&((this.iv(b,this.Qc.yv),++this.wc,this.Mc&&this.wc>1)?(this.Zc(cv(a),this.bc).Xc<5&&!this.Tc&&this.iv(b,this.Qc.nv),this.sv()):this.Tc||this.iv(b,this.Qc.kv))}},a.prototype.ev=function(){null!==this.kc&&(clearTimeout(this.kc),this.kc=null)},a.prototype.Nv=function(a){if(null===this.jc){var b=a.changedTouches[0];this.jc=b.identifier,this.Ic=cw(a);var c=this.hv.ownerDocument.documentElement;this.Dc=!1,this.Sc=!1,this.zc=!1,this.Cc=cv(b),this.Oc&&(this.Oc(),this.Oc=null);var d=this.fv.bind(this),e=this.mv.bind(this);this.Oc=function(){c.removeEventListener("touchmove",d),c.removeEventListener("touchend",e)},c.addEventListener("touchmove",d,{passive:!1}),c.addEventListener("touchend",e,{passive:!1}),this.ev(),this.kc=setTimeout(this.xv.bind(this,a),240);var f=this.Kc(a,b);this.Jc(f,this.Qc.Cv),this.gc||(this.mc=0,this.gc=setTimeout(this.tv.bind(this),500),this.yc=cv(b))}},a.prototype.Sv=function(a){if(0===a.button){var b=this.hv.ownerDocument.documentElement;cq()&&b.addEventListener("mouseleave",this.Uc),this.Tc=!1,this.xc=cv(a),this.Fc&&(this.Fc(),this.Fc=null);var c=this.Mv.bind(this),d=this.Hc.bind(this);if(this.Fc=function(){b.removeEventListener("mousemove",c),b.removeEventListener("mouseup",d)},b.addEventListener("mousemove",c),b.addEventListener("mouseup",d),this.Rc=!0,!this.$c(a)){var e=this.Kc(a);this.iv(e,this.Qc.Tv),this.Mc||(this.wc=0,this.Mc=setTimeout(this.sv.bind(this),500),this.bc=cv(a))}}},a.prototype.rv=function(){var d=this;this.hv.addEventListener("mouseenter",this.uv.bind(this)),this.hv.addEventListener("touchcancel",this.ev.bind(this));var a,b=this.hv.ownerDocument,c=function(a){d.Qc.Dv&&(a.target&&d.hv.contains(a.target)||d.Qc.Dv())};this.Bc=function(){b.removeEventListener("touchstart",c)},this.Ac=function(){b.removeEventListener("mousedown",c)},b.addEventListener("mousedown",c),b.addEventListener("touchstart",c,{passive:!0}),cr()&&(this.Lc=function(){d.hv.removeEventListener("dblclick",d.Yc)},this.hv.addEventListener("dblclick",this.Yc)),this.hv.addEventListener("mouseleave",this.Av.bind(this)),this.hv.addEventListener("touchstart",this.Nv.bind(this),{passive:!0}),a=this.hv,G&& void 0!==window.chrome&&a.addEventListener("mousedown",function(a){if(1===a.button)return a.preventDefault(),!1}),this.hv.addEventListener("mousedown",this.Sv.bind(this)),this.Bv(),this.hv.addEventListener("touchmove",function(){},{passive:!1})},a.prototype.Bv=function(){var a=this;void 0===this.Qc.Lv&& void 0===this.Qc.Ev&& void 0===this.Qc.Fv||(this.hv.addEventListener("touchstart",function(b){return a.Ov(b.touches)},{passive:!0}),this.hv.addEventListener("touchmove",function(b){if(2===b.touches.length&&null!==a.Vc&& void 0!==a.Qc.Ev){var c=ct(b.touches[0],b.touches[1])/a.Pc;a.Qc.Ev(a.Vc,c),cu(b)}},{passive:!1}),this.hv.addEventListener("touchend",function(b){a.Ov(b.touches)}))},a.prototype.Ov=function(a){1===a.length&&(this.Wc=!1),2!==a.length||this.Wc||this.Nc?this.Vv():this.Pv(a)},a.prototype.Pv=function(a){var b=this.hv.getBoundingClientRect()||{left:0,top:0};this.Vc={tt:(a[0].clientX-b.left+(a[1].clientX-b.left))/2,it:(a[0].clientY-b.top+(a[1].clientY-b.top))/2},this.Pc=ct(a[0],a[1]),void 0!==this.Qc.Lv&&this.Qc.Lv(),this.ev()},a.prototype.Vv=function(){null!==this.Vc&&(this.Vc=null,void 0!==this.Qc.Fv&&this.Qc.Fv())},a.prototype.Av=function(a){if(this.Ec&&this.Ec(),!this.$c(a)&&this.qc){var b=this.Kc(a);this.iv(b,this.Qc.Wv),this.qc=!cr()}},a.prototype.xv=function(a){var b=cx(a.touches,P(this.jc));if(null!==b){var c=this.Kc(a,b);this.Jc(c,this.Qc.zv),this.Dc=!0,this.Nc=!0}},a.prototype.$c=function(a){return a.sourceCapabilities&& void 0!==a.sourceCapabilities.firesTouchEvents?a.sourceCapabilities.firesTouchEvents:cw(a)<this.Ic+500},a.prototype.Jc=function(b,a){a&&a.call(this.Qc,b)},a.prototype.iv=function(b,a){a&&a.call(this.Qc,b)},a.prototype.Kc=function(a,d){var b=d||a,c=this.hv.getBoundingClientRect()||{left:0,top:0};return{Rv:b.clientX,Iv:b.clientY,jv:b.pageX,qv:b.pageY,Uv:b.screenX,Hv:b.screenY,Yv:b.clientX-c.left,$v:b.clientY-c.top,Kv:a.ctrlKey,Xv:a.altKey,Zv:a.shiftKey,Jv:a.metaKey,Gv:!a.type.startsWith("mouse")&&"contextmenu"!==a.type&&"click"!==a.type,Qv:a.type,t_:b.target,i_:a.view,n_:function(){"touchstart"!==a.type&&cu(a)}}},a}();function ct(a,b){var c=a.clientX-b.clientX,d=a.clientY-b.clientY;return Math.sqrt(c*c+d*d)}function cu(a){a.cancelable&&a.preventDefault()}function cv(a){return{tt:a.pageX,it:a.pageY}}function cw(a){return a.timeStamp||performance.now()}function cx(b,c){for(var a=0;a<b.length;++a)if(b[a].identifier===c)return b[a];return null}var cy=function(){function a(a,b,c,d){this.rh=new a9(200),this.R=0,this.s_="",this.Yh="",this.th=[],this.h_=new Map,this.R=a,this.s_=b,this.Yh=ak(a,c,d)}return a.prototype.g=function(){this.rh.ih(),this.th=[],this.h_.clear()},a.prototype.r_=function(b,e,c,d,f){var a=this.e_(b,e);if("left"!==f){var g=cj(b.canvas);c-=Math.floor(a.u_*g)}d-=Math.floor(a.Yt/2),b.drawImage(a.a_,c,d,a.Ht,a.Yt)},a.prototype.e_=function(c,b){var a,k=this;if(this.h_.has(b))a=O(this.h_.get(b));else{if(this.th.length>=200){var i=O(this.th.shift());this.h_.delete(i)}var d=cj(c.canvas),f=Math.ceil(this.R/4.5),l=Math.round(this.R/10),e=Math.ceil(this.rh.Qt(c,b)),g=aY(Math.round(e+2*f)),h=aY(this.R+2*f),j=cl(document,new ci(g,h));a={Gt:b,u_:Math.round(Math.max(1,e)),Ht:Math.ceil(g*d),Yt:Math.ceil(h*d),a_:j},0!==e&&(this.th.push(a.Gt),this.h_.set(a.Gt,a)),au(c=ck(a.a_),d,function(){c.font=k.Yh,c.fillStyle=k.s_,c.fillText(b,0,h-f-l)})}return a},a}(),cz=function(){function a(c,d,e,f){var h=this;this._i=null,this.o_=null,this.l_=!1,this.f_=new a9(50),this.c_=new cy(11,"#000"),this.s_=null,this.Yh=null,this.v_=0,this.__=!1,this.d_=function(){h.w_(h.cf.W()),h.__||h.Di.M_().jt().Wr()},this.b_=function(){h.__||h.Di.M_().jt().Wr()},this.Di=c,this.zi=d,this.cf=e,this.m_="left"===f,this.p_=document.createElement("div"),this.p_.style.height="100%",this.p_.style.overflow="hidden",this.p_.style.width="25px",this.p_.style.left="0",this.p_.style.position="relative",this.g_=cm(this.p_,new ci(16,16)),this.g_.subscribeCanvasConfigured(this.d_);var a=this.g_.canvas;a.style.position="absolute",a.style.zIndex="1",a.style.left="0",a.style.top="0",this.y_=cm(this.p_,new ci(16,16)),this.y_.subscribeCanvasConfigured(this.b_);var b=this.y_.canvas;b.style.position="absolute",b.style.zIndex="2",b.style.left="0",b.style.top="0";var g={Tv:this.k_.bind(this),Cv:this.k_.bind(this),bv:this.N_.bind(this),wv:this.N_.bind(this),Dv:this.x_.bind(this),yv:this.C_.bind(this),pv:this.C_.bind(this),nv:this.S_.bind(this),Gc:this.S_.bind(this),ov:this.T_.bind(this),Wv:this.D_.bind(this)};this.A_=new cs(this.y_.canvas,g,{_v:function(){return!1},dv:function(){return!0}})}return a.prototype.g=function(){this.A_.g(),this.y_.unsubscribeCanvasConfigured(this.b_),this.y_.destroy(),this.g_.unsubscribeCanvasConfigured(this.d_),this.g_.destroy(),null!==this._i&&this._i._a().M(this),this._i=null,this.c_.g()},a.prototype.B_=function(){return this.p_},a.prototype.ht=function(){return P(this._i).W().borderColor},a.prototype.L_=function(){return this.zi.textColor},a.prototype.S=function(){return this.zi.fontSize},a.prototype.E_=function(){return ak(this.S(),this.zi.fontFamily)},a.prototype.F_=function(){var a=this.cf.W(),c=this.s_!==a.A,b=this.Yh!==a.T;return(c||b)&&(this.w_(a),this.s_=a.A),b&&(this.f_.ih(),this.Yh=a.T),a},a.prototype.O_=function(){if(null===this._i)return 0;var a=0,d=this.F_(),b=ck(this.g_.canvas),e=this._i.au();b.font=this.E_(),e.length>0&&(a=Math.max(this.f_.Qt(b,e[0].yu),this.f_.Qt(b,e[e.length-1].yu)));for(var f=this.V_(),g=f.length;g--;){var h=this.f_.Qt(b,f[g].Gt());h>a&&(a=h)}var c=this._i.kt();if(null!==c&&null!==this.o_){var i=this._i.qi(1,c),j=this._i.qi(this.o_.Ot-2,c);a=Math.max(a,this.f_.Qt(b,this._i.Mi(Math.floor(Math.min(i,j))+.11111111111111,c)),this.f_.Qt(b,this._i.Mi(Math.ceil(Math.max(i,j))-.11111111111111,c)))}var l=a||34,k=Math.ceil(d.N+d.C+d.L+d.F+l);return k+k%2},a.prototype.P_=function(a){if(a.Ft<0||a.Ot<0)throw Error("Try to set invalid size to PriceAxisWidget "+JSON.stringify(a));null!==this.o_&&this.o_.br(a)||(this.o_=a,this.__=!0,this.g_.resizeCanvas({width:a.Ft,height:a.Ot}),this.y_.resizeCanvas({width:a.Ft,height:a.Ot}),this.__=!1,this.p_.style.width=a.Ft+"px",this.p_.style.height=a.Ot+"px",this.p_.style.minWidth=a.Ft+"px")},a.prototype.W_=function(){return P(this.o_).Ft},a.prototype.Si=function(a){this._i!==a&&(null!==this._i&&this._i._a().M(this),this._i=a,a._a().u(this.Eu.bind(this),this))},a.prototype.Ct=function(){return this._i},a.prototype.ih=function(){var a=this.Di.z_();this.Di.M_().jt().no(a,P(this.Ct()))},a.prototype.R_=function(c){if(null!==this.o_){if(1!==c){var a=ck(this.g_.canvas);this.I_(),this.j_(a,this.g_.pixelRatio),this.Rs(a,this.g_.pixelRatio),this.q_(a,this.g_.pixelRatio),this.U_(a,this.g_.pixelRatio)}var b=ck(this.y_.canvas),d=this.o_.Ft,e=this.o_.Ot;au(b,this.y_.pixelRatio,function(){b.clearRect(0,0,d,e)}),this.H_(b,this.y_.pixelRatio)}},a.prototype.Y_=function(){return this.g_.canvas},a.prototype.vt=function(){var a;null===(a=this._i)|| void 0===a||a.au()},a.prototype.k_=function(a){if(null!==this._i&&!this._i.wi()&&this.Di.M_().W().handleScale.axisPressedMouseMove.price){var b=this.Di.M_().jt(),c=this.Di.z_();this.l_=!0,b.Ka(c,this._i,a.$v)}},a.prototype.N_=function(a){if(null!==this._i&&this.Di.M_().W().handleScale.axisPressedMouseMove.price){var b=this.Di.M_().jt(),c=this.Di.z_(),d=this._i;b.Xa(c,d,a.$v)}},a.prototype.x_=function(){if(null!==this._i&&this.Di.M_().W().handleScale.axisPressedMouseMove.price){var a=this.Di.M_().jt(),b=this.Di.z_(),c=this._i;this.l_&&(this.l_=!1,a.Za(b,c))}},a.prototype.C_=function(c){if(null!==this._i&&this.Di.M_().W().handleScale.axisPressedMouseMove.price){var a=this.Di.M_().jt(),b=this.Di.z_();this.l_=!1,a.Za(b,this._i)}},a.prototype.S_=function(a){this.Di.M_().W().handleScale.axisDoubleClickReset&&this.ih()},a.prototype.T_=function(a){null!==this._i&&(!this.Di.M_().jt().W().handleScale.axisPressedMouseMove.price||this._i.vr()||this._i.Zu()||this.K_(1))},a.prototype.D_=function(a){this.K_(0)},a.prototype.V_=function(){var b=this,a=[],c=null===this._i?void 0:this._i;return function(f){for(var d=0;d<f.length;++d)for(var g=f[d].nn(b.Di.z_(),c),e=0;e<g.length;e++)a.push(g[e])}(this.Di.z_().oa()),a},a.prototype.j_=function(a,b){var c=this;if(null!==this.o_){var d=this.o_.Ft,e=this.o_.Ot;au(a,b,function(){var f=c.Di.z_().jt(),b=f.Zf(),g=f.Xf();b===g?av(a,0,0,d,e,b):aw(a,0,0,d,e,b,g)})}},a.prototype.Rs=function(a,b){if(null!==this.o_&&null!==this._i&&this._i.W().borderVisible){a.save(),a.fillStyle=this.ht();var c,d=Math.max(1,Math.floor(this.F_().N*b));c=this.m_?Math.floor(this.o_.Ft*b)-d:0,a.fillRect(c,0,d,Math.ceil(this.o_.Ot*b)),a.restore()}},a.prototype.q_=function(b,a){if(null!==this.o_&&null!==this._i){var h=this._i.au();b.save(),b.strokeStyle=this.ht(),b.font=this.E_(),b.fillStyle=this.ht();var c=this.F_(),k=this._i.W().borderVisible&&this._i.W().drawTicks,e=this.m_?Math.floor((this.o_.Ft-c.C)*a-c.N*a):Math.floor(c.N*a),l=this.m_?Math.round(e-c.L*a):Math.round(e+c.C*a+c.L*a),m=this.m_?"right":"left",n=Math.max(1,Math.floor(a)),o=Math.floor(.5*a);if(k){var p=Math.round(c.C*a);b.beginPath();for(var f=0,i=h;f<i.length;f++){var d=i[f];b.rect(e,Math.round(d.su*a)-o,p,n)}b.fill()}b.fillStyle=this.L_();for(var g=0,j=h;g<j.length;g++)d=j[g],this.c_.r_(b,d.yu,l,Math.round(d.su*a),m);b.restore()}},a.prototype.I_=function(){if(null!==this.o_&&null!==this._i){var m=this.o_.Ot/2,i=[],k=this._i.oa().slice(),l=this.Di.z_(),j=this.F_();this._i===l.fh()&&this.Di.z_().oa().forEach(function(a){l.lh(a)&&k.push(a)});var n=this._i.Ge()[0],o=this._i;k.forEach(function(b){var a=b.nn(l,o);a.forEach(function(a){a.oi(null),a.li()&&i.push(a)}),n===b&&a.length>0&&(m=a[0].ti())});var a=i.filter(function(a){return a.ti()<=m}),b=i.filter(function(a){return a.ti()>m});if(a.sort(function(a,b){return b.ti()-a.ti()}),a.length&&b.length&&b.push(a[0]),b.sort(function(a,b){return a.ti()-b.ti()}),i.forEach(function(a){return a.oi(a.ti())}),this._i.W().alignLabels){for(var e,f,g=1;g<a.length;g++){var c=a[g],d=(e=a[g-1]).Yt(j,!1);c.ti()>(f=e.ai())-d&&c.oi(f-d)}for(var h=1;h<b.length;h++)c=b[h],d=(e=b[h-1]).Yt(j,!0),c.ti()<(f=e.ai())+d&&c.oi(f+d)}}},a.prototype.U_=function(a,c){var d=this;if(null!==this.o_){a.save();var e=this.o_,b=this.V_(),f=this.F_(),g=this.m_?"right":"left";b.forEach(function(b){if(b.fi()){var h=b.dt(P(d._i));a.save(),h.H(a,f,d.f_,e.Ft,g,c),a.restore()}}),a.restore()}},a.prototype.H_=function(a,f){var g=this;if(null!==this.o_&&null!==this._i){a.save();var h=this.o_,d=this.Di.M_().jt(),b=[],e=this.Di.z_(),c=d.Tf().nn(e,this._i);c.length&&b.push(c);var i=this.F_(),j=this.m_?"right":"left";b.forEach(function(b){b.forEach(function(b){a.save(),b.dt(P(g._i)).H(a,i,g.f_,h.Ft,j,f),a.restore()})}),a.restore()}},a.prototype.K_=function(a){this.p_.style.cursor=1===a?"ns-resize":"default"},a.prototype.Eu=function(){var a=this.O_();this.v_<a&&this.Di.M_().jt().Ce(),this.v_=a},a.prototype.w_=function(a){this.c_.g(),this.c_=new cy(a.S,a.A,a.D)},a}();function cA(a,b,c,d,e){a.$&&a.$(b,c,d,e)}function cB(a,b,c,d,e){a.H(b,c,d,e)}function cC(a,b){return a.tn(b)}function cD(a,b){return void 0!==a.Pe?a.Pe(b):[]}var cE=function(){function a(d,e){var f=this;this.o_=new ci(0,0),this.X_=null,this.Z_=null,this.J_=null,this.G_=!1,this.Q_=new ab,this.td=0,this.nd=!1,this.sd=null,this.hd=!1,this.rd=null,this.ed=null,this.__=!1,this.d_=function(){f.__||null===f.ud||f.pi().Wr()},this.b_=function(){f.__||null===f.ud||f.pi().Wr()},this.ad=d,this.ud=e,this.ud.ro().u(this.od.bind(this),this,!0),this.ld=document.createElement("td"),this.ld.style.padding="0",this.ld.style.position="relative";var a=document.createElement("div");a.style.width="100%",a.style.height="100%",a.style.position="relative",a.style.overflow="hidden",this.fd=document.createElement("td"),this.fd.style.padding="0",this.vd=document.createElement("td"),this.vd.style.padding="0",this.ld.appendChild(a),this.g_=cm(a,new ci(16,16)),this.g_.subscribeCanvasConfigured(this.d_);var b=this.g_.canvas;b.style.position="absolute",b.style.zIndex="1",b.style.left="0",b.style.top="0",this.y_=cm(a,new ci(16,16)),this.y_.subscribeCanvasConfigured(this.b_);var c=this.y_.canvas;c.style.position="absolute",c.style.zIndex="2",c.style.left="0",c.style.top="0",this._d=document.createElement("tr"),this._d.appendChild(this.fd),this._d.appendChild(this.ld),this._d.appendChild(this.vd),this.dd(),this.A_=new cs(this.y_.canvas,this,{_v:function(){return null===f.sd&&!f.ad.W().handleScroll.vertTouchDrag},dv:function(){return null===f.sd&&!f.ad.W().handleScroll.horzTouchDrag}})}return a.prototype.g=function(){null!==this.X_&&this.X_.g(),null!==this.Z_&&this.Z_.g(),this.y_.unsubscribeCanvasConfigured(this.b_),this.y_.destroy(),this.g_.unsubscribeCanvasConfigured(this.d_),this.g_.destroy(),null!==this.ud&&this.ud.ro().M(this),this.A_.g()},a.prototype.z_=function(){return P(this.ud)},a.prototype.wd=function(b){null!==this.ud&&this.ud.ro().M(this),this.ud=b,null!==this.ud&&this.ud.ro().u(a.prototype.od.bind(this),this,!0),this.dd()},a.prototype.M_=function(){return this.ad},a.prototype.B_=function(){return this._d},a.prototype.dd=function(){if(null!==this.ud&&(this.Md(),0!==this.pi()._t().length)){if(null!==this.X_){var a=this.ud.Ya();this.X_.Si(P(a))}if(null!==this.Z_){var b=this.ud.$a();this.Z_.Si(P(b))}}},a.prototype.bd=function(){null!==this.X_&&this.X_.vt(),null!==this.Z_&&this.Z_.vt()},a.prototype.Wa=function(){return null!==this.ud?this.ud.Wa():0},a.prototype.za=function(a){this.ud&&this.ud.za(a)},a.prototype.ov=function(a){if(this.ud){this.md();var b=a.Yv,c=a.$v;this.pd(b,c)}},a.prototype.Tv=function(a){this.md(),this.gd(),this.pd(a.Yv,a.$v)},a.prototype.lv=function(b){if(this.ud){this.md();var c=b.Yv,d=b.$v;this.pd(c,d);var a=this.$h(c,d);this.pi().yf(a&&{kf:a.kf,yd:a.yd})}},a.prototype.kv=function(a){if(null!==this.ud){this.md();var b=a.Yv,c=a.$v;if(this.Q_.p()){var d=this.pi().Tf().Mt();this.Q_.m(d,{x:b,y:c})}}},a.prototype.bv=function(a){this.md(),this.kd(a),this.pd(a.Yv,a.$v)},a.prototype.yv=function(a){null!==this.ud&&(this.md(),this.nd=!1,this.Nd(a))},a.prototype.zv=function(a){if(this.nd=!0,null===this.sd){var b={x:a.Yv,y:a.$v};this.xd(b,b)}},a.prototype.Wv=function(a){null!==this.ud&&(this.md(),this.ud.jt().yf(null),this.Cd())},a.prototype.Sd=function(){return this.Q_},a.prototype.Lv=function(){this.td=1,this.Td()},a.prototype.Ev=function(b,a){if(this.ad.W().handleScale.pinch){var c=5*(a-this.td);this.td=a,this.pi().Ef(b.tt,c)}},a.prototype.Cv=function(a){if(this.nd=!1,this.hd=null!==this.sd,this.gd(),null!==this.sd){var b=this.pi().Tf();this.rd={x:b.$t(),y:b.Kt()},this.sd={x:a.Yv,y:a.$v}}},a.prototype.wv=function(a){if(null!==this.ud){var c=a.Yv,d=a.$v;if(null===this.sd)this.kd(a);else{this.hd=!1;var b=P(this.rd),e=b.x+(c-this.sd.x),f=b.y+(d-this.sd.y);this.pd(e,f)}}},a.prototype.pv=function(a){0===this.M_().W().trackingMode.exitMode&&(this.hd=!0),this.Dd(),this.Nd(a)},a.prototype.$h=function(f,g){var a=this.ud;if(null===a)return null;for(var b=0,d=a.oa();b<d.length;b++){var e=d[b],c=this.Ad(e.tn(a),f,g);if(null!==c)return{kf:e,i_:c.i_,yd:c.yd}}return null},a.prototype.Bd=function(a,b){P("left"===b?this.X_:this.Z_).P_(new ci(a,this.o_.Ot))},a.prototype.Ld=function(){return this.o_},a.prototype.P_=function(a){if(a.Ft<0||a.Ot<0)throw Error("Try to set invalid size to PaneWidget "+JSON.stringify(a));this.o_.br(a)||(this.o_=a,this.__=!0,this.g_.resizeCanvas({width:a.Ft,height:a.Ot}),this.y_.resizeCanvas({width:a.Ft,height:a.Ot}),this.__=!1,this.ld.style.width=a.Ft+"px",this.ld.style.height=a.Ot+"px")},a.prototype.Ed=function(){var a=P(this.ud);a.Ha(a.Ya()),a.Ha(a.$a());for(var b=0,d=a.Ge();b<d.length;b++){var c=d[b];if(a.lh(c)){var e=c.Ct();null!==e&&a.Ha(e),c.hn()}}},a.prototype.Y_=function(){return this.g_.canvas},a.prototype.R_=function(b){if(0!==b&&null!==this.ud){if(b>1&&this.Ed(),null!==this.X_&&this.X_.R_(b),null!==this.Z_&&this.Z_.R_(b),1!==b){var a=ck(this.g_.canvas);a.save(),this.j_(a,this.g_.pixelRatio),this.ud&&(this.Fd(a,this.g_.pixelRatio),this.Od(a,this.g_.pixelRatio),this.Vd(a,this.g_.pixelRatio,cC)),a.restore()}var c=ck(this.y_.canvas);c.clearRect(0,0,Math.ceil(this.o_.Ft*this.y_.pixelRatio),Math.ceil(this.o_.Ot*this.y_.pixelRatio)),this.Vd(c,this.g_.pixelRatio,cD),this.Pd(c,this.y_.pixelRatio)}},a.prototype.Wd=function(){return this.X_},a.prototype.zd=function(){return this.Z_},a.prototype.od=function(){null!==this.ud&&this.ud.ro().M(this),this.ud=null},a.prototype.j_=function(a,b){var c=this;au(a,b,function(){var d=c.pi(),e=d.Zf(),b=d.Xf();e===b?av(a,0,0,c.o_.Ft,c.o_.Ot,b):aw(a,0,0,c.o_.Ft,c.o_.Ot,e,b)})},a.prototype.Fd=function(a,d){var b=P(this.ud),c=b.eo().ou().dt(b.Yt(),b.Ht());null!==c&&(a.save(),c.H(a,d,!1),a.restore())},a.prototype.Od=function(a,b){var c=this.pi().Sf();this.Rd(a,b,cC,cA,c),this.Rd(a,b,cC,cB,c)},a.prototype.Pd=function(a,b){this.Rd(a,b,cC,cB,this.pi().Tf())},a.prototype.Vd=function(d,e,f){for(var g=P(this.ud).oa(),a=0,h=g;a<h.length;a++){var b=h[a];this.Rd(d,e,f,cA,b)}for(var c=0,i=g;c<i.length;c++)b=i[c],this.Rd(d,e,f,cB,b)},a.prototype.Rd=function(c,i,j,k,e){for(var b=P(this.ud),l=j(e,b),m=b.Yt(),n=b.Ht(),a=b.jt().gf(),f=null!==a&&a.kf===e,o=null!==a&&f&& void 0!==a.yd?a.yd.Kh:void 0,d=0,g=l;d<g.length;d++){var h=g[d].dt(m,n);null!==h&&(c.save(),k(h,c,i,f,o),c.restore())}},a.prototype.Ad=function(f,g,h){for(var a=0,c=f;a<c.length;a++){var d=c[a],b=d.dt(this.o_.Ot,this.o_.Ft);if(null!==b&&b.$h){var e=b.$h(g,h);if(null!==e)return{i_:d,yd:e}}}return null},a.prototype.Md=function(){if(null!==this.ud){var a=this.ad,b=this.ud.Ya().W().visible,c=this.ud.$a().W().visible;b||null===this.X_||(this.fd.removeChild(this.X_.B_()),this.X_.g(),this.X_=null),c||null===this.Z_||(this.vd.removeChild(this.Z_.B_()),this.Z_.g(),this.Z_=null);var d=a.jt().qf();b&&null===this.X_&&(this.X_=new cz(this,a.W().layout,d,"left"),this.fd.appendChild(this.X_.B_())),c&&null===this.Z_&&(this.Z_=new cz(this,a.W().layout,d,"right"),this.vd.appendChild(this.Z_.B_()))}},a.prototype.Id=function(a){return a.Gv&&this.nd||null!==this.sd},a.prototype.jd=function(a){return Math.max(0,Math.min(a,this.o_.Ft-1))},a.prototype.qd=function(a){return Math.max(0,Math.min(a,this.o_.Ot-1))},a.prototype.pd=function(a,b){this.pi().Rf(this.jd(a),this.qd(b),P(this.ud))},a.prototype.Cd=function(){this.pi().If()},a.prototype.Dd=function(){this.hd&&(this.sd=null,this.Cd())},a.prototype.xd=function(c,a){this.sd=c,this.hd=!1,this.pd(a.x,a.y);var b=this.pi().Tf();this.rd={x:b.$t(),y:b.Kt()}},a.prototype.pi=function(){return this.ad.jt()},a.prototype.Ud=function(){var a=this.pi(),b=this.z_(),c=b.ji();a.Qa(b,c),a.Pf(),this.J_=null,this.G_=!1},a.prototype.Nd=function(b){var e=this;if(this.G_){var a=performance.now();if(null!==this.ed&&this.ed.xh(b.Yv,a),null===this.ed||this.ed.cc(a))this.Ud();else{var c=this.pi(),f=c.bt(),g=this.ed,d=function(){if(!g._c()){var a=performance.now(),b=g.cc(a);if(!g._c()){var h=f.Nl();c.Vf(g.fc(a)),h===f.Nl()&&(b=!0,e.ed=null)}b?e.Ud():requestAnimationFrame(d)}};requestAnimationFrame(d)}}},a.prototype.md=function(){this.sd=null},a.prototype.gd=function(){if(this.ud){if(this.Td(),document.activeElement!==document.body&&document.activeElement!==document.documentElement)P(document.activeElement).blur();else{var a=document.getSelection();null!==a&&a.removeAllRanges()}this.ud.ji().wi()||this.pi().bt().wi()}},a.prototype.kd=function(a){if(null!==this.ud){var b=this.pi();if(!b.bt().wi()){var f=this.ad.W(),d=f.handleScroll,g=f.kineticScroll;if(d.pressedMouseMove&&!a.Gv||(d.horzTouchDrag||d.vertTouchDrag)&&a.Gv){var c=this.ud.ji(),e=performance.now();null!==this.J_||this.Id(a)||(this.J_={x:a.Rv,y:a.Iv,So:e,Yv:a.Yv,$v:a.$v}),null!==this.ed&&this.ed.lc(a.Yv,e),null===this.J_||this.G_||this.J_.x===a.Rv&&this.J_.y===a.Iv||(null===this.ed&&(a.Gv&&g.touch|| !a.Gv&&g.mouse)&&(this.ed=new cp(.2,7,.997,15),this.ed.lc(this.J_.Yv,this.J_.So),this.ed.lc(a.Yv,e)),c.wi()||b.Ja(this.ud,c,a.$v),b.Of(a.Yv),this.G_=!0),this.G_&&(c.wi()||b.Ga(this.ud,c,a.$v),b.Vf(a.Yv))}}}},a.prototype.Td=function(){var a=performance.now(),b=null===this.ed||this.ed.cc(a);null!==this.ed&&(b||this.Ud()),null!==this.ed&&(this.ed.dc(),this.ed=null)},a}(),cF=function(){function a(a,b,c,d,e){var f=this;this.ft=!0,this.o_=new ci(0,0),this.d_=function(){return f.R_(3)},this.m_="left"===a,this.cf=c.qf,this.zi=b,this.Hd=d,this.Yd=e,this.p_=document.createElement("div"),this.p_.style.width="25px",this.p_.style.height="100%",this.p_.style.overflow="hidden",this.g_=cm(this.p_,new ci(16,16)),this.g_.subscribeCanvasConfigured(this.d_)}return a.prototype.g=function(){this.g_.unsubscribeCanvasConfigured(this.d_),this.g_.destroy()},a.prototype.B_=function(){return this.p_},a.prototype.Ld=function(){return this.o_},a.prototype.P_=function(a){if(a.Ft<0||a.Ot<0)throw Error("Try to set invalid size to PriceAxisStub "+JSON.stringify(a));this.o_.br(a)||(this.o_=a,this.g_.resizeCanvas({width:a.Ft,height:a.Ot}),this.p_.style.width="".concat(a.Ft,"px"),this.p_.style.minWidth="".concat(a.Ft,"px"),this.p_.style.height="".concat(a.Ot,"px"),this.ft=!0)},a.prototype.R_=function(b){if((!(b<3)||this.ft)&&0!==this.o_.Ft&&0!==this.o_.Ot){this.ft=!1;var a=ck(this.g_.canvas);this.j_(a,this.g_.pixelRatio),this.Rs(a,this.g_.pixelRatio)}},a.prototype.Y_=function(){return this.g_.canvas},a.prototype.Rs=function(a,c){if(this.Hd()){var d=this.o_.Ft;a.save(),a.fillStyle=this.zi.timeScale.borderColor;var b=Math.floor(this.cf.W().N*c),e=this.m_?Math.round(d*c)-b:0;a.fillRect(e,0,b,b),a.restore()}},a.prototype.j_=function(a,b){var c=this;au(a,b,function(){av(a,0,0,c.o_.Ft,c.o_.Ot,c.Yd())})},a}();function cG(a,b){return a.Po>b.Po?a:b}var cH=function(){function a(c){var d=this;this.$d=null,this.Kd=null,this.k=null,this.Xd=!1,this.o_=new ci(0,0),this.Zd=new ab,this.f_=new a9(5),this.__=!1,this.d_=function(){d.__||d.ad.jt().Wr()},this.b_=function(){d.__||d.ad.jt().Wr()},this.ad=c,this.zi=c.W().layout,this.Jd=document.createElement("tr"),this.Gd=document.createElement("td"),this.Gd.style.padding="0",this.Qd=document.createElement("td"),this.Qd.style.padding="0",this.p_=document.createElement("td"),this.p_.style.height="25px",this.p_.style.padding="0",this.tw=document.createElement("div"),this.tw.style.width="100%",this.tw.style.height="100%",this.tw.style.position="relative",this.tw.style.overflow="hidden",this.p_.appendChild(this.tw),this.g_=cm(this.tw,new ci(16,16)),this.g_.subscribeCanvasConfigured(this.d_);var a=this.g_.canvas;a.style.position="absolute",a.style.zIndex="1",a.style.left="0",a.style.top="0",this.y_=cm(this.tw,new ci(16,16)),this.y_.subscribeCanvasConfigured(this.b_);var b=this.y_.canvas;b.style.position="absolute",b.style.zIndex="2",b.style.left="0",b.style.top="0",this.Jd.appendChild(this.Gd),this.Jd.appendChild(this.p_),this.Jd.appendChild(this.Qd),this.iw(),this.ad.jt().Pa().u(this.iw.bind(this),this),this.A_=new cs(this.y_.canvas,this,{_v:function(){return!0},dv:function(){return!1}})}return a.prototype.g=function(){this.A_.g(),null!==this.$d&&this.$d.g(),null!==this.Kd&&this.Kd.g(),this.y_.unsubscribeCanvasConfigured(this.b_),this.y_.destroy(),this.g_.unsubscribeCanvasConfigured(this.d_),this.g_.destroy()},a.prototype.B_=function(){return this.Jd},a.prototype.nw=function(){return this.$d},a.prototype.sw=function(){return this.Kd},a.prototype.Tv=function(b){if(!this.Xd){this.Xd=!0;var a=this.ad.jt();!a.bt().wi()&&this.ad.W().handleScale.axisPressedMouseMove.time&&a.Lf(b.Yv)}},a.prototype.Cv=function(a){this.Tv(a)},a.prototype.Dv=function(){var a=this.ad.jt();!a.bt().wi()&&this.Xd&&(this.Xd=!1,this.ad.W().handleScale.axisPressedMouseMove.time&&a.zf())},a.prototype.bv=function(b){var a=this.ad.jt();!a.bt().wi()&&this.ad.W().handleScale.axisPressedMouseMove.time&&a.Wf(b.Yv)},a.prototype.wv=function(a){this.bv(a)},a.prototype.yv=function(){this.Xd=!1;var a=this.ad.jt();a.bt().wi()&&!this.ad.W().handleScale.axisPressedMouseMove.time||a.zf()},a.prototype.pv=function(){this.yv()},a.prototype.nv=function(){this.ad.W().handleScale.axisDoubleClickReset&&this.ad.jt().pn()},a.prototype.Gc=function(){this.nv()},a.prototype.ov=function(){this.ad.jt().W().handleScale.axisPressedMouseMove.time&&this.K_(1)},a.prototype.Wv=function(){this.K_(0)},a.prototype.Ld=function(){return this.o_},a.prototype.hw=function(){return this.Zd},a.prototype.rw=function(a,b,c){this.o_&&this.o_.br(a)||(this.o_=a,this.__=!0,this.g_.resizeCanvas({width:a.Ft,height:a.Ot}),this.y_.resizeCanvas({width:a.Ft,height:a.Ot}),this.__=!1,this.p_.style.width=a.Ft+"px",this.p_.style.height=a.Ot+"px",this.Zd.m(a)),null!==this.$d&&this.$d.P_(new ci(b,a.Ot)),null!==this.Kd&&this.Kd.P_(new ci(c,a.Ot))},a.prototype.ew=function(){var a=this.uw();return Math.ceil(a.N+a.C+a.S+a.O+a.B)},a.prototype.vt=function(){this.ad.jt().bt().au()},a.prototype.Y_=function(){return this.g_.canvas},a.prototype.R_=function(a){if(0!==a){if(1!==a){var b=ck(this.g_.canvas);this.j_(b,this.g_.pixelRatio),this.Rs(b,this.g_.pixelRatio),this.q_(b,this.g_.pixelRatio),null!==this.$d&&this.$d.R_(a),null!==this.Kd&&this.Kd.R_(a)}var d=ck(this.y_.canvas),c=this.y_.pixelRatio;d.clearRect(0,0,Math.ceil(this.o_.Ft*c),Math.ceil(this.o_.Ot*c)),this.aw([this.ad.jt().Tf()],d,c)}},a.prototype.j_=function(a,b){var c=this;au(a,b,function(){av(a,0,0,c.o_.Ft,c.o_.Ot,c.ad.jt().Xf())})},a.prototype.Rs=function(a,b){if(this.ad.W().timeScale.borderVisible){a.save(),a.fillStyle=this.ow();var c=Math.max(1,Math.floor(this.uw().N*b));a.fillRect(0,0,Math.ceil(this.o_.Ft*b),c),a.restore()}},a.prototype.q_=function(a,b){var l=this,c=this.ad.jt().bt().au();if(c&&0!==c.length){var e=c.reduce(cG,c[0]).Po;e>30&&e<50&&(e=30),a.save(),a.strokeStyle=this.ow();var d=this.uw(),m=d.N+d.C+d.O+d.S-d.V;a.textAlign="center",a.fillStyle=this.ow();var g=Math.floor(this.uw().N*b),h=Math.max(1,Math.floor(b)),i=Math.floor(.5*b);if(this.ad.jt().bt().W().borderVisible){a.beginPath();for(var j=Math.round(d.C*b),f=c.length;f--;){var k=Math.round(c[f].su*b);a.rect(k-i,g,h,j)}a.fill()}a.fillStyle=this.j(),au(a,b,function(){a.font=l.lw();for(var b,d=0,h=c;d<h.length;d++)if((b=h[d]).Po<e){var f=b.Sl?l.fw(a,b.su,b.yu):b.su;a.fillText(b.yu,f,m)}a.font=l.cw();for(var g=0,i=c;g<i.length;g++)(b=i[g]).Po>=e&&(f=b.Sl?l.fw(a,b.su,b.yu):b.su,a.fillText(b.yu,f,m))}),a.restore()}},a.prototype.fw=function(d,a,e){var c=this.f_.Qt(d,e),b=Math.floor(a-c/2)+.5;return b<0?a+=Math.abs(0-b):b+c>this.o_.Ft&&(a-=Math.abs(this.o_.Ft-(b+c))),a},a.prototype.aw=function(f,a,g){for(var h=this.uw(),b=0,d=f;b<d.length;b++)for(var c=0,e=d[b].Ti();c<e.length;c++){var i=e[c];a.save(),i.dt().H(a,h,g),a.restore()}},a.prototype.ow=function(){return this.ad.W().timeScale.borderColor},a.prototype.j=function(){return this.zi.textColor},a.prototype.R=function(){return this.zi.fontSize},a.prototype.lw=function(){return ak(this.R(),this.zi.fontFamily)},a.prototype.cw=function(){return ak(this.R(),this.zi.fontFamily,"bold")},a.prototype.uw=function(){null===this.k&&(this.k={N:1,V:NaN,O:NaN,B:NaN,mi:NaN,C:3,S:NaN,T:"",bi:new a9});var a=this.k,c=this.lw();if(a.T!==c){var b=this.R();a.S=b,a.T=c,a.O=Math.ceil(b/2.5),a.B=a.O,a.mi=Math.ceil(b/2),a.V=Math.round(this.R()/5),a.bi.ih()}return this.k},a.prototype.K_=function(a){this.p_.style.cursor=1===a?"ew-resize":"default"},a.prototype.iw=function(){var e=this.ad.jt(),a=e.W();a.leftPriceScale.visible||null===this.$d||(this.Gd.removeChild(this.$d.B_()),this.$d.g(),this.$d=null),a.rightPriceScale.visible||null===this.Kd||(this.Qd.removeChild(this.Kd.B_()),this.Kd.g(),this.Kd=null);var b={qf:this.ad.jt().qf()},c=function(){return a.leftPriceScale.borderVisible&&e.bt().W().borderVisible},d=function(){return e.Xf()};a.leftPriceScale.visible&&null===this.$d&&(this.$d=new cF("left",a,b,c,d),this.Gd.appendChild(this.$d.B_())),a.rightPriceScale.visible&&null===this.Kd&&(this.Kd=new cF("right",a,b,c,d),this.Qd.appendChild(this.Kd.B_()))},a}(),cI=function(){function a(c,e){this._w=[],this.dw=0,this.xu=0,this.hh=0,this.ww=0,this.Mw=0,this.bw=null,this.mw=!1,this.Q_=new ab,this.af=new ab,this.zi=e,this.Jd=document.createElement("div"),this.Jd.classList.add("tv-lightweight-charts"),this.Jd.style.overflow="hidden",this.Jd.style.width="100%",this.Jd.style.height="100%",(f=this.Jd).style.userSelect="none",f.style.webkitUserSelect="none",f.style.msUserSelect="none",f.style.MozUserSelect="none",f.style.webkitTapHighlightColor="transparent",this.pw=document.createElement("table"),this.pw.setAttribute("cellspacing","0"),this.Jd.appendChild(this.pw),this.gw=this.yw.bind(this),this.Jd.addEventListener("wheel",this.gw,{passive:!1}),this.pi=new ce(this.ff.bind(this),this.zi),this.jt().Df().u(this.kw.bind(this),this),this.Nw=new cH(this),this.pw.appendChild(this.Nw.B_());var f,a=this.zi.width,b=this.zi.height;if(0===a||0===b){var d=c.getBoundingClientRect();0===a&&(a=Math.floor(d.width),a-=a%2),0===b&&(b=Math.floor(d.height),b-=b%2)}this.xw(a,b),this.Cw(),c.appendChild(this.Jd),this.Sw(),this.pi.bt().Pl().u(this.pi.Ce.bind(this.pi),this),this.pi.Pa().u(this.pi.Ce.bind(this.pi),this)}return a.prototype.jt=function(){return this.pi},a.prototype.W=function(){return this.zi},a.prototype.Tw=function(){return this._w},a.prototype.Dw=function(){return this.Nw},a.prototype.g=function(){this.Jd.removeEventListener("wheel",this.gw),0!==this.dw&&window.cancelAnimationFrame(this.dw),this.pi.Df().M(this),this.pi.bt().Pl().M(this),this.pi.Pa().M(this),this.pi.g();for(var a=0,c=this._w;a<c.length;a++){var b=c[a];this.pw.removeChild(b.B_()),b.Sd().M(this),b.g()}this._w=[],P(this.Nw).g(),null!==this.Jd.parentElement&&this.Jd.parentElement.removeChild(this.Jd),this.af.g(),this.Q_.g()},a.prototype.xw=function(a,b,c){if(void 0===c&&(c=!1),this.xu!==b||this.hh!==a){this.xu=b,this.hh=a;var d=b+"px",e=a+"px";P(this.Jd).style.height=d,P(this.Jd).style.width=e,this.pw.style.height=d,this.pw.style.width=e,c?this.Aw(new aI(3)):this.pi.Ce()}},a.prototype.R_=function(a){void 0===a&&(a=new aI(3));for(var b=0;b<this._w.length;b++)this._w[b].R_(a.wn(b).vn);this.zi.timeScale.visible&&this.Nw.R_(a.dn())},a.prototype.Pr=function(a){this.pi.Pr(a),this.Sw();var b=a.width||this.hh,c=a.height||this.xu;this.xw(b,c)},a.prototype.Sd=function(){return this.Q_},a.prototype.Df=function(){return this.af},a.prototype.Bw=function(){var d=this;null!==this.bw&&(this.Aw(this.bw),this.bw=null);var e=this._w[0],a=cl(document,new ci(this.hh,this.xu)),b=ck(a),c=cj(a);return au(b,c,function(){var a=0,c=0,i=function(i){for(var e=0;e<d._w.length;e++){var f=d._w[e],g=f.Ld().Ot,h=P("left"===i?f.Wd():f.zd()),j=h.Y_();b.drawImage(j,a,c,h.W_(),g),c+=g}};d.Lw()&&(i("left"),a=P(e.Wd()).W_()),c=0;for(var f=0;f<d._w.length;f++){var j=d._w[f],g=j.Ld(),h=j.Y_();b.drawImage(h,a,c,g.Ft,g.Ot),c+=g.Ot}a+=e.Ld().Ft,d.Ew()&&(c=0,i("right"));var k=function(g){var e=P("left"===g?d.Nw.nw():d.Nw.sw()),f=e.Ld(),h=e.Y_();b.drawImage(h,a,c,f.Ft,f.Ot)};if(d.zi.timeScale.visible){a=0,d.Lw()&&(k("left"),a=P(e.Wd()).W_());var l=d.Nw.Ld();h=d.Nw.Y_(),b.drawImage(h,a,c,l.Ft,l.Ot),d.Ew()&&(a+=e.Ld().Ft,k("right"),b.restore())}}),a},a.prototype.Fw=function(a){return"none"===a?0:("left"!==a||this.Lw())&&("right"!==a||this.Ew())?0===this._w.length?0:P("left"===a?this._w[0].Wd():this._w[0].zd()).W_():0},a.prototype.Ow=function(){for(var j=0,b=0,c=0,g=0,k=this._w;g<k.length;g++){var a=k[g];this.Lw()&&(b=Math.max(b,P(a.Wd()).O_())),this.Ew()&&(c=Math.max(c,P(a.zd()).O_())),j+=a.Wa()}var q=this.hh,l=this.xu,h=Math.max(q-b-c,0),e=this.zi.timeScale.visible,f=e?this.Nw.ew():0;f%2&&(f+=1);for(var m=0+f,n=l<m?0:l-m,r=n/j,o=0,d=0;d<this._w.length;++d){(a=this._w[d]).wd(this.pi.Cf()[d]);var i,p=0;p=d===this._w.length-1?n-o:Math.round(a.Wa()*r),o+=i=Math.max(p,2),a.P_(new ci(h,i)),this.Lw()&&a.Bd(b,"left"),this.Ew()&&a.Bd(c,"right"),a.z_()&&this.pi.Af(a.z_(),i)}this.Nw.rw(new ci(e?h:0,f),e?b:0,e?c:0),this.pi.Ra(h),this.ww!==b&&(this.ww=b),this.Mw!==c&&(this.Mw=c)},a.prototype.yw=function(a){var c=a.deltaX/100,b=-a.deltaY/100;if(0!==c&&this.zi.handleScroll.mouseWheel||0!==b&&this.zi.handleScale.mouseWheel){switch(a.cancelable&&a.preventDefault(),a.deltaMode){case a.DOM_DELTA_PAGE:c*=120,b*=120;break;case a.DOM_DELTA_LINE:c*=32,b*=32}if(0!==b&&this.zi.handleScale.mouseWheel){var d=Math.sign(b)*Math.min(1,Math.abs(b)),e=a.clientX-this.Jd.getBoundingClientRect().left;this.jt().Ef(e,d)}0!==c&&this.zi.handleScroll.mouseWheel&&this.jt().Ff(-80*c)}},a.prototype.Aw=function(a){var b,c=a.dn();3===c&&this.Vw(),3!==c&&2!==c||(this.Pw(a),this.Ww(a),this.Nw.vt(),this._w.forEach(function(a){a.bd()}),3===(null===(b=this.bw)|| void 0===b?void 0:b.dn())&&(this.bw.Nn(a),this.Vw(),this.Pw(this.bw),this.Ww(this.bw),a=this.bw,this.bw=null)),this.R_(a)},a.prototype.Ww=function(c){for(var a=0,b=c.kn();a<b.length;a++){var d=b[a];this.xn(d)}},a.prototype.Pw=function(c){for(var b=this.pi.Cf(),a=0;a<b.length;a++)c.wn(a)._n&&b[a].so()},a.prototype.xn=function(b){var a=this.pi.bt();switch(b.bn){case 0:a.zl();break;case 1:a.Rl(b.St);break;case 2:a.gn(b.St);break;case 3:a.yn(b.St);break;case 4:a.Tl()}},a.prototype.ff=function(a){var b=this;null!==this.bw?this.bw.Nn(a):this.bw=a,this.mw||(this.mw=!0,this.dw=window.requestAnimationFrame(function(){if(b.mw=!1,b.dw=0,null!==b.bw){var a=b.bw;b.bw=null,b.Aw(a)}}))},a.prototype.Vw=function(){this.Cw()},a.prototype.Cw=function(){for(var c=this.pi.Cf(),d=c.length,e=this._w.length,a=d;a<e;a++){var b=O(this._w.pop());this.pw.removeChild(b.B_()),b.Sd().M(this),b.g()}for(a=e;a<d;a++)(b=new cE(this,c[a])).Sd().u(this.zw.bind(this),this),this._w.push(b),this.pw.insertBefore(b.B_(),this.Nw.B_());for(a=0;a<d;a++){var f=c[a];(b=this._w[a]).z_()!==f?b.wd(f):b.dd()}this.Sw(),this.Ow()},a.prototype.Rw=function(b,e){var c,f=new Map;if(null!==b&&this.pi._t().forEach(function(a){var c=a.er(b);null!==c&&f.set(a,c)}),null!==b){var d=this.pi.bt().gi(b);null!==d&&(c=d)}var a=this.jt().gf(),g=null!==a&&a.kf instanceof bF?a.kf:void 0,h=null!==a&& void 0!==a.yd?a.yd.Zh:void 0;return{rt:c,Iw:e||void 0,jw:g,qw:f,Uw:h}},a.prototype.zw=function(a,b){var c=this;this.Q_.m(function(){return c.Rw(a,b)})},a.prototype.kw=function(a,b){var c=this;this.af.m(function(){return c.Rw(a,b)})},a.prototype.Sw=function(){var a=this.zi.timeScale.visible?"":"none";this.Nw.B_().style.display=a},a.prototype.Lw=function(){return this._w[0].z_().Ya().W().visible},a.prototype.Ew=function(){return this._w[0].z_().$a().W().visible},a}();function A(b,c,d){var a=d.value;return{vs:c,rt:b,St:[a,a,a,a]}}function B(d,e,a){var b=a.value,c={vs:e,rt:d,St:[b,b,b,b]};return"color"in a&& void 0!==a.color&&(c.A=a.color),c}function cJ(a){return void 0!==a.St}function b(a){return function(b,c,d){var e;return void 0===(e=d).open&& void 0===e.value?{rt:b,vs:c}:a(b,c,d)}}var cK={Candlestick:b(function(c,d,a){var b={vs:d,rt:c,St:[a.open,a.high,a.low,a.close]};return"color"in a&& void 0!==a.color&&(b.A=a.color),"borderColor"in a&& void 0!==a.borderColor&&(b.Tt=a.borderColor),"wickColor"in a&& void 0!==a.wickColor&&(b.qs=a.wickColor),b}),Bar:b(function(c,d,a){var b={vs:d,rt:c,St:[a.open,a.high,a.low,a.close]};return"color"in a&& void 0!==a.color&&(b.A=a.color),b}),Area:b(A),Baseline:b(A),Histogram:b(B),Line:b(B)};function cL(a){return cK[a]}function g(a){return 60*a*6e4}function m(a){return 60*a*1e3}var cM,cN,cO,cP=[{Hw:1e3,Po:10},{Hw:m(1),Po:20},{Hw:m(5),Po:21},{Hw:m(30),Po:22},{Hw:g(1),Po:30},{Hw:g(3),Po:31},{Hw:g(6),Po:32},{Hw:g(12),Po:33}];function cQ(b,c){if(b.getUTCFullYear()!==c.getUTCFullYear())return 70;if(b.getUTCMonth()!==c.getUTCMonth())return 60;if(b.getUTCDate()!==c.getUTCDate())return 50;for(var a=cP.length-1;a>=0;--a)if(Math.floor(c.getTime()/cP[a].Hw)!==Math.floor(b.getTime()/cP[a].Hw))return cP[a].Po;return 0}function cR(a,b){if(void 0===b&&(b=0),0!==a.length){for(var d=0===b?null:a[b-1].rt.So,e=null!==d?new Date(1e3*d):null,g=0,f=b;f<a.length;++f){var c=a[f],h=new Date(1e3*c.rt.So);null!==e&&(c.Vo=cQ(h,e)),g+=c.rt.So-(d||c.rt.So),d=c.rt.So,e=h}if(0===b&&a.length>1){var i=Math.ceil(g/(a.length-1)),j=new Date(1e3*(a[0].rt.So-i));a[0].Vo=cQ(new Date(1e3*a[0].rt.So),j)}}}function cS(a){if(!cg(a))throw Error("time must be of type BusinessDay");return{So:Math.round(new Date(Date.UTC(a.year,a.month-1,a.day,0,0,0,0)).getTime()/1e3),Co:a}}function cT(a){if(!ch(a))throw Error("time must be of type isUTCTimestamp");return{So:a}}function cU(a){return 0===a.length?null:cg(a[0].time)?cS:cT}function cV(a){return ch(a)?cT(a):cg(a)?cS(a):cS(cW(a))}function cW(b){var a=new Date(b);if(isNaN(a.getTime()))throw Error("Invalid date string=".concat(b,", expected format=yyyy-mm-dd"));return{day:a.getUTCDate(),month:a.getUTCMonth()+1,year:a.getUTCFullYear()}}function cX(a){af(a.time)&&(a.time=cW(a.time))}function cY(a){return{vs:0,Yw:new Map,Ve:a}}function cZ(a){if(void 0!==a&&0!==a.length)return{$w:a[0].rt.So,Kw:a[a.length-1].rt.So}}var c$=function(){function a(){this.Xw=new Map,this.Zw=new Map,this.Jw=new Map,this.Gw=[]}return a.prototype.g=function(){this.Xw.clear(),this.Zw.clear(),this.Jw.clear(),this.Gw=[]},a.prototype.Qw=function(a,b){var k=this,e=0!==this.Xw.size,c=!1,f=this.Zw.get(a);if(void 0!==f){if(1===this.Zw.size)e=!1,c=!0,this.Xw.clear();else for(var d=0,g=this.Gw;d<g.length;d++)g[d].pointData.Yw.delete(a)&&(c=!0)}var h=[];if(0!==b.length){!function(a){a.forEach(cX)}(b);var l=P(cU(b)),m=cL(a.Rr());h=b.map(function(e){var d=l(e.time),b=k.Xw.get(d.So);void 0===b&&(b=cY(d),k.Xw.set(d.So,b),c=!0);var f=m(d,b.vs,e);return b.Yw.set(a,f),f})}e&&this.tM(),this.iM(a,h);var i=-1;if(c){var j=[];this.Xw.forEach(function(a){j.push({Vo:0,rt:a.Ve,pointData:a})}),j.sort(function(a,b){return a.rt.So-b.rt.So}),i=this.nM(j)}return this.sM(a,i,function(c,d){var a=cZ(c),b=cZ(d);if(void 0!==a&& void 0!==b)return{Ae:a.Kw>=b.Kw&&a.$w>=b.$w}}(this.Zw.get(a),f))},a.prototype.Yf=function(a){return this.Qw(a,[])},a.prototype.hM=function(b,d){cX(d);var c=P(cU([d]))(d.time),g=this.Jw.get(b);if(void 0!==g&&c.So<g.So)throw Error("Cannot update oldest data, last time=".concat(g.So,", new time=").concat(c.So));var a=this.Xw.get(c.So),k=void 0===a;void 0===a&&(a=cY(c),this.Xw.set(c.So,a));var h=cL(b.Rr())(c,a.vs,d);a.Yw.set(b,h),this.rM(b,h);var i={Ae:cJ(h)};if(!k)return this.sM(b,-1,i);var j={Vo:0,rt:a.Ve,pointData:a},e=aO(this.Gw,j.rt.So,function(a,b){return a.rt.So<b});this.Gw.splice(e,0,j);for(var f=e;f<this.Gw.length;++f)c_(this.Gw[f].pointData,f);return cR(this.Gw,e),this.sM(b,e,i)},a.prototype.rM=function(c,b){var a=this.Zw.get(c);void 0===a&&(a=[],this.Zw.set(c,a));var d=0!==a.length?a[a.length-1]:null;null===d||b.rt.So>d.rt.So?cJ(b)&&a.push(b):cJ(b)?a[a.length-1]=b:a.splice(-1,1),this.Jw.set(c,b.rt)},a.prototype.iM=function(a,b){0!==b.length?(this.Zw.set(a,b.filter(cJ)),this.Jw.set(a,b[b.length-1].rt)):(this.Zw.delete(a),this.Jw.delete(a))},a.prototype.tM=function(){for(var a=0,b=this.Gw;a<b.length;a++){var c=b[a];0===c.pointData.Yw.size&&this.Xw.delete(c.rt.So)}},a.prototype.nM=function(b){for(var c=-1,a=0;a<this.Gw.length&&a<b.length;++a){var e=this.Gw[a],d=b[a];if(e.rt.So!==d.rt.So){c=a;break}d.Vo=e.Vo,c_(d.pointData,a)}if(-1===c&&this.Gw.length!==b.length&&(c=Math.min(this.Gw.length,b.length)),-1===c)return -1;for(a=c;a<b.length;++a)c_(b[a].pointData,a);return cR(b,c),this.Gw=b,c},a.prototype.eM=function(){if(0===this.Zw.size)return null;var a=0;return this.Zw.forEach(function(b){0!==b.length&&(a=Math.max(a,b[b.length-1].vs))}),a},a.prototype.sM=function(b,c,d){var a={uM:new Map,bt:{ml:this.eM()}};if(-1!==c)this.Zw.forEach(function(e,c){a.uM.set(c,{ph:e,aM:c===b?d:void 0})}),this.Zw.has(b)||a.uM.set(b,{ph:[],aM:d}),a.bt.oM=this.Gw,a.bt.lM=c;else{var e=this.Zw.get(b);a.uM.set(b,{ph:e||[],aM:d})}return a},a}();function c_(a,b){a.vs=b,a.Yw.forEach(function(a){a.vs=b})}var c0={color:"#FF0000",price:0,lineStyle:2,lineWidth:1,lineVisible:!0,axisLabelVisible:!0,title:""},c1=function(){function a(a){this.Lr=a}return a.prototype.applyOptions=function(a){this.Lr.Pr(a)},a.prototype.options=function(){return this.Lr.W()},a.prototype.fM=function(){return this.Lr},a}();function c2(a){var c=a.overlay,b=function(b,e){var d={};for(var a in b)Object.prototype.hasOwnProperty.call(b,a)&&0>e.indexOf(a)&&(d[a]=b[a]);if(null!=b&&"function"==typeof Object.getOwnPropertySymbols){var c=0;for(a=Object.getOwnPropertySymbols(b);c<a.length;c++)0>e.indexOf(a[c])&&Object.prototype.propertyIsEnumerable.call(b,a[c])&&(d[a[c]]=b[a[c]])}return d}(a,["overlay"]);return c&&(b.priceScaleId=""),b}var H=function(){function a(a,b,c){this.Kn=a,this.cM=b,this.vM=c}return a.prototype.priceFormatter=function(){return this.Kn.qe()},a.prototype.priceToCoordinate=function(b){var a=this.Kn.kt();return null===a?null:this.Kn.Ct().xt(b,a.St)},a.prototype.coordinateToPrice=function(b){var a=this.Kn.kt();return null===a?null:this.Kn.Ct().qi(b,a.St)},a.prototype.barsInLogicalRange=function(c){if(null===c)return null;var h=new b9(new b5(c.from,c.to)).jo(),d=this.Kn.an();if(d.wi())return null;var a=d.ne(h.In(),1),b=d.ne(h.jn(),-1),e=P(d.Qr()),f=P(d.un());if(null!==a&&null!==b&&a.vs>b.vs)return{barsBefore:c.from-e,barsAfter:f-c.to};var g={barsBefore:null===a||a.vs===e?c.from-e:a.vs-e,barsAfter:null===b||b.vs===f?f-c.to:f-b.vs};return null!==a&&null!==b&&(g.from=a.rt.Co||a.rt.So,g.to=b.rt.Co||b.rt.So),g},a.prototype.setData=function(a){this.Kn.Rr(),this.cM._M(this.Kn,a)},a.prototype.update=function(a){this.Kn.Rr(),this.cM.dM(this.Kn,a)},a.prototype.setMarkers=function(a){var b=a.map(function(a){return c(c({},a),{time:cV(a.time)})});this.Kn.Le(b)},a.prototype.applyOptions=function(a){var b=c2(a);this.Kn.Pr(b)},a.prototype.options=function(){return ah(this.Kn.W())},a.prototype.priceScale=function(){return this.vM.priceScale(this.Kn.Ct().Ke())},a.prototype.createPriceLine=function(a){var b=ac(ah(c0),a),c=this.Kn.Ee(b);return new c1(c)},a.prototype.removePriceLine=function(a){this.Kn.Fe(a.fM())},a.prototype.seriesType=function(){return this.Kn.Rr()},a}(),c3=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return _(a,b),a.prototype.applyOptions=function(a){cf(a),b.prototype.applyOptions.call(this,a)},a}(H),n={autoScale:!0,mode:0,invertScale:!1,alignLabels:!0,borderVisible:!0,borderColor:"#2B2B43",entireTextOnly:!1,visible:!1,drawTicks:!0,scaleMargins:{bottom:.1,top:.2}},c4={width:0,height:0,layout:{background:{type:"solid",color:"#FFFFFF"},textColor:"#191919",fontSize:11,fontFamily:o},crosshair:{vertLine:{color:"#758696",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#4c525e"},horzLine:{color:"#758696",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#4c525e"},mode:1},grid:{vertLines:{color:"#D6DCDE",style:0,visible:!0},horzLines:{color:"#D6DCDE",style:0,visible:!0}},overlayPriceScales:c({},n),leftPriceScale:c(c({},n),{visible:!1}),rightPriceScale:c(c({},n),{visible:!0}),timeScale:{rightOffset:0,barSpacing:6,minBarSpacing:.5,fixLeftEdge:!1,fixRightEdge:!1,lockVisibleTimeRangeOnResize:!1,rightBarStaysOnScroll:!1,borderVisible:!0,borderColor:"#2B2B43",visible:!0,timeVisible:!1,secondsVisible:!0,shiftVisibleRangeOnNewBar:!0},watermark:{color:"rgba(0, 0, 0, 0)",visible:!1,fontSize:48,fontFamily:o,fontStyle:"",text:"",horzAlign:"center",vertAlign:"center"},localization:{locale:G?navigator.language:"",dateFormat:"dd MMM 'yy"},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0},handleScale:{axisPressedMouseMove:{time:!0,price:!0},axisDoubleClickReset:!0,mouseWheel:!0,pinch:!0},kineticScroll:{mouse:!1,touch:!0},trackingMode:{exitMode:1}},c5={upColor:"#26a69a",downColor:"#ef5350",wickVisible:!0,borderVisible:!0,borderColor:"#378658",borderUpColor:"#26a69a",borderDownColor:"#ef5350",wickColor:"#737375",wickUpColor:"#26a69a",wickDownColor:"#ef5350"},c6={upColor:"#26a69a",downColor:"#ef5350",openVisible:!0,thinBars:!0},c7={color:"#2196f3",lineStyle:0,lineWidth:3,lineType:0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBackgroundColor:"",lastPriceAnimation:0},c8={topColor:"rgba( 46, 220, 135, 0.4)",bottomColor:"rgba( 40, 221, 100, 0)",lineColor:"#33D778",lineStyle:0,lineWidth:3,lineType:0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBackgroundColor:"",lastPriceAnimation:0},c9={baseValue:{type:"price",price:0},topFillColor1:"rgba(38, 166, 154, 0.28)",topFillColor2:"rgba(38, 166, 154, 0.05)",topLineColor:"rgba(38, 166, 154, 1)",bottomFillColor1:"rgba(239, 83, 80, 0.05)",bottomFillColor2:"rgba(239, 83, 80, 0.28)",bottomLineColor:"rgba(239, 83, 80, 1)",lineWidth:3,lineStyle:0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBackgroundColor:"",lastPriceAnimation:0},da={color:"#26a69a",base:0},db={title:"",visible:!0,lastValueVisible:!0,priceLineVisible:!0,priceLineSource:0,priceLineWidth:1,priceLineColor:"",priceLineStyle:2,baseLineVisible:!0,baseLineWidth:1,baseLineColor:"#B2B5BE",baseLineStyle:0,priceFormat:{type:"price",precision:2,minMove:.01}},dc=function(){function a(a,b){this.wM=a,this.MM=b}return a.prototype.applyOptions=function(a){this.wM.jt().Nf(this.MM,a)},a.prototype.options=function(){return this._i().W()},a.prototype.width=function(){return aH(this.MM)?this.wM.Fw("left"===this.MM?"left":"right"):0},a.prototype._i=function(){return P(this.wM.jt().xf(this.MM)).Ct},a}(),dd=function(){function a(a,b){this.bM=new ab,this.Go=new ab,this.Zd=new ab,this.pi=a,this.Da=a.bt(),this.Nw=b,this.Da.Ol().u(this.mM.bind(this)),this.Da.Vl().u(this.pM.bind(this)),this.Nw.hw().u(this.gM.bind(this))}return a.prototype.g=function(){this.Da.Ol().M(this),this.Da.Vl().M(this),this.Nw.hw().M(this),this.bM.g(),this.Go.g(),this.Zd.g()},a.prototype.scrollPosition=function(){return this.Da.Nl()},a.prototype.scrollToPosition=function(a,b){b?this.Da.Fl(a,1e3):this.pi.yn(a)},a.prototype.scrollToRealTime=function(){this.Da.El()},a.prototype.getVisibleRange=function(){var b,c,a=this.Da.cl();return null===a?null:{from:null!==(b=a.from.Co)&& void 0!==b?b:a.from.So,to:null!==(c=a.to.Co)&& void 0!==c?c:a.to.So}},a.prototype.setVisibleRange=function(a){var b={from:cV(a.from),to:cV(a.to)},c=this.Da.wl(b);this.pi.$f(c)},a.prototype.getVisibleLogicalRange=function(){var a=this.Da.fl();return null===a?null:{from:a.In(),to:a.jn()}},a.prototype.setVisibleLogicalRange=function(a){N(a.from<=a.to,"The from index cannot be after the to index."),this.pi.$f(a)},a.prototype.resetTimeScale=function(){this.pi.pn()},a.prototype.fitContent=function(){this.pi.zl()},a.prototype.logicalToCoordinate=function(b){var a=this.pi.bt();return a.wi()?null:a.At(b)},a.prototype.coordinateToLogical=function(a){return this.Da.wi()?null:this.Da.pl(a)},a.prototype.timeToCoordinate=function(b){var c=cV(b),a=this.Da.Ze(c,!1);return null===a?null:this.Da.At(a)},a.prototype.coordinateToTime=function(d){var a,c=this.pi.bt(),e=c.pl(d),b=c.gi(e);return null===b?null:null!==(a=b.Co)&& void 0!==a?a:b.So},a.prototype.width=function(){return this.Nw.Ld().Ft},a.prototype.height=function(){return this.Nw.Ld().Ot},a.prototype.subscribeVisibleTimeRangeChange=function(a){this.bM.u(a)},a.prototype.unsubscribeVisibleTimeRangeChange=function(a){this.bM._(a)},a.prototype.subscribeVisibleLogicalRangeChange=function(a){this.Go.u(a)},a.prototype.unsubscribeVisibleLogicalRangeChange=function(a){this.Go._(a)},a.prototype.subscribeSizeChange=function(a){this.Zd.u(a)},a.prototype.unsubscribeSizeChange=function(a){this.Zd._(a)},a.prototype.applyOptions=function(a){this.Da.Pr(a)},a.prototype.options=function(){return ah(this.Da.W())},a.prototype.mM=function(){this.bM.p()&&this.bM.m(this.getVisibleRange())},a.prototype.pM=function(){this.Go.p()&&this.Go.m(this.getVisibleLogicalRange())},a.prototype.gM=function(a){this.Zd.m(a.Ft,a.Ot)},a}();function de(b){if(void 0!==b&&"custom"!==b.type){var a=b;void 0!==a.minMove&& void 0===a.precision&&(a.precision=function(a){if(a>=1)return 0;for(var b=0;b<8;b++){var c=Math.round(a);if(1e-8>Math.abs(c-a))break;a*=10}return b}(a.minMove))}}function df(b){var a;return function(a){if(ag(a.handleScale)){var b=a.handleScale;a.handleScale={axisDoubleClickReset:b,axisPressedMouseMove:{time:b,price:b},mouseWheel:b,pinch:b}}else if(void 0!==a.handleScale&&ag(a.handleScale.axisPressedMouseMove)){var d=a.handleScale.axisPressedMouseMove;a.handleScale.axisPressedMouseMove={time:d,price:d}}var c=a.handleScroll;ag(c)&&(a.handleScroll={horzTouchDrag:c,vertTouchDrag:c,mouseWheel:c,pressedMouseMove:c})}(b),function(a){if(a.priceScale){a.leftPriceScale=a.leftPriceScale||{},a.rightPriceScale=a.rightPriceScale||{};var b=a.priceScale.position;delete a.priceScale.position,a.leftPriceScale=ac(a.leftPriceScale,a.priceScale),a.rightPriceScale=ac(a.rightPriceScale,a.priceScale),"left"===b&&(a.leftPriceScale.visible=!0,a.rightPriceScale.visible=!1),"right"===b&&(a.leftPriceScale.visible=!1,a.rightPriceScale.visible=!0),"none"===b&&(a.leftPriceScale.visible=!1,a.rightPriceScale.visible=!1),a.overlayPriceScales=a.overlayPriceScales||{},void 0!==a.priceScale.invertScale&&(a.overlayPriceScales.invertScale=a.priceScale.invertScale),void 0!==a.priceScale.scaleMargins&&(a.overlayPriceScales.scaleMargins=a.priceScale.scaleMargins)}}(b),(a=b).layout&&a.layout.backgroundColor&&!a.layout.background&&(a.layout.background={type:"solid",color:a.layout.backgroundColor}),b}var dg=function(){function a(b,a){var e=this;this.yM=new c$,this.kM=new Map,this.NM=new Map,this.xM=new ab,this.CM=new ab;var c=void 0===a?ah(c4):ac(ah(c4),df(a));this.wM=new cI(b,c),this.wM.Sd().u(function(a){e.xM.p()&&e.xM.m(e.SM(a()))},this),this.wM.Df().u(function(a){e.CM.p()&&e.CM.m(e.SM(a()))},this);var d=this.wM.jt();this.TM=new dd(d,this.wM.Dw())}return a.prototype.remove=function(){this.wM.Sd().M(this),this.wM.Df().M(this),this.TM.g(),this.wM.g(),this.kM.clear(),this.NM.clear(),this.xM.g(),this.CM.g(),this.yM.g()},a.prototype.resize=function(a,b,c){this.wM.xw(a,b,c)},a.prototype.addAreaSeries=function(a){void 0===a&&(a={}),de((a=c2(a)).priceFormat);var d=ac(ah(db),c8,a),b=this.wM.jt().Uf("Area",d),c=new H(b,this,this);return this.kM.set(c,b),this.NM.set(b,c),c},a.prototype.addBaselineSeries=function(a){void 0===a&&(a={}),de((a=c2(a)).priceFormat);var d=ac(ah(db),ah(c9),a),b=this.wM.jt().Uf("Baseline",d),c=new H(b,this,this);return this.kM.set(c,b),this.NM.set(b,c),c},a.prototype.addBarSeries=function(a){void 0===a&&(a={}),de((a=c2(a)).priceFormat);var d=ac(ah(db),c6,a),b=this.wM.jt().Uf("Bar",d),c=new H(b,this,this);return this.kM.set(c,b),this.NM.set(b,c),c},a.prototype.addCandlestickSeries=function(a){void 0===a&&(a={}),cf(a=c2(a)),de(a.priceFormat);var d=ac(ah(db),c5,a),b=this.wM.jt().Uf("Candlestick",d),c=new c3(b,this,this);return this.kM.set(c,b),this.NM.set(b,c),c},a.prototype.addHistogramSeries=function(a){void 0===a&&(a={}),de((a=c2(a)).priceFormat);var d=ac(ah(db),da,a),b=this.wM.jt().Uf("Histogram",d),c=new H(b,this,this);return this.kM.set(c,b),this.NM.set(b,c),c},a.prototype.addLineSeries=function(a){void 0===a&&(a={}),de((a=c2(a)).priceFormat);var d=ac(ah(db),c7,a),b=this.wM.jt().Uf("Line",d),c=new H(b,this,this);return this.kM.set(c,b),this.NM.set(b,c),c},a.prototype.removeSeries=function(b){var a=O(this.kM.get(b)),c=this.yM.Yf(a);this.wM.jt().Yf(a),this.DM(c),this.kM.delete(b),this.NM.delete(a)},a.prototype._M=function(a,b){this.DM(this.yM.Qw(a,b))},a.prototype.dM=function(a,b){this.DM(this.yM.hM(a,b))},a.prototype.subscribeClick=function(a){this.xM.u(a)},a.prototype.unsubscribeClick=function(a){this.xM._(a)},a.prototype.subscribeCrosshairMove=function(a){this.CM.u(a)},a.prototype.unsubscribeCrosshairMove=function(a){this.CM._(a)},a.prototype.priceScale=function(a){return void 0===a&&(a=this.wM.jt().Kf()),new dc(this.wM,a)},a.prototype.timeScale=function(){return this.TM},a.prototype.applyOptions=function(a){this.wM.Pr(df(a))},a.prototype.options=function(){return this.wM.W()},a.prototype.takeScreenshot=function(){return this.wM.Bw()},a.prototype.DM=function(a){var b=this.wM.jt();b.jf(a.bt.ml,a.bt.oM,a.bt.lM),a.uM.forEach(function(a,b){return b.Z(a.ph,a.aM)}),b.yl()},a.prototype.AM=function(a){return O(this.NM.get(a))},a.prototype.SM=function(a){var d=this,b=new Map;a.qw.forEach(function(a,c){b.set(d.AM(c),a)});var c=void 0===a.jw?void 0:this.AM(a.jw);return{time:a.rt&&(a.rt.Co||a.rt.So),point:a.Iw,hoveredSeries:c,hoveredMarkerId:a.Uw,seriesPrices:b}},a}();function dh(a,d){var b;if(af(a)){var c=document.getElementById(a);N(null!==c,"Cannot find element in DOM with id=".concat(a)),b=c}else b=a;return new dg(b,d)}}}])
//# sourceMappingURL=3136.5917094b427826d5.js.map