(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9700],{47889:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/voting/proposal/[id]",function(){return c(95304)}])},38971:function(e,b,a){"use strict";a.d(b,{Z:function(){return m}});var f=a(85893);a(67294);var g=a(56400),h=a(7297),c=a(87379);function d(){var a=(0,h.Z)(["\n  display: flex;\n  z-index: 2;\n  top: -65%;\n  position: absolute;\n  transform: translate(-50%, -50%);\n  transition: left 200ms ease-out;\n"]);return d=function(){return a},a}var i=c.ZP.div.withConfig({componentId:"sc-ee5a4790-0"}).withConfig({componentId:"sc-3f8a3083-0"})(d()),j=a(39513),k=a(24551),l=function(a){return a<0?0:a>100?100:a},m=function(a){var c=a.variant,q=void 0===c?k.o.ROUND:c,d=a.scale,r=void 0===d?k.Q.MD:d,e=a.primaryStep,h=void 0===e?0:e,m=a.secondaryStep,n=void 0===m?null:m,o=a.showProgressBunny,p=a.useDark,b=void 0===p||p,s=a.children;return(0,f.jsx)(g.Z,{$useDark:b,variant:q,scale:r,children:s||(0,f.jsxs)(f.Fragment,{children:[void 0!==o&&o&&(0,f.jsx)(i,{style:{left:"".concat(l(h),"%")},children:(0,f.jsx)(j.Z,{})}),(0,f.jsx)(g.$,{$useDark:b,primary:!0,style:{width:"".concat(l(h),"%")}}),n?(0,f.jsx)(g.$,{$useDark:b,style:{width:"".concat(l(n),"%")}}):null]})})}},56400:function(n,i,a){"use strict";a.d(i,{"$":function(){return h},Z:function(){return q}});var b,c,o=a(7297),g=a(87379),f=a(57247),p=a(2095),d=a(14924),e=a(24551),j=(b={},(0,d.Z)(b,e.o.ROUND,{borderRadius:"32px"}),(0,d.Z)(b,e.o.FLAT,{borderRadius:0}),b),k=(c={},(0,d.Z)(c,e.Q.MD,{height:"16px"}),(0,d.Z)(c,e.Q.SM,{height:"8px"}),c);function l(){var a=(0,o.Z)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  background: ",";\n  height: 100%;\n  transition: width 200ms ease;\n"]);return l=function(){return a},a}function m(){var a=(0,o.Z)(["\n  position: relative;\n  background-color: ",";\n  box-shadow: ",";\n  overflow: hidden;\n\n  "," {\n    border-top-left-radius: ",";\n    border-bottom-left-radius: ",";\n  }\n\n  ","\n  ","\n  ","\n"]);return m=function(){return a},a}var h=g.ZP.div.withConfig({componentId:"sc-ceab3401-0"}).withConfig({componentId:"sc-11505b10-0"})(l(),function(a){var b=a.theme,d=a.$useDark,c=a.primary,e=a.$background;return e||(d?c?b.colors.secondary:"".concat(b.colors.secondary,"80"):c?p.C0.secondary:"".concat(p.C0.secondary,"80"))});h.defaultProps={primary:!1};var q=g.ZP.div.withConfig({componentId:"sc-ceab3401-1"}).withConfig({componentId:"sc-11505b10-1"})(m(),function(a){var b=a.theme,c=a.$useDark;return c?b.colors.input:p.C0.input},function(a){return a.theme.shadows.inset},h,function(a){return a.variant===e.o.FLAT?"0":"32px"},function(a){return a.variant===e.o.FLAT?"0":"32px"},(0,f.bU)({variants:j}),(0,f.bU)({prop:"scale",variants:k}),f.Dh)},24551:function(c,a,b){"use strict";b.d(a,{Q:function(){return e},o:function(){return d}});var d={ROUND:"round",FLAT:"flat"},e={MD:"md",SM:"sm"}},40447:function(c,b,a){"use strict";var d=a(26042),e=a(69396),f=a(85893);a(67294);var g=a(17058);b.Z=function(a){return(0,f.jsx)(g.Z,(0,e.Z)((0,d.Z)({viewBox:"0 0 24 24"},a),{children:(0,f.jsx)("path",{d:"M8.11997 14.7101L12 10.8301L15.88 14.7101C16.27 15.1001 16.9 15.1001 17.29 14.7101C17.68 14.3201 17.68 13.6901 17.29 13.3001L12.7 8.7101C12.31 8.3201 11.68 8.3201 11.29 8.7101L6.69997 13.3001C6.30997 13.6901 6.30997 14.3201 6.69997 14.7101C7.08997 15.0901 7.72997 15.1001 8.11997 14.7101Z"})}))}},39513:function(c,b,a){"use strict";var d=a(26042),e=a(69396),f=a(85893);a(67294);var g=a(17058);b.Z=function(a){return(0,f.jsxs)(g.Z,(0,e.Z)((0,d.Z)({viewBox:"0 0 34 38"},a),{children:[(0,f.jsx)("rect",{x:"8.83594",width:"5.30132",height:"17.3191",rx:"2.65066",fill:"#D1884F"}),(0,f.jsx)("rect",{x:"19.4385",width:"5.30132",height:"17.3191",rx:"2.65066",fill:"#D1884F"}),(0,f.jsx)("path",{d:"M8.5 13.0084C13.1944 8.40751 20.8056 8.40751 25.5 13.0084C30.1944 17.6093 30.1944 25.0689 25.5 29.6698L17.6538 37.3597C17.2927 37.7136 16.7073 37.7136 16.3462 37.3597L8.5 29.6698C3.80558 25.0689 3.80558 17.6093 8.5 13.0084Z",fill:"#D1884F"}),(0,f.jsx)("ellipse",{cx:"12.3696",cy:"19.9172",rx:"1.76711",ry:"2.59786",fill:"white"}),(0,f.jsx)("ellipse",{cx:"21.2056",cy:"19.9172",rx:"1.76711",ry:"2.59786",fill:"white"})]}))}},36196:function(f,b,a){"use strict";var g=a(7297),h=a(85893),c=a(87379),i=a(63603),d=a(83559);function e(){var a=(0,g.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return e=function(){return a},a}var j=(0,c.ZP)(d.Z).withConfig({componentId:"sc-fb23314c-0"})(e());b.Z=function(){return(0,h.jsx)(j,{children:(0,h.jsx)(i.Z,{})})}},95304:function(z,d,a){"use strict";a.r(d),a.d(d,{"__N_SSG":function(){return a1},default:function(){return a2}});var e,A=a(85893),B=a(8100),C=a(47568),g=a(34051),D=a.n(g),c=a(7180),E=a(96293),F=a(69508),h=a(4318),G=a(59750),H=a(83559),I=a(65992),J=a(77044),K=a(49770),L=a(45101),i=a(41664),M=a.n(i),N=a(11163),O=a(99150),P=a(55027),Q=a(71249),R=a(72006),S=a(36196),T=a(97971),U=a(97305),V=a(37121),W=a(73408),X=a(7297),Y=a(38144),Z=a(87654),$=a(23774),j=a(97114),_=a(10566),b=a(87379),aa=a(42298),ab=a(93293),ac=a(53467),ad=a(65398);function k(){var a=(0,X.Z)(["\n  background-color: ",";\n  border: 1px solid ",";\n  border-radius: 16px;\n"]);return k=function(){return a},a}var ae=(0,b.ZP)(c.Z).withConfig({componentId:"sc-3dbc3d72-0"})(k(),function(a){return a.theme.colors.background},function(a){return a.theme.colors.cardBorder}),af=function(c){var a=c.proposal,b=(0,O.$G)().t,d=new Date(1e3*a.start),e=new Date(1e3*a.end);return(0,A.jsxs)(Y.Z,{mb:"16px",children:[(0,A.jsx)(Z.Z,{children:(0,A.jsx)(G.Z,{as:"h3",scale:"md",children:b("Details")})}),(0,A.jsxs)($.Z,{children:[(0,A.jsxs)(h.Z,{alignItems:"center",mb:"8px",children:[(0,A.jsx)(j.Z,{color:"textSubtle",children:b("Identifier")}),(0,A.jsx)(_.Z,{href:"".concat(ad.Gs,"/").concat(a.id),ml:"8px",children:a.id.slice(0,8)})]}),(0,A.jsxs)(h.Z,{alignItems:"center",mb:"8px",children:[(0,A.jsx)(j.Z,{color:"textSubtle",children:b("Creator")}),(0,A.jsx)(_.Z,{href:(0,ab.Ms)(a.author,"address"),ml:"8px",children:(0,ac.Z)(a.author)})]}),(0,A.jsxs)(h.Z,{alignItems:"center",mb:"16px",children:[(0,A.jsx)(j.Z,{color:"textSubtle",children:b("Snapshot")}),(0,A.jsx)(_.Z,{href:(0,ab.Ms)(a.snapshot,"block"),ml:"8px",children:a.snapshot})]}),(0,A.jsxs)(ae,{p:"16px",children:[(0,A.jsx)(V.U,{proposalState:a.state,mb:"8px"}),(0,A.jsxs)(h.Z,{alignItems:"center",children:[(0,A.jsx)(j.Z,{color:"textSubtle",fontSize:"14px",children:b("Start Date")}),(0,A.jsx)(j.Z,{ml:"8px",children:(0,aa.default)(d,"yyyy-MM-dd HH:mm")})]}),(0,A.jsxs)(h.Z,{alignItems:"center",children:[(0,A.jsx)(j.Z,{color:"textSubtle",fontSize:"14px",children:b("End Date")}),(0,A.jsx)(j.Z,{ml:"8px",children:(0,aa.default)(e,"yyyy-MM-dd HH:mm")})]})]})]})]})},ag=a(24930),ah=a(60260),ai=a(38971),l=a(84091),aj=a(65044);function m(){var a=(0,X.Z)(["\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n"]);return m=function(){return a},a}var f,ak=(0,b.ZP)(j.Z).withConfig({componentId:"sc-4800b4e3-0"})(m()),al=function(a){var b=a.choices,d=a.votes,e=a.votesLoadingStatus,f=(0,O.$G)().t,g=(0,U.zn)(d),i=(0,J.Ge)().account,k=(0,U.Z$)(d);return(0,A.jsxs)(Y.Z,{children:[(0,A.jsx)(Z.Z,{children:(0,A.jsx)(G.Z,{as:"h3",scale:"md",children:f("Current Results")})}),(0,A.jsxs)($.Z,{children:[e===T.iF.Fetched&&b.map(function(a,l){var b=g[a]||[],d=(0,U.Z$)(b),e=0===k?0:d/k*100,m=b.some(function(a){return i&&a.voter.toLowerCase()===i.toLowerCase()});return(0,A.jsxs)(c.Z,{mt:l>0?"24px":"0px",children:[(0,A.jsxs)(h.Z,{alignItems:"center",mb:"8px",children:[(0,A.jsx)(ak,{mb:"4px",title:a,children:a}),m&&(0,A.jsxs)(ag.Z,{variant:"success",outline:!0,ml:"8px",children:[(0,A.jsx)(ah.Z,{mr:"4px"})," ",f("Voted")]})]}),(0,A.jsx)(c.Z,{mb:"4px",children:(0,A.jsx)(ai.Z,{primaryStep:e,scale:"sm"})}),(0,A.jsxs)(h.Z,{alignItems:"center",justifyContent:"space-between",children:[(0,A.jsx)(j.Z,{color:"textSubtle",children:f("%total% Votes",{total:(0,aj.uf)(d,0,2)})}),(0,A.jsxs)(j.Z,{children:[e.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),"%"]})]})]},a)}),e===T.iF.Fetching&&b.map(function(a,b){return(0,A.jsxs)(c.Z,{mt:b>0?"24px":"0px",children:[(0,A.jsx)(h.Z,{alignItems:"center",mb:"8px",children:(0,A.jsx)(ak,{mb:"4px",title:a,children:a})}),(0,A.jsx)(c.Z,{mb:"4px",children:(0,A.jsx)(l.Z,{height:"36px",mb:"4px"})})]},a)})]})]})},am=a(26042),an=a(69396),ao=a(99534),ap=a(10253),aq=a(67294),ar=a(65528),as=a(17883),at=a(789),au=a(30621),av=a(14924),aw=a(90452),ax=a(81141),ay=a(23917);(f=e||(e={})).MAIN="main",f.DETAILS="details";var n=a(44431),az=a.n(n),aA=a(67334),aB=a(42846),aC=a(5527),aD=a(94528),aE=a(19729),aF=a(7694),aG=a(90767),aH=function(a){var e=a.vote,c=a.total,f=a.isPending,g=a.isLoading,i=a.isError,n=a.onConfirm,o=a.onViewDetails,p=a.onDismiss,q=a.disabled,r=a.lockedCakeBalance,s=a.lockedEndTime,b=(0,O.$G)().t,t=(0,aF.Z)(),k=r>0,d=(0,aq.useMemo)(function(){return 0!==s&&new(az())(null==t?void 0:t.toString()).gte(s)},[t,s]),m=k&&!d;return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)(aG.IM,{children:[(0,A.jsx)(j.Z,{color:"secondary",mb:"8px",textTransform:"uppercase",fontSize:"12px",bold:!0,children:b("Voting For")}),(0,A.jsx)(ak,{bold:!0,fontSize:"20px",mb:"8px",title:e.label,children:e.label}),(0,A.jsx)(j.Z,{color:"secondary",mb:"8px",textTransform:"uppercase",fontSize:"12px",bold:!0,children:b("Your Voting Power")}),g&&!i?(0,A.jsx)(l.Z,{height:"64px",mb:"12px"}):i?(0,A.jsx)(aA.Z,{variant:"danger",mb:"12px",children:(0,A.jsx)(j.Z,{color:"text",children:b("Error occurred, please try again later")})}):(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(aG.jb,{hasBoosted:m,onClick:o,style:{cursor:"pointer"},children:(0,A.jsxs)(aG.K7,{hasBoosted:m,children:[(0,A.jsxs)(h.Z,{flexDirection:"column",children:[(0,A.jsx)(j.Z,{bold:!0,fontSize:"20px",color:0===c?"failure":"text",children:(0,aj.uf)(c,0,3)}),k&&(0,A.jsxs)(h.Z,{children:[(0,A.jsx)(aB.Z,{color:d?"warning":"secondary",width:"15px",height:"15px"}),(0,A.jsx)(j.Z,{ml:"4px",bold:!0,color:d?"warning":"secondary",fontSize:"14px",children:b(d?"Boosting Expired":"Boosted by vCAKE")})]})]}),(0,A.jsx)(aC.Z,{scale:"sm",variant:"text",children:(0,A.jsx)(aD.Z,{width:"24px"})})]})}),0===c?(0,A.jsx)(aA.Z,{variant:"danger",mb:"12px",children:(0,A.jsx)(j.Z,{color:"danger",children:b("Hold some CAKE in your wallet or on BegoSwap at the snapshot block to get voting power for future proposals.")})}):(0,A.jsx)(j.Z,{as:"p",color:"textSubtle",fontSize:"14px",children:b("Are you sure you want to vote for the above choice? This action cannot be undone.")})]})]}),(0,A.jsx)(E.Z,{isLoading:f,endIcon:f?(0,A.jsx)(aE.Z,{spin:!0,color:"currentColor"}):null,disabled:q||g||0===c,width:"100%",mb:"8px",onClick:n,children:b("Confirm Vote")}),(0,A.jsx)(E.Z,{variant:"secondary",width:"100%",onClick:p,children:b("Cancel")})]})},aI=a(6365),aJ=a(4411),aK=function(b){var d,p,M=b.onSuccess,N=b.proposalId,q=b.vote,g=b.block,r=b.onDismiss,h=(0,aq.useState)(e.MAIN),f=h[0],P=h[1],i=(0,aq.useState)(!0),s=i[0],Q=i[1],j=(0,aq.useState)(!1),t=j[0],R=j[1],S=(0,J.Ge)().account,k=(0,O.$G)().t,T=(0,ax.QW)().signMessageAsync,V=(0,at.Z)().toastError,u=(0,ay.ZP)().theme,a=(0,aJ.Z)(g,s),v=a.isLoading,w=a.isError,l=a.total,x=a.cakeBalance,y=a.cakeVaultBalance,z=a.cakePoolBalance,B=a.poolsBalance,E=a.cakeBnbLpBalance,F=a.ifoPoolBalance,m=a.lockedCakeBalance,n=a.lockedEndTime,o=f===e.MAIN,G=o?null:function(){return P(e.MAIN)},H=(d={},(0,av.Z)(d,e.MAIN,k("Confirm Vote")),(0,av.Z)(d,e.DETAILS,k("Voting Power")),d),I=function(){Q(!1),r()},K=(p=(0,C.Z)(D().mark(function a(){var b,c,d,e,f;return D().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,R(!0),b=JSON.stringify((0,an.Z)((0,am.Z)({},(0,U.GB)()),{type:L.Nl.VOTE,payload:{proposal:N,choice:q.value}})),a.next=5,T({message:b});case 5:return d={address:S,msg:b,sig:c=a.sent},a.next=9,(0,U.Jl)(d);case 9:return a.next=11,M();case 11:I(),a.next=20;break;case 14:a.prev=14,a.t0=a.catch(0),V(k("Error"),null!==(f=null===(e=a.t0)|| void 0===e?void 0:e.message)&& void 0!==f?f:k("Error occurred, please try again")),console.error(a.t0);case 20:return a.prev=20,R(!1),a.finish(20);case 23:case"end":return a.stop()}},a,null,[[0,14,20,23]])})),function(){return p.apply(this,arguments)});return(0,A.jsx)(aw.Z,{title:H[f],onBack:G,onDismiss:r,hideCloseButton:!o,headerBackground:u.colors.gradients.cardHeader,children:(0,A.jsxs)(c.Z,{mb:"24px",children:[f===e.MAIN&&(0,A.jsx)(aH,{vote:q,isError:w,isLoading:v,isPending:t,total:l,lockedCakeBalance:m,lockedEndTime:n,onConfirm:K,onViewDetails:function(){return P(e.DETAILS)},onDismiss:I}),f===e.DETAILS&&(0,A.jsx)(aI.Z,{total:l,cakeBalance:x,ifoPoolBalance:F,cakeVaultBalance:y,cakePoolBalance:z,poolsBalance:B,cakeBnbLpBalance:E,block:g,lockedCakeBalance:m,lockedEndTime:n})]})})};function o(){var a=(0,X.Z)(["\n  align-items: center;\n  border: 1px solid ",";\n  border-radius: 16px;\n  cursor: ",";\n  display: flex;\n  margin-bottom: 16px;\n  padding: 16px;\n"]);return o=function(){return a},a}function p(){var a=(0,X.Z)(["\n  flex: 1;\n  padding-left: 16px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  width: 0;\n"]);return p=function(){return a},a}var aL=b.ZP.label.withConfig({componentId:"sc-af7be368-0"})(o(),function(a){var b=a.theme,c=a.isChecked;return b.colors[c?"success":"cardBorder"]},function(a){return a.isDisabled?"not-allowed":"pointer"}),aM=b.ZP.div.withConfig({componentId:"sc-af7be368-1"})(p()),aN=function(a){var f,b=a.proposal,l=a.onSuccess,g=(0,ao.Z)(a,["proposal","onSuccess"]),c=(0,aq.useState)(null),d=c[0],m=c[1],e=(0,O.$G)().t,n=(0,at.Z)().toastSuccess,h=(0,J.Ge)().account,i=(f=(0,C.Z)(D().mark(function a(){return D().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:n(e("Vote cast!")),l&&l();case 2:case"end":return a.stop()}},a)})),function(){return f.apply(this,arguments)}),k=(0,ap.Z)((0,ar.Z)((0,A.jsx)(aK,{onSuccess:i,proposalId:b.id,vote:d,block:Number(b.snapshot)})),1)[0];return(0,A.jsxs)(Y.Z,(0,an.Z)((0,am.Z)({},g),{children:[(0,A.jsx)(Z.Z,{children:(0,A.jsx)(G.Z,{as:"h3",scale:"md",children:e("Cast your vote")})}),(0,A.jsxs)($.Z,{children:[b.choices.map(function(a,c){var b=c+1===(null==d?void 0:d.value);return(0,A.jsxs)(aL,{isChecked:b,isDisabled:!h,children:[(0,A.jsx)("div",{style:{flexShrink:0},children:(0,A.jsx)(as.Z,{scale:"sm",value:a,checked:b,onChange:function(){m({label:a,value:c+1})},disabled:!h})}),(0,A.jsx)(aM,{children:(0,A.jsx)(j.Z,{as:"span",title:a,children:a})})]},a)}),h?(0,A.jsx)(E.Z,{onClick:k,disabled:null===d,children:e("Cast Vote")}):(0,A.jsx)(au.Z,{})]})]}))},aO=a(40447),aP=a(6260),q=a(75472),aQ=a.n(q),r=a(98913),aR=a.n(r);function s(){var a=(0,X.Z)(["\n  border-bottom: 1px solid ",";\n  padding: 16px 24px;\n"]);return s=function(){return a},a}function t(){var a=(0,X.Z)(["\n  flex: 1;\n"]);return t=function(){return a},a}var aS=(0,b.ZP)(h.Z).withConfig({componentId:"sc-9d776708-0"})(s(),function(a){return a.theme.colors.cardBorder}),aT=(0,b.ZP)(l.Z).withConfig({componentId:"sc-9d776708-1"})(t()),aU=function(){return(0,A.jsx)(c.Z,{children:aR()(10).map(function(a){return(0,A.jsxs)(aS,{children:[(0,A.jsx)(l.Z,{height:"21px",mr:"32px",width:"100px"}),(0,A.jsx)(aT,{height:"21px",mr:"32px",width:"100%"}),(0,A.jsx)(aT,{height:"21px",width:"100%"})]},a)})})},u=a(26170);function v(){var a=(0,X.Z)(["\n  grid-area: address;\n"]);return v=function(){return a},a}function w(){var a=(0,X.Z)(["\n  grid-area: choice;\n  overflow: hidden;\n"]);return w=function(){return a},a}function x(){var a=(0,X.Z)(["\n  justify-self: end;\n  grid-area: vote;\n"]);return x=function(){return a},a}function y(){var a=(0,X.Z)(["\n  border-bottom: 1px solid ",";\n  grid-gap: 8px;\n  grid-template-areas:\n    'address address address'\n    'choice choice vote';\n  grid-template-columns: 1fr 1fr 120px;\n  padding: 8px 16px;\n\n  "," {\n    grid-gap: 16px;\n    grid-template-areas: 'address choice vote';\n    padding: 16px 24px;\n  }\n"]);return y=function(){return a},a}var aV=(0,b.ZP)(c.Z).attrs({alignItems:"center"}).withConfig({componentId:"sc-47cb74c7-0"})(v()),aW=(0,b.ZP)(c.Z).withConfig({componentId:"sc-47cb74c7-1"})(w()),aX=(0,b.ZP)(c.Z).withConfig({componentId:"sc-47cb74c7-2"})(x()),aY=(0,b.ZP)(u.Z).withConfig({componentId:"sc-47cb74c7-3"})(y(),function(a){return a.theme.colors.cardBorder},function(a){return a.theme.mediaQueries.sm}),aZ=function(c){var b,a=c.vote,e=c.isVoter,f=(0,O.$G)().t,d=!!(null===(b=a.metadata)|| void 0===b?void 0:b.votingPower),g=d?parseFloat(a.metadata.votingPower).toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:3}):"--";return(0,A.jsxs)(aY,{children:[(0,A.jsx)(aV,{children:(0,A.jsxs)(h.Z,{alignItems:"center",children:[(0,A.jsx)(_.Z,{href:(0,ab.Ms)(a.voter,"address"),children:(0,ac.Z)(a.voter)}),e&&(0,A.jsxs)(ag.Z,{variant:"success",outline:!0,ml:"8px",children:[(0,A.jsx)(ah.Z,{mr:"4px"})," ",f("Voted")]})]})}),(0,A.jsx)(aW,{children:(0,A.jsx)(ak,{title:a.proposal.choices[a.choice-1],children:a.proposal.choices[a.choice-1]})}),(0,A.jsx)(aX,{children:(0,A.jsxs)(h.Z,{alignItems:"center",justifyContent:"end",children:[(0,A.jsx)(j.Z,{title:a.metadata.votingPower,children:g}),d&&(0,A.jsx)(_.Z,{href:"".concat(ad.Gs,"/").concat(a.id)})]})})]})},a$=function(c){var a,b=parseFloat(null==c?void 0:null===(a=c.metadata)|| void 0===a?void 0:a.votingPower);return b||(b=0),b},a_=function(b){var j=b.votes,k=b.votesLoadingStatus,f=b.totalVotes,g=(0,aq.useState)(!1),c=g[0],l=g[1],d=(0,O.$G)().t,m=(0,J.Ge)().account,i=aQ()(j,[a$,"created"],["desc","desc"]),e=c?i:i.slice(0,20),a=k===T.iF.Fetched;return(0,A.jsxs)(Y.Z,{children:[(0,A.jsx)(Z.Z,{children:(0,A.jsxs)(h.Z,{alignItems:"center",justifyContent:"space-between",children:[(0,A.jsx)(G.Z,{as:"h3",scale:"md",children:d("Votes (%count%)",{count:f?f.toLocaleString():"-"})}),!a&&(0,A.jsx)(aE.Z,{spin:!0,width:"22px"})]})}),!a&&(0,A.jsx)(aU,{}),a&&e.length>0&&(0,A.jsxs)(A.Fragment,{children:[e.map(function(a){var b=m&&a.voter.toLowerCase()===m.toLowerCase();return(0,A.jsx)(aZ,{vote:a,isVoter:b},a.id)}),(0,A.jsx)(h.Z,{alignItems:"center",justifyContent:"center",py:"8px",px:"24px",children:(0,A.jsx)(E.Z,{width:"100%",onClick:function(){l(!c)},variant:"text",endIcon:c?(0,A.jsx)(aO.Z,{color:"primary",width:"21px"}):(0,A.jsx)(aP.Z,{color:"primary",width:"21px"}),disabled:!a,children:d(c?"Hide":"See All")})})]}),a&&0===e.length&&(0,A.jsx)(h.Z,{alignItems:"center",justifyContent:"center",py:"32px",children:(0,A.jsx)(G.Z,{as:"h5",children:d("No votes found")})})]})},a0=function(){var d,i=(0,N.useRouter)(),k=i.query,l=i.isFallback,j=k.id,m=(0,O.$G)().t,n=(0,J.Ge)().account,e=(0,K.Z)(j?["proposal",j]:null,function(){return(0,I.pU)(j)}),o=e.status,a=e.data,p=e.error,f=(0,K.Z)(a?["proposal",a,"votes"]:null,(0,C.Z)(D().mark(function b(){return D().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.abrupt("return",(0,I.uy)(a));case 1:case"end":return b.stop()}},b)}))),g=f.status,b=f.data,q=f.mutate,r=n&&b&&b.some(function(a){return a.voter.toLowerCase()===n.toLowerCase()}),s=g===T.iF.Fetching||o===T.iF.Fetching;return!a&&p?(0,A.jsx)(R.Z,{}):l||!a?(0,A.jsx)(S.Z,{}):(0,A.jsxs)(P.Z,{py:"40px",children:[(0,A.jsx)(H.V,{}),(0,A.jsx)(c.Z,{mb:"40px",children:(0,A.jsx)(M(),{href:"/voting",passHref:!0,children:(0,A.jsx)(E.Z,{as:"a",variant:"text",startIcon:(0,A.jsx)(F.Z,{color:"primary",width:"24px"}),px:"0",children:m("Back to Vote Overview")})})}),(0,A.jsxs)(W.Z,{children:[(0,A.jsxs)(c.Z,{children:[(0,A.jsxs)(c.Z,{mb:"32px",children:[(0,A.jsxs)(h.Z,{alignItems:"center",mb:"8px",children:[(0,A.jsx)(V.U,{proposalState:a.state}),(0,A.jsx)(V.g,{isCoreProposal:(0,U.md)(a),ml:"8px"})]}),(0,A.jsx)(G.Z,{as:"h1",scale:"xl",mb:"16px",children:a.title}),(0,A.jsx)(c.Z,{children:(0,A.jsx)(Q.Z,{children:a.body})})]}),!s&&!r&&a.state===L.r7.ACTIVE&&(0,A.jsx)(aN,{proposal:a,onSuccess:q,mb:"16px"}),(0,A.jsx)(a_,{votes:b,totalVotes:null!==(d=null==b?void 0:b.length)&& void 0!==d?d:a.votes,votesLoadingStatus:g})]}),(0,A.jsxs)(c.Z,{position:"sticky",top:"60px",children:[(0,A.jsx)(af,{proposal:a}),(0,A.jsx)(al,{choices:a.choices,votes:b,votesLoadingStatus:g})]})]})]})},a1=!0,a2=function(b){var a=b.fallback;return(0,A.jsx)(B.J$,{value:{fallback:void 0===a?{}:a},children:(0,A.jsx)(a0,{})})}},72006:function(f,b,a){"use strict";var g=a(7297),h=a(85893),c=a(87379),i=a(14715),j=a(59750),k=a(97114),l=a(96293),m=a(83559),n=a(99150),d=a(41664),o=a.n(d);function e(){var a=(0,g.Z)(["\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n  height: calc(100vh - 64px);\n  justify-content: center;\n"]);return e=function(){return a},a}var p=c.ZP.div.withConfig({componentId:"sc-f5ada4a8-0"})(e());b.Z=function(){var a=(0,n.$G)().t;return(0,h.jsx)(m.Z,{children:(0,h.jsxs)(p,{children:[(0,h.jsx)(i.Z,{width:"64px",mb:"8px"}),(0,h.jsx)(j.Z,{scale:"xxl",children:"404"}),(0,h.jsx)(k.Z,{mb:"16px",children:a("Oops, page not found.")}),(0,h.jsx)(o(),{href:"/",passHref:!0,children:(0,h.jsx)(l.Z,{as:"a",scale:"sm",children:a("Back Home")})})]})})}}},function(a){a.O(0,[2298,1752,5547,4907,938,9774,2888,179],function(){var b;return a(a.s=47889)}),_N_E=a.O()}])
//# sourceMappingURL=[id]-4f4691faf0accac2.js.map