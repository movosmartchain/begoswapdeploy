(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4734],{83978:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/create-profile",function(){return c(48191)}])},9511:function(i,c,a){"use strict";var j=a(7297),k=a(29815),d=a(85893),l=a(67294),b=a(87379),e=a(57247),f=a(94528);function g(){var a=(0,j.Z)(["\n  align-items: center;\n  color: ",";\n  display: flex;\n  justify-content: center;\n  padding-left: 4px;\n  padding-right: 4px;\n\n  "," {\n    padding-left: 8px;\n    padding-right: 8px;\n  }\n\n  "," {\n    padding-left: 16px;\n    padding-right: 16px;\n  }\n"]);return g=function(){return a},a}function h(){var a=(0,j.Z)(["\n  align-items: center;\n  display: flex;\n  flex-wrap: wrap;\n  list-style-type: none;\n\n  a {\n    color: ",";\n\n    &:hover {\n      color: ",";\n    }\n  }\n\n  ","\n"]);return h=function(){return a},a}var m=b.ZP.div.withConfig({componentId:"sc-2ed94c3a-0"}).withConfig({componentId:"sc-cc3a9a05-0"})(g(),function(a){return a.theme.colors.textDisabled},function(a){return a.theme.mediaQueries.sm},function(a){return a.theme.mediaQueries.md}),n=b.ZP.ul.withConfig({componentId:"sc-2ed94c3a-1"}).withConfig({componentId:"sc-cc3a9a05-1"})(h(),function(a){return a.theme.colors.primary},function(a){return a.theme.colors.primaryBright},e.Dh),o=(0,d.jsx)(f.Z,{color:"currentColor",width:"24px"});c.Z=function(a){var b,e,c=a.separator,f=a.children,g=(b=l.Children.toArray(f).filter(function(a){return(0,l.isValidElement)(a)}),e=void 0===c?o:c,b.reduce(function(a,b,c){return 0===c?(0,k.Z)(a).concat([b]):(0,k.Z)(a).concat([(0,d.jsx)(m,{"aria-hidden":!0,children:e},"separator-".concat(c)),b,])},[]));return(0,d.jsx)(n,{children:g.map(function(a,b){return(0,d.jsx)("li",{children:a},"child-".concat(b))})})}},38144:function(j,c,a){"use strict";a.d(c,{Z:function(){return s}});var k=a(26042),l=a(69396),m=a(99534),n=a(85893);a(67294);var o=a(7297),b=a(87379),d=a(57247),e=a(7180);function f(){var a=(0,o.Z)(["\n  0% {\n    background-position: 50% 0%;\n  }\n  50% {\n    background-position: 50% 100%;\n  }\n  100% {\n    background-position: 50% 0%;\n  }\n"]);return f=function(){return a},a}function p(){var a=(0,o.Z)(["\n      animation: "," 3s ease infinite;\n      background-size: 400% 400%;\n    "]);return p=function(){return a},a}function g(){var a=(0,o.Z)(["\n  background: ",";\n  border-radius: ",";\n  color: ",";\n  overflow: hidden;\n  position: relative;\n\n  ","\n\n  padding: 1px 1px 3px 1px;\n\n  ","\n"]);return g=function(){return a},a}function h(){var a=(0,o.Z)(["\n  width: 100%;\n  height: 100%;\n  overflow: ",";\n  background: ",";\n  border-radius: 8px;\n"]);return h=function(){return a},a}var q=(0,b.F4)(f()),i=b.ZP.div.withConfig({componentId:"sc-8a82d250-0"}).withConfig({componentId:"sc-4ec8cc93-0"})(g(),function(a){var c=a.isActive,d=a.isSuccess,e=a.isWarning,f=a.borderBackground,b=a.theme;return f||(e?b.colors.warning:d?b.colors.success:c?"linear-gradient(180deg, ".concat(b.colors.primaryBright,", ").concat(b.colors.secondary,")"):b.colors.cardBorder)},function(a){return a.theme.radii.card},function(a){var b=a.theme,c=a.isDisabled;return b.colors[c?"textDisabled":"text"]},function(a){return a.isActive&&(0,b.iv)(p(),q)},d.Dh),r=(0,b.ZP)(e.Z).withConfig({componentId:"sc-8a82d250-1"}).withConfig({componentId:"sc-4ec8cc93-1"})(h(),function(a){return a.hasCustomBorder?"initial":"inherit"},function(a){var c=a.theme,b=a.background;return null!=b?b:c.card.background});i.defaultProps={isActive:!1,isSuccess:!1,isWarning:!1,isDisabled:!1};var s=function(a){var c=a.ribbon,d=a.children,e=a.background,b=(0,m.Z)(a,["ribbon","children","background"]);return(0,n.jsx)(i,(0,l.Z)((0,k.Z)({},b),{children:(0,n.jsxs)(r,{background:e,hasCustomBorder:!!b.borderBackground,children:[c,d]})}))}},23774:function(g,c,a){"use strict";var h=a(7297),d=a(87379),e=a(57247);function f(){var a=(0,h.Z)(["\n  ","\n"]);return f=function(){return a},a}var b=d.ZP.div.withConfig({componentId:"sc-9863c04e-0"}).withConfig({componentId:"sc-ea05020-0"})(f(),e.Dh);b.defaultProps={p:"24px"},c.Z=b},63603:function(k,c,a){"use strict";a.d(c,{Z:function(){return s}});var l=a(7297),m=a(85893);a(67294);var b=a(87379),n=a(26042),o=a(69396),p=a(17058);function d(){var a=(0,l.Z)(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]);return d=function(){return a},a}function e(){var a=(0,l.Z)(["\n	0% {\n		transform: translatey(0px);\n	}\n	50% {\n		transform: translatey(10px);\n	}\n	100% {\n		transform: translatey(0px);\n	}\n"]);return e=function(){return a},a}function f(){var a=(0,l.Z)(["\n  position: relative;\n"]);return f=function(){return a},a}function g(){var a=(0,l.Z)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  animation: "," 2s linear infinite;\n  transform: translate3d(0, 0, 0);\n"]);return g=function(){return a},a}function h(){var a=(0,l.Z)(["\n  animation: "," 6s ease-in-out infinite;\n  transform: translate3d(0, 0, 0);\n"]);return h=function(){return a},a}var i=(0,b.F4)(d()),j=(0,b.F4)(e()),q=b.ZP.div.withConfig({componentId:"sc-b5a98cca-0"}).withConfig({componentId:"sc-fb2b5848-0"})(f());(0,b.ZP)(function(a){return(0,m.jsx)(p.Z,(0,o.Z)((0,n.Z)({viewBox:"0 0 128 128"},a),{children:(0,m.jsx)("image",{href:"/images/logo.png",width:"200px"})}))}).withConfig({componentId:"sc-b5a98cca-1"}).withConfig({componentId:"sc-fb2b5848-1"})(g(),i);var r=(0,b.ZP)(function(a){return(0,m.jsx)(p.Z,(0,o.Z)((0,n.Z)({viewBox:"0 0 256 256"},a),{children:(0,m.jsx)("image",{href:"/images/logo.png",width:"256px"})}))}).withConfig({componentId:"sc-b5a98cca-2"}).withConfig({componentId:"sc-fb2b5848-2"})(h(),j),s=function(b){var a=b.size;return(0,m.jsx)(q,{children:(0,m.jsx)(r,{width:"".concat(void 0===a?128:a,"px")})})}},16863:function(c,b,a){"use strict";var d=a(26042),e=a(69396),f=a(85893);a(67294);var g=a(17058);b.Z=function(a){return(0,f.jsx)(g.Z,(0,e.Z)((0,d.Z)({viewBox:"0 0 24 24"},a),{children:(0,f.jsx)("path",{d:"M5 13H16.17L11.29 17.88C10.9 18.27 10.9 18.91 11.29 19.3C11.68 19.69 12.31 19.69 12.7 19.3L19.29 12.71C19.68 12.32 19.68 11.69 19.29 11.3L12.71 4.7C12.32 4.31 11.69 4.31 11.3 4.7C10.91 5.09 10.91 5.72 11.3 6.11L16.17 11H5C4.45 11 4 11.45 4 12C4 12.55 4.45 13 5 13Z"})}))}},60526:function(c,b,a){"use strict";var d=a(26042),e=a(69396),f=a(85893);a(67294);var g=a(17058);b.Z=function(a){return(0,f.jsx)(g.Z,(0,e.Z)((0,d.Z)({viewBox:"0 0 24 24"},a),{children:(0,f.jsx)("path",{d:"M9.00012 16.2L5.50012 12.7C5.11012 12.31 4.49012 12.31 4.10012 12.7C3.71012 13.09 3.71012 13.71 4.10012 14.1L8.29012 18.29C8.68012 18.68 9.31012 18.68 9.70012 18.29L20.3001 7.70001C20.6901 7.31001 20.6901 6.69001 20.3001 6.30001C19.9101 5.91001 19.2901 5.91001 18.9001 6.30001L9.00012 16.2Z"})}))}},11051:function(c,b,a){"use strict";var d=a(26042),e=a(69396),f=a(85893);a(67294);var g=a(17058);b.Z=function(a){return(0,f.jsx)(g.Z,(0,e.Z)((0,d.Z)({viewBox:"0 0 24 24"},a),{children:(0,f.jsx)("path",{d:"M4 13C5.1 13 6 12.1 6 11C6 9.9 5.1 9 4 9C2.9 9 2 9.9 2 11C2 12.1 2.9 13 4 13ZM5.13 14.1C4.76 14.04 4.39 14 4 14C3.01 14 2.07 14.21 1.22 14.58C0.48 14.9 0 15.62 0 16.43V17C0 17.5523 0.447715 18 1 18H4.5V16.39C4.5 15.56 4.73 14.78 5.13 14.1ZM20 13C21.1 13 22 12.1 22 11C22 9.9 21.1 9 20 9C18.9 9 18 9.9 18 11C18 12.1 18.9 13 20 13ZM24 16.43C24 15.62 23.52 14.9 22.78 14.58C21.93 14.21 20.99 14 20 14C19.61 14 19.24 14.04 18.87 14.1C19.27 14.78 19.5 15.56 19.5 16.39V18H23C23.5523 18 24 17.5523 24 17V16.43ZM16.24 13.65C15.07 13.13 13.63 12.75 12 12.75C10.37 12.75 8.93 13.14 7.76 13.65C6.68 14.13 6 15.21 6 16.39V17C6 17.5523 6.44772 18 7 18H17C17.5523 18 18 17.5523 18 17V16.39C18 15.21 17.32 14.13 16.24 13.65ZM8.07 16C8.16 15.77 8.2 15.61 8.98 15.31C9.95 14.93 10.97 14.75 12 14.75C13.03 14.75 14.05 14.93 15.02 15.31C15.79 15.61 15.83 15.77 15.93 16H8.07ZM12 8C12.55 8 13 8.45 13 9C13 9.55 12.55 10 12 10C11.45 10 11 9.55 11 9C11 8.45 11.45 8 12 8ZM12 6C10.34 6 9 7.34 9 9C9 10.66 10.34 12 12 12C13.66 12 15 10.66 15 9C15 7.34 13.66 6 12 6Z"})}))}},36196:function(f,b,a){"use strict";var g=a(7297),h=a(85893),c=a(87379),i=a(63603),d=a(83559);function e(){var a=(0,g.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return e=function(){return a},a}var j=(0,c.ZP)(d.Z).withConfig({componentId:"sc-fb23314c-0"})(e());b.Z=function(){return(0,h.jsx)(j,{children:(0,h.jsx)(i.Z,{})})}},48191:function(D,e,a){"use strict";a.r(e),a.d(e,{default:function(){return a5}});var c,f,E=a(85893),k=a(67294),F=a(77044),G=a(83559),H=a(43738),I=a(36196),J=a(11163),K=a(7297),b=a(87379),L=a(59750),M=a(97114),N=a(80421),O=a(96293),P=a(9511),Q=a(99150),g=a(47568),R=a(26042),S=a(69396),l=a(34051),h=a.n(l),m=a(39907),i=a(61744),n=(0,i.vz)("1"),o=(0,i.vz)("0.5"),T=["5","6","7","8","9"],j=n.add(o),p=j.mul(5),U={isInitialized:!1,currentStep:0,teamId:null,selectedNft:{collectionAddress:null,tokenId:null},userName:"",minimumCakeRequired:j,allowance:p},V=function(a,b){switch(b.type){case"initialize":return(0,S.Z)((0,R.Z)({},a),{isInitialized:!0,currentStep:b.step});case"next_step":return(0,S.Z)((0,R.Z)({},a),{currentStep:a.currentStep+1});case"set_team":return(0,S.Z)((0,R.Z)({},a),{teamId:b.teamId});case"set_selected_nft":return(0,S.Z)((0,R.Z)({},a),{selectedNft:{tokenId:b.tokenId,collectionAddress:b.collectionAddress}});case"set_username":return(0,S.Z)((0,R.Z)({},a),{userName:b.userName});default:return a}},W=(0,k.createContext)(null),X=function(c){var d=c.children,a=(0,k.useReducer)(V,U),e=a[0],b=a[1],f=(0,F.Ge)().account;(0,k.useEffect)(function(){var a,d=!0,c=(a=(0,g.Z)(h().mark(function a(){var c,e;return h().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return c=(0,m.mU)(),a.next=3,c.canMint(f);case 3:b({type:"initialize",step:(e=a.sent)?0:1}),d&&b({type:"initialize",step:e?0:1});case 6:case"end":return a.stop()}},a)})),function(){return a.apply(this,arguments)});return f&&c(),function(){d=!1}},[f,b]);var i=(0,k.useMemo)(function(){return{nextStep:function(){return b({type:"next_step"})},setTeamId:function(a){return b({type:"set_team",teamId:a})},setSelectedNft:function(a,c){return b({type:"set_selected_nft",tokenId:a,collectionAddress:c})},setUserName:function(a){return b({type:"set_username",userName:a})}}},[b]);return(0,E.jsx)(W.Provider,{value:(0,S.Z)((0,R.Z)({},e),{actions:i}),children:d})};function q(){var a=(0,K.Z)(["\n  border-bottom: 2px solid ",";\n  margin-top: 32px;\n  margin-bottom: 24px;\n  padding-bottom: 24px;\n"]);return q=function(){return a},a}var Y=b.ZP.div.withConfig({componentId:"sc-78ea4b4d-0"})(q(),function(a){return a.theme.colors.textSubtle}),Z=function(){var b,a=(0,Q.$G)().t,c=(0,k.useContext)(W).currentStep;return(0,E.jsxs)(Y,{children:[(0,E.jsx)(L.Z,{as:"h1",scale:"xxl",color:"secondary",mb:"8px",id:"profile-setup-title",children:a("Profile Setup")}),(0,E.jsx)(L.Z,{as:"h2",scale:"lg",mb:"8px",children:a("Show off your stats and collectibles with your unique profile")}),(0,E.jsx)(M.Z,{color:"textSubtle",mb:"8px",children:a("Total cost: 1.5 CAKE")}),(0,E.jsx)(N.Z,{href:"/profile",children:(0,E.jsx)(O.Z,{mb:"24px",scale:"sm",variant:"secondary",children:a("Back to profile")})}),(0,E.jsx)(P.Z,{children:[(b=a)("Get Starter Collectible"),b("Set Profile Picture"),b("Join Team"),b("Set Name"),].map(function(b,d){return(0,E.jsx)(M.Z,{color:d<=c?"text":"textDisabled",children:b},a(b))})})]})},$=a(30621),_=function(){var a=(0,Q.$G)().t;return(0,E.jsxs)("div",{children:[(0,E.jsx)(L.Z,{scale:"xl",mb:"8px",children:a("Oops!")}),(0,E.jsx)(M.Z,{as:"p",mb:"16px",children:a("Please connect your wallet to continue")}),(0,E.jsx)($.Z,{})]})},aa=a(38144),ab=a(23774),ac=a(67218),ad=a(5039),ae=a(24319),af=a(71228),ag=a(75673),ah=a(789),ai=a(86849),aj=a(40580),ak=a(21600),al=a(97971),am=a(74136),an=a(16863),ao=function(a){return(0,E.jsx)(O.Z,(0,R.Z)({endIcon:(0,E.jsx)(an.Z,{color:"currentColor"})},a))},ap=function(){return(0,k.useContext)(W)},aq=function(){var e=(0,k.useState)(""),r=e[0],y=e[1],f=(0,k.useState)([]),j=f[0],z=f[1],c=ap(),s=c.actions,A=c.minimumCakeRequired,B=c.allowance,C=(0,ah.Z)().toastSuccess,D=(0,F.Ge)().account,l=(0,ad.kL)(),G=l.reader,H=l.signer,I=(0,ad.LN)(),a=(0,Q.$G)().t,m=(0,ae.Nn)(),t=m.balance,u=m.fetchStatus,o=u===al.iF.Fetched&&t.gte(n),J=(0,af.d)().callWithGasPrice;(0,k.useEffect)(function(){var a,b=(a=(0,g.Z)(h().mark(function a(){var b,c,d;return h().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,ai.Rq)(aj.J);case 2:if(b=a.sent){a.next=5;break}return a.abrupt("return");case 5:c=b.data,z(d=T.map(function(a){if(c&&c[a])return(0,S.Z)((0,R.Z)({},c[a]),{bunnyId:a})}));case 8:case"end":return a.stop()}},a)})),function(){return a.apply(this,arguments)});0===j.length&&b()},[j]);var b=(0,ac.Z)({onRequiresApproval:(0,g.Z)(h().mark(function a(){return h().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,ak.S)(G,D,I.address,A));case 1:case"end":return a.stop()}},a)})),onApprove:function(){return J(H,"approve",[I.address,B.toString()])},onConfirm:function(){return J(I,"mintNFT",[r])},onApproveSuccess:function(){C(a("Enabled"),a("Press 'confirm' to mint this NFT"))},onSuccess:function(){C(a("Success"),a("You have minted your starter NFT")),s.nextStep()}}),v=b.isApproving,p=b.isApproved,d=b.isConfirmed,q=b.isConfirming,w=b.handleApprove,x=b.handleConfirm;return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(M.Z,{fontSize:"20px",color:"textSubtle",bold:!0,children:a("Step %num%",{num:1})}),(0,E.jsx)(L.Z,{as:"h3",scale:"xl",mb:"24px",children:a("Get Starter Collectible")}),(0,E.jsx)(M.Z,{as:"p",children:a("Every profile starts by making a \u201Cstarter\u201D collectible (NFT).")}),(0,E.jsx)(M.Z,{as:"p",children:a("This starter will also become your first profile picture.")}),(0,E.jsx)(M.Z,{as:"p",mb:"24px",children:a("You can change your profile pic later if you get another approved Pancake Collectible.")}),(0,E.jsx)(aa.Z,{mb:"24px",children:(0,E.jsxs)(ab.Z,{children:[(0,E.jsx)(L.Z,{as:"h4",scale:"lg",mb:"8px",children:a("Choose your Starter!")}),(0,E.jsx)(M.Z,{as:"p",color:"textSubtle",children:a("Choose wisely: you can only ever make one starter collectible!")}),(0,E.jsx)(M.Z,{as:"p",mb:"24px",color:"textSubtle",children:a("Cost: %num% CAKE",{num:(0,i.bM)(n)})}),j.map(function(a){return(0,E.jsx)(am.Z,{name:"mintStarter",value:null==a?void 0:a.bunnyId,image:null==a?void 0:a.image.thumbnail,isChecked:r===(null==a?void 0:a.bunnyId),onChange:function(a){return y(a)},disabled:v||q||d||!o,children:(0,E.jsx)(M.Z,{bold:!0,children:null==a?void 0:a.name})},null==a?void 0:a.name)}),!o&&(0,E.jsx)(M.Z,{color:"failure",mb:"16px",children:a("A minimum of %num% CAKE is required",{num:(0,i.bM)(n)})}),(0,E.jsx)(ag.Z,{isApproveDisabled:null===r||d||q||p,isApproving:v,isConfirmDisabled:!p||d||!o,isConfirming:q,onApprove:w,onConfirm:x})]})}),(0,E.jsx)(ao,{onClick:s.nextStep,disabled:!d,children:a("Next Step")})]})},ar=a(84091),as=a(19729),r=a(53629),at=a(96273),au=a(71418),av=a(75186),aw=a(41144),ax=a(92335),ay=a(10056);function s(){var a=(0,K.Z)(["\n  color: ",";\n"]);return s=function(){return a},a}function t(){var a=(0,K.Z)(["\n  margin-bottom: 24px;\n"]);return t=function(){return a},a}var az,u,aA=(0,b.ZP)(r.a).withConfig({componentId:"sc-9d03cb68-0"})(s(),function(a){return a.theme.colors.primary}),aB=b.ZP.div.withConfig({componentId:"sc-9d03cb68-1"})(t()),aC=function(){var d=(0,F.Ge)(),q=d.account,z=d.library,e=(0,k.useState)(!1),f=e[0],A=e[1],i=(0,k.useState)(null),b=i[0],B=i[1],j=(0,k.useContext)(W),l=j.selectedNft,r=j.actions,s=(0,ad.wr)(!1),n=(0,H.Un)(),t=n.isLoading,u=n.profile,o=(0,ay.L)(q,u,t),v=o.nfts,w=o.isLoading;(0,k.useEffect)(function(){var a,b=(a=(0,g.Z)(h().mark(function a(){var b,c,d,e,f;return h().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,!((b=Array.from(v.reduce(function(a,b){return a.add(b.collectionAddress),a},new Set))).length>0)){a.next=12;break}return a.next=5,s.NFT_ROLE();case 5:return c=a.sent,d=b.map(function(a){return{address:s.address,name:"hasRole",params:[c,a]}}),a.next=9,(0,aw.Z)(ax,d);case 9:f=(e=a.sent).flat(),B(v.filter(function(a){return f[b.indexOf(a.collectionAddress)]}));case 12:a.next=17;break;case 14:a.prev=14,a.t0=a.catch(0),console.error(a.t0);case 17:case"end":return a.stop()}},a,null,[[0,14]])})),function(){return a.apply(this,arguments)});w||b()},[v,s,w]);var x,a=(0,Q.$G)().t,C=(0,ah.Z)().toastSuccess,p=(0,au.Z)(),D=p.fetchWithCatchTxError,c=p.loading,G=(0,af.d)().callWithGasPrice,y=(x=(0,g.Z)(h().mark(function b(){var c,d;return h().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return c=(0,m.vE)(l.collectionAddress,z.getSigner()),b.next=3,D(function(){return G(c,"approve",[(0,at.Re)(),l.tokenId])});case 3:(null==(d=b.sent)?void 0:d.status)&&(C(a("Enabled"),a("Please progress to the next step.")),A(!0));case 5:case"end":return b.stop()}},b)})),function(){return x.apply(this,arguments)});return(null==b?void 0:b.length)===0?(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(L.Z,{scale:"xl",mb:"24px",children:a("Oops!")}),(0,E.jsx)(M.Z,{bold:!0,fontSize:"20px",mb:"24px",children:a("We couldn\u2019t find any Pancake Collectibles in your wallet.")}),(0,E.jsx)(M.Z,{as:"p",children:a("You need a Pancake Collectible to finish setting up your profile. If you sold or transferred your starter collectible to another wallet, you\u2019ll need to get it back or acquire a new one somehow. You can\u2019t make a new starter with this wallet address.")})]}):(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(M.Z,{fontSize:"20px",color:"textSubtle",bold:!0,children:a("Step %num%",{num:2})}),(0,E.jsx)(L.Z,{as:"h3",scale:"xl",mb:"24px",children:a("Set Profile Picture")}),(0,E.jsx)(aa.Z,{mb:"24px",children:(0,E.jsxs)(ab.Z,{children:[(0,E.jsx)(L.Z,{as:"h4",scale:"lg",mb:"8px",children:a("Choose collectible")}),(0,E.jsx)(M.Z,{as:"p",color:"textSubtle",children:a("Choose a profile picture from the eligible collectibles (NFT) in your wallet, shown below.")}),(0,E.jsxs)(M.Z,{as:"p",color:"textSubtle",mb:"24px",children:[a("Only approved Pancake Collectibles can be used."),(0,E.jsx)(aA,{to:"".concat(aj.V,"/collections"),style:{marginLeft:"4px"},children:a("See the list >")})]}),(0,E.jsx)(aB,{children:(null==b?void 0:b.length)>0?b.filter(function(a){return a.location===av.Fb.WALLET}).map(function(a){return(0,E.jsx)(am.Z,{name:"profilePicture",value:a.tokenId,image:a.image.thumbnail,isChecked:a.tokenId===l.tokenId,onChange:function(b){return r.setSelectedNft(b,a.collectionAddress)},children:(0,E.jsx)(M.Z,{bold:!0,children:a.name})},"".concat(a.collectionAddress,"#").concat(a.tokenId))}):(0,E.jsx)(ar.Z,{width:"100%",height:"64px"})}),(0,E.jsx)(L.Z,{as:"h4",scale:"lg",mb:"8px",children:a("Allow collectible to be locked")}),(0,E.jsx)(M.Z,{as:"p",color:"textSubtle",mb:"16px",children:a("The collectible you've chosen will be locked in a smart contract while it\u2019s being used as your profile picture. Don't worry - you'll be able to get it back at any time.")}),(0,E.jsx)(O.Z,{isLoading:c,disabled:f||c||null===l.tokenId,onClick:y,endIcon:c?(0,E.jsx)(as.Z,{spin:!0,color:"currentColor"}):void 0,id:"approveStarterCollectible",children:a("Enable")})]})}),(0,E.jsx)(ao,{onClick:r.nextStep,disabled:null===l.tokenId||!f||c,children:a("Next Step")})]})},v=a(4318),aD=a(11051),aE=a(8100),w=a(69983),aF=a.n(w),aG=a(14924),x=a(82492),aH=a.n(x),d=a(37519),y=[{id:1,name:"Syrup Storm",description:"The storm's a-comin! Watch out! These bulls are stampeding in a syrupy surge!",images:{lg:"syrup-storm-lg.png",md:"syrup-storm-md.png",sm:"syrup-storm-sm.png",alt:"syrup-storm-alt.png",ipfs:"".concat(d.Gs,"/QmXKzSojwzYjtDCVgR6mVx7w7DbyYpS7zip4ovJB9fQdMG/syrup-storm.png")},background:"syrup-storm-bg.svg",textColor:"#191326",users:0,points:0},{id:2,name:"Fearsome Flippers",description:"The flippening is coming. Don't get in these bunnies' way, or you'll get flipped, too!",images:{lg:"fearsome-flippers-lg.png",md:"fearsome-flippers-md.png",sm:"fearsome-flippers-sm.png",alt:"fearsome-flippers-alt.png",ipfs:"".concat(d.Gs,"/QmXKzSojwzYjtDCVgR6mVx7w7DbyYpS7zip4ovJB9fQdMG/fearsome-flippers.png")},background:"fearsome-flippers-bg.svg",textColor:"#FFFFFF",users:0,points:0},{id:3,name:"Chaotic Cakers",description:"Can you stand the heat? Stay out of the kitchen or you might get burned to a crisp!",images:{lg:"chaotic-cakers-lg.png",md:"chaotic-cakers-md.png",sm:"chaotic-cakers-sm.png",alt:"chaotic-cakers-alt.png",ipfs:"".concat(d.Gs,"/QmXKzSojwzYjtDCVgR6mVx7w7DbyYpS7zip4ovJB9fQdMG/chaotic-cakers.png")},background:"chaotic-cakers-bg.svg",textColor:"#191326",users:0,points:0},],aI=y,aJ=(0,m.Y4)();(0,g.Z)(h().mark(function a(b){var c,d,e,f,g,i;return h().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,aJ.getTeamProfile(b);case 3:return d=(c=a.sent)[0],e=c[2],f=c[3],g=c[4],i=aI.find(function(a){return a.id===b}),a.abrupt("return",aH()({},i,{isJoinable:g,name:d,users:e.toNumber(),points:f.toNumber()}));case 12:return a.prev=12,a.t0=a.catch(0),a.abrupt("return",null);case 15:case"end":return a.stop()}},a,null,[[0,12]])}));var aK=(u=(0,g.Z)(h().mark(function a(){var b,c,d,e,f,g;return h().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,b=aI.reduce(function(b,a){return(0,S.Z)((0,R.Z)({},b),(0,aG.Z)({},a.id,a))},{}),a.next=4,aJ.numberTeams();case 4:for(e=1,c=a.sent,d=[];e<=c.toNumber();e++)d.push({address:(0,at.Re)(),name:"getTeamProfile",params:[e]});return a.next=9,(0,aw.v)(ax,d);case 9:return g=(f=a.sent).reduce(function(b,a,c){var d=a[0],e=a[2],f=a[3],g=a[4];return(0,S.Z)((0,R.Z)({},b),(0,aG.Z)({},c+1,{name:d,users:e.toNumber(),points:f.toNumber(),isJoinable:g}))},{}),a.abrupt("return",aH()({},b,g));case 14:return a.prev=14,a.t0=a.catch(0),a.abrupt("return",null);case 17:case"end":return a.stop()}},a,null,[[0,14]])})),function(){return u.apply(this,arguments)}),aL=function(){var b=ap(),d=b.teamId,e=b.actions,a=(0,Q.$G)().t,f=(0,aE.ZP)("teams",(0,g.Z)(h().mark(function a(){return h().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",aK());case 1:case"end":return a.stop()}},a)}))).data,c=(0,k.useMemo)(function(){return f?aF()(Object.values(f)):[]},[f]);return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(M.Z,{fontSize:"20px",color:"textSubtle",bold:!0,children:a("Step %num%",{num:3})}),(0,E.jsx)(L.Z,{as:"h3",scale:"xl",mb:"24px",children:a("Join a Team")}),(0,E.jsx)(M.Z,{as:"p",mb:"24px",children:a("It won\u2019t be possible to undo the choice you make for the foreseeable future!")}),(0,E.jsx)(aa.Z,{mb:"24px",children:(0,E.jsxs)(ab.Z,{children:[(0,E.jsx)(L.Z,{as:"h4",scale:"lg",mb:"8px",children:a("Join a Team")}),(0,E.jsx)(M.Z,{as:"p",color:"textSubtle",mb:"24px",children:a("There\u2019s currently no big difference between teams, and no benefit of joining one team over another for now. So pick whichever one you like!")}),c&&c.map(function(a){return(0,E.jsxs)(am.Z,{name:"teams-selection",value:a.id,isChecked:d===a.id,image:"/images/teams/".concat(a.images.md),onChange:function(a){return e.setTeamId(parseInt(a,10))},disabled:!a.isJoinable,children:[(0,E.jsx)(M.Z,{bold:!0,children:a.name}),(0,E.jsxs)(v.Z,{children:[(0,E.jsx)(aD.Z,{mr:"8px"}),(0,E.jsx)(M.Z,{children:a.users.toLocaleString()})]})]},a.name)})]})}),(0,E.jsx)(ao,{onClick:e.nextStep,disabled:null===d,children:a("Next Step")})]})},aM=a(82670),aN=a(10253),z=a(5324),aO=a(65528),aP=a(60526),aQ=a(42688),aR=a(19731),aS=a(65848),aT=a(23855),aU=a(85906),aV=a(81141),aW=a(99534),aX=function(c){var a=arguments.length>1&& void 0!==arguments[1]?arguments[1]:{},b=a.timeout,e=void 0===b?1e4:b,d=(0,aW.Z)(a,["timeout"]);return Promise.race([fetch(c,d),new Promise(function(a,b){setTimeout(function(){b(Error("Request for ".concat(c," timed out after ").concat(e," milliseconds")))},e)}),])},aY=a(90452),aZ=a(63964),a$=function(a){var k,q=a.account,r=a.teamId,s=a.selectedNft,t=a.minimumCakeRequired,u=a.allowance,l=a.onDismiss,c=(0,Q.$G)().t,w=(0,ad.wr)(),x=(0,H.Un)().refresh,y=(0,ah.Z)().toastSuccess,d=(0,ad.kL)(),z=d.reader,A=d.signer,B=(0,af.d)().callWithGasPrice,b=(0,ac.Z)({onRequiresApproval:(0,g.Z)(h().mark(function a(){return h().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,ak.S)(z,q,w.address,t));case 1:case"end":return a.stop()}},a)})),onApprove:function(){return B(A,"approve",[w.address,u.toJSON()])},onConfirm:function(){return B(w,"createProfile",[r,s.collectionAddress,s.tokenId,])},onSuccess:(k=(0,g.Z)(h().mark(function a(b){var d;return h().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:d=b.receipt,x(),l(),y(c("Profile created!"),(0,E.jsx)(aZ.YO,{txHash:d.transactionHash}));case 4:case"end":return a.stop()}},a)})),function(a){return k.apply(this,arguments)})}),m=b.isApproving,e=b.isApproved,f=b.isConfirmed,j=b.isConfirming,n=b.handleApprove,p=b.handleConfirm;return(0,E.jsxs)(aY.Z,{title:c("Complete Profile"),onDismiss:l,children:[(0,E.jsx)(M.Z,{color:"textSubtle",mb:"8px",children:c("Submitting NFT to contract and confirming User Name and Team.")}),(0,E.jsxs)(v.Z,{justifyContent:"space-between",mb:"16px",children:[(0,E.jsx)(M.Z,{children:c("Cost")}),(0,E.jsx)(M.Z,{children:c("%num% CAKE",{num:(0,i.bM)(o)})})]}),(0,E.jsx)(ag.Z,{isApproveDisabled:f||j||e,isApproving:m,isConfirmDisabled:!e||f,isConfirming:j,onApprove:n,onConfirm:p})]})},a_=a(55999);function A(){var a=(0,K.Z)(["\n  position: relative;\n  max-width: 240px;\n"]);return A=function(){return a},a}function B(){var a=(0,K.Z)(["\n  padding-right: 40px;\n"]);return B=function(){return a},a}function C(){var a=(0,K.Z)(["\n  align-items: center;\n  height: 24px;\n  justify-content: center;\n  margin-top: -12px;\n  position: absolute;\n  right: 16px;\n  top: 50%;\n  width: 24px;\n"]);return C=function(){return a},a}(c=f||(f={})).IDLE="idle",c.CREATED="created",c.NEW="new";var a0=b.ZP.div.withConfig({componentId:"sc-3eff2202-0"})(A()),a1=(0,b.ZP)(z.Z).withConfig({componentId:"sc-3eff2202-1"})(B()),a2=(0,b.ZP)(v.Z).withConfig({componentId:"sc-3eff2202-2"})(C()),a3=function(){var l=(0,k.useState)(!1),m=l[0],W=l[1],b=ap(),x=b.teamId,y=b.selectedNft,c=b.userName,z=b.actions,A=b.minimumCakeRequired,B=b.allowance,a=(0,Q.$G)().t,n=(0,F.Ge)().account,C=(0,ah.Z)().toastError,X=(0,aV.QW)().signMessageAsync,p=(0,k.useState)(f.IDLE),q=p[0],D=p[1],r=(0,k.useState)(!1),d=r[0],G=r[1],s=(0,k.useState)(!1),e=s[0],Y=s[1],t=(0,k.useState)(""),H=t[0],I=t[1],Z=(0,k.useRef)(null),u=(0,ae.Nn)(),J=u.balance,K=u.fetchStatus,N=K===al.iF.Fetched&&J.gte(o),P=(0,aN.Z)((0,aO.Z)((0,E.jsx)(a$,{userName:c,selectedNft:y,account:n,teamId:x,minimumCakeRequired:A,allowance:B}),!1),1),R=P[0],j=q===f.CREATED,w=(0,k.useState)(void 0),S=w[0],$=w[1],T=(0,a_.Z)(S,200);(0,k.useEffect)(function(){var b,c=(b=(0,g.Z)(h().mark(function b(c){var d,e,f;return h().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(b.prev=0,Y(!0),T){b.next=6;break}G(!1),I(""),Z.current=null,b.next=20;break;case 6:return b.next=8,aX("".concat(aU.dm,"/api/users/valid/").concat(T),{method:"get",signal:c,timeout:3e4});case 8:if(d=b.sent,Z.current=null,!d.ok){b.next=14;break}G(!0),I(""),b.next=20;break;case 14:return b.next=17,d.json();case 17:f=b.sent,G(!1),I(null==f?void 0:null===(e=f.error)|| void 0===e?void 0:e.message);case 20:b.next=26;break;case 22:b.prev=22,b.t0=b.catch(0),G(!1),(0,aM.Z)(b.t0,Error)&&"AbortError"!==b.t0.name&&(I(a("Error fetching data")),console.error(b.t0));case 26:return b.prev=26,Y(!1),b.finish(26);case 29:case"end":return b.stop()}},b,null,[[0,22,26,29]])})),function(a){return b.apply(this,arguments)});Z.current&&Z.current.abort(),Z.current=new AbortController,c(Z.current.signal)},[T,a]);var U,V=(U=(0,g.Z)(h().mark(function b(){var d,e,g,i;return h().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.prev=0,Y(!0),b.next=4,X({message:c});case 4:return d=b.sent,b.next=7,fetch("".concat(aU.dm,"/api/users/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({address:n,username:c,signature:d})});case 7:if(!(e=b.sent).ok){b.next=12;break}D(f.CREATED),b.next=17;break;case 12:return b.next=15,e.json();case 15:i=b.sent,C(a("Error"),null==i?void 0:null===(g=i.error)|| void 0===g?void 0:g.message);case 17:b.next=22;break;case 19:b.prev=19,b.t0=b.catch(0),C((0,aM.Z)(b.t0,Error)&&(null===b.t0|| void 0===b.t0?void 0:b.t0.message)?b.t0.message:JSON.stringify(b.t0));case 22:return b.prev=22,Y(!1),b.finish(22);case 25:case"end":return b.stop()}},b,null,[[0,19,22,25]])})),function(){return U.apply(this,arguments)});return(0,k.useEffect)(function(){var b,c=(b=(0,g.Z)(h().mark(function b(){var c,d,e;return h().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.prev=0,b.next=3,fetch("".concat(aU.dm,"/api/users/").concat(n));case 3:return c=b.sent,b.next=6,c.json();case 6:d=b.sent,c.ok?(e=(0,aS.Z)((0,aT.default)(d.created_at),new Date),I(a("Created %dateCreated% ago",{dateCreated:e})),z.setUserName(d.username),D(f.CREATED),G(!0)):D(f.NEW),b.next=13;break;case 10:b.prev=10,b.t0=b.catch(0),C(a("Error"),a("Unable to verify username"));case 13:case"end":return b.stop()}},b,null,[[0,10]])})),function(){return b.apply(this,arguments)});n&&c()},[n,D,G,I,z,C,a]),(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(M.Z,{fontSize:"20px",color:"textSubtle",bold:!0,children:a("Step %num%",{num:4})}),(0,E.jsx)(L.Z,{as:"h3",scale:"xl",mb:"24px",children:a("Set Your Name")}),(0,E.jsx)(M.Z,{as:"p",mb:"24px",children:a("This name will be shown in team leaderboards and search results as long as your profile is active.")}),(0,E.jsx)(aa.Z,{mb:"24px",children:(0,E.jsxs)(ab.Z,{children:[(0,E.jsx)(L.Z,{as:"h4",scale:"lg",mb:"8px",children:a("Set Your Name")}),(0,E.jsx)(M.Z,{as:"p",color:"textSubtle",mb:"24px",children:a("Your name must be at least 3 and at most 15 standard letters and numbers long. You can\u2019t change this once you click Confirm.")}),q===f.IDLE?(0,E.jsx)(ar.Z,{height:"40px",width:"240px"}):(0,E.jsxs)(a0,{children:[(0,E.jsx)(a1,{onChange:function(b){var a=b.target.value;z.setUserName(a),$(a)},isWarning:c&&!d,isSuccess:c&&d,minLength:3,maxLength:15,disabled:j,placeholder:a("Enter your name..."),value:c}),(0,E.jsxs)(a2,{children:[e&&(0,E.jsx)(as.Z,{spin:!0}),!e&&d&&c&&(0,E.jsx)(aP.Z,{color:"success"}),!e&&!d&&c&&(0,E.jsx)(aQ.Z,{color:"failure"})]})]}),(0,E.jsx)(M.Z,{color:"textSubtle",fontSize:"14px",py:"4px",mb:"16px",style:{minHeight:"30px"},children:H}),(0,E.jsx)(M.Z,{as:"p",color:"failure",mb:"8px",children:a("Only reuse a name from other social media if you're OK with people viewing your wallet. You can't change your name once you click Confirm.")}),(0,E.jsx)("label",{htmlFor:"checkbox",style:{display:"block",cursor:"pointer",marginBottom:"24px"},children:(0,E.jsxs)(v.Z,{alignItems:"center",children:[(0,E.jsx)("div",{style:{flex:"none"},children:(0,E.jsx)(aR.Z,{id:"checkbox",scale:"sm",checked:m,onChange:function(){return W(!m)}})}),(0,E.jsx)(M.Z,{ml:"8px",children:a("I understand that people can view my wallet if they know my username")})]})}),(0,E.jsx)(O.Z,{onClick:V,disabled:!d||j||e||!m,children:a("Confirm")})]})}),(0,E.jsx)(O.Z,{onClick:R,disabled:!d||!j,id:"completeProfileCreation",children:a("Complete Profile")}),!N&&(0,E.jsx)(M.Z,{color:"failure",mt:"16px",children:a("A minimum of %num% CAKE is required",{num:(0,i.bM)(o)})})]})},a4=function(){var c=(0,Q.$G)().t,b=(0,k.useContext)(W),d=b.isInitialized,a=b.currentStep,e=(0,F.Ge)().account;return e?d?0===a?(0,E.jsx)(aq,{}):1===a?(0,E.jsx)(aC,{}):2===a?(0,E.jsx)(aL,{}):3===a?(0,E.jsx)(a3,{}):null:(0,E.jsx)("div",{children:c("Loading...")}):(0,E.jsx)(_,{})},a5=function(){var b=(0,F.Ge)().account,a=(0,H.Un)(),c=a.isInitialized,d=a.isLoading,e=a.hasProfile,f=(0,J.useRouter)();return((0,k.useEffect)(function(){b&&e&&f.push("/profile/".concat(b.toLowerCase()))},[b,e,f]),!c||d)?(0,E.jsx)(I.Z,{}):(0,E.jsx)(E.Fragment,{children:(0,E.jsx)(X,{children:(0,E.jsxs)(G.Z,{children:[(0,E.jsx)(Z,{}),(0,E.jsx)(a4,{})]})})})}},13968:function(f,b,a){"use strict";a.d(b,{D7:function(){return H},DI:function(){return F},IZ:function(){return C},YD:function(){return B},aA:function(){return D},fm:function(){return G},ly:function(){return K},mN:function(){return E},q4:function(){return I},t8:function(){return A},xm:function(){return J}});var g=a(47568),h=a(14924),i=a(26042),j=a(69396),c=a(34051),k=a.n(c),l=a(67294),m=a(9473),n=a(93293),o=a(97971),p=a(53400),q=a(38472),r=a(96273),s=a(8100),t=a(49770),d=a(41609),u=a.n(d),e=a(69983),v=a.n(e),w=a(86849),x={field:"currentAskPrice",direction:"asc"},y={typeFilters:[],collectionFilters:[]},z={},A=function(){var c,a=(0,s.ZP)(["nftMarket","collections"],(0,g.Z)(k().mark(function a(){return k().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,w.bG)());case 1:case"end":return a.stop()}},a)}))),b=a.data;return{data:null!=b?b:{},status:a.status}},B=function(c){var a=(0,n.UJ)(c)||"",b=(0,s.ZP)(a?["nftMarket","collections",a.toLowerCase()]:null,(0,g.Z)(k().mark(function b(){return k().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.abrupt("return",(0,w._N)(a));case 1:case"end":return b.stop()}},b)}))).data;return(null!=b?b:{})[a]},C=function(){var a=(0,t.Z)(["nftMarket","collections"],(0,g.Z)(k().mark(function a(){return k().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,w.bG)());case 1:case"end":return a.stop()}},a)}))).data,c=null!=a?a:{},b=(0,t.Z)(u()(c)?null:["nftMarket","shuffledCollections"],function(){return v()(c)}),d=b.data,e=b.status;return{data:d,status:e}},D=function(a){var b=(0,n.UJ)(a)||"";return(0,m.v9)(function(a){return a.nftMarket.data.nfts[b]})},E=function(b){var c=(0,l.useMemo)(function(){return b.map(function(a){var b=a.tokenId,c=a.collectionAddress;return{address:c,name:"getApproved",params:[b]}})},[b]),a=(0,q.d5)(p,c).data;return{data:Array.isArray(a)?a.flat().reduce(function(a,c,d){return(0,j.Z)((0,i.Z)({},a),(0,h.Z)({},b[d].tokenId,(0,r.Re)()===c))},{}):null}},F=function(b){var a=(0,m.v9)(function(a){return a.nftMarket.data.filters[b]});return a?a.activeFilters:z},G=function(b){var a=(0,m.v9)(function(a){return a.nftMarket.data.filters[b]});return a?a.loadingState:o.iF.Idle},H=function(b){var a=(0,m.v9)(function(a){return a.nftMarket.data.filters[b]});return a?a.ordering:x},I=function(b){var a=(0,m.v9)(function(a){return a.nftMarket.data.filters[b]});return!a||a.showOnlyOnSale},J=function(){var a=(0,m.v9)(function(a){return a.nftMarket.data.tryVideoNftMedia});return null==a||a},K=function(a){return(0,m.v9)(function(b){return b.nftMarket.data.activityFilters[a]})||y}}},function(a){a.O(0,[2492,3502,4408,9774,2888,179],function(){var b;return a(a.s=83978)}),_N_E=a.O()}])
//# sourceMappingURL=create-profile-6ef97cb81c41ee9d.js.map